!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};var n={},r={},i=t.parcelRequire15f9;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequire15f9=i),i.register("hKHmD",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}})),i.register("kMC0W",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return r.default(e)};var n,r=(n=i("8NIkP"))&&n.__esModule?n:{default:n}})),i.register("8NIkP",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}})),i.register("7AJDX",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}})),i.register("8CtQK",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),i.register("auk6i",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!e)return;if("string"==typeof e)return r.default(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r.default(e,t)};var n,r=(n=i("8NIkP"))&&n.__esModule?n:{default:n}})),i.register("8slrw",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return e}})),i.register("ifqQW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),i.register("ds8z5",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}})),i.register("gD1JV",(function(e,t){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return n(e,t)}})),i.register("ge8co",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){return a.apply(null,arguments)};var n,r=(n=i("gD1JV"))&&n.__esModule?n:{default:n};function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function a(e,t,n){return(a=o()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r.default(o,n.prototype),o}).apply(null,arguments)}})),i.register("cZGw3",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}})),i.register("fVNic",(function(e,t){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return n(e)}})),i.register("aTHs7",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}})),i.register("jmhxu",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return!t||"object"!==r.default(t)&&"function"!=typeof t?n.default(e):t};var n=o(i("ds8z5")),r=o(i("l5bVx"));function o(e){return e&&e.__esModule?e:{default:e}}})),i.register("l5bVx",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e}})),i.register("2mz0K",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r.default(e)););return e};var n,r=(n=i("fVNic"))&&n.__esModule?n:{default:n}}));var o,a,s={};o=void 0!==t?t:"undefined"!=typeof window?window:s,a=function(e){"use strict";if(void 0===e&&void 0===e.document)return!1;var t,n="Success",r="Failure",i="Warning",o="Info",a={wrapID:"NotiflixNotifyWrap",overlayID:"NotiflixNotifyOverlay",width:"280px",position:"right-top",distance:"10px",opacity:1,borderRadius:"5px",rtl:!1,timeout:3e3,messageMaxLength:110,backOverlay:!1,backOverlayColor:"rgba(0,0,0,0.5)",plainText:!0,showOnlyTheLastOne:!1,clickToClose:!1,pauseOnHover:!0,ID:"NotiflixNotify",className:"notiflix-notify",zindex:4001,fontFamily:"Quicksand",fontSize:"13px",cssAnimation:!0,cssAnimationDuration:400,cssAnimationStyle:"fade",closeButton:!1,useIcon:!0,useFontAwesome:!1,fontAwesomeIconStyle:"basic",fontAwesomeIconSize:"34px",success:{background:"#32c682",textColor:"#fff",childClassName:"notiflix-notify-success",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-check-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{background:"#ff5549",textColor:"#fff",childClassName:"notiflix-notify-failure",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-times-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{background:"#eebf31",textColor:"#fff",childClassName:"notiflix-notify-warning",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-exclamation-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(238,191,49,0.2)"},info:{background:"#26c0d3",textColor:"#fff",childClassName:"notiflix-notify-info",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-info-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(38,192,211,0.2)"}},s=function(e){return console.error("%c Notiflix Error ","padding:2px;border-radius:20px;color:#fff;background:#ff5549","\n"+e+"\n\nVisit documentation page to learn more: https://notiflix.github.io/documentation")},u=function(t){return t||(t="head"),null!==e.document[t]||(s('\nNotiflix needs to be appended to the "<'+t+'>" element, but you called it before the "<'+t+'>" element has been created.'),!1)},c=function(){var e={},t=!1,n=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);for(var r=function(n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t&&"[object Object]"===Object.prototype.toString.call(n[r])?e[r]=c(e[r],n[r]):e[r]=n[r])};n<arguments.length;n++)r(arguments[n]);return e},l=function(){return'[id^=NotiflixNotifyWrap]{pointer-events:none;position:fixed;z-index:4001;opacity:1;right:10px;top:10px;width:280px;max-width:96%;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent}[id^=NotiflixNotifyWrap].nx-flex-center-center{max-height:calc(100vh - 20px);overflow-x:hidden;overflow-y:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin:auto}[id^=NotiflixNotifyWrap]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixNotifyWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyOverlay]{-webkit-transition:background .3s ease-in-out;-o-transition:background .3s ease-in-out;transition:background .3s ease-in-out}[id^=NotiflixNotifyWrap]>div{pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;width:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;margin:0 0 10px;border-radius:5px;background:#1e1e1e;color:#fff;padding:10px 12px;font-size:14px;line-height:1.4}[id^=NotiflixNotifyWrap]>div:last-child{margin:0}[id^=NotiflixNotifyWrap]>div.nx-with-callback{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-icon{padding:8px;min-height:56px}[id^=NotiflixNotifyWrap]>div.nx-paused{cursor:auto}[id^=NotiflixNotifyWrap]>div.nx-notify-click-to-close{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-close-button{padding:10px 36px 10px 12px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button{padding:6px 36px 6px 6px}[id^=NotiflixNotifyWrap]>div>span.nx-message{cursor:inherit;font-weight:normal;font-family:inherit!important;word-break:break-all;word-break:break-word}[id^=NotiflixNotifyWrap]>div>span.nx-close-button{cursor:pointer;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;position:absolute;right:8px;top:0;bottom:0;margin:auto;color:inherit;width:20px;height:20px}[id^=NotiflixNotifyWrap]>div>span.nx-close-button:hover{-webkit-transform:rotate(90deg);transform:rotate(90deg)}[id^=NotiflixNotifyWrap]>div>span.nx-close-button>svg{position:absolute;width:16px;height:16px;right:2px;top:2px}[id^=NotiflixNotifyWrap]>div>.nx-message-icon{position:absolute;width:40px;height:40px;font-size:30px;line-height:40px;text-align:center;left:8px;top:0;bottom:0;margin:auto;border-radius:inherit}[id^=NotiflixNotifyWrap]>div>.nx-message-icon-fa.nx-message-icon-fa-shadow{color:inherit;background:rgba(0,0,0,.15);-webkit-box-shadow:inset 0 0 34px rgba(0,0,0,.2);box-shadow:inset 0 0 34px rgba(0,0,0,.2);text-shadow:0 0 10px rgba(0,0,0,.3)}[id^=NotiflixNotifyWrap]>div>span.nx-with-icon{position:relative;float:left;width:calc(100% - 40px);margin:0 0 0 40px;padding:0 0 0 10px;-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>.nx-message-icon{left:auto;right:8px}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-with-icon{padding:0 10px 0 0;margin:0 40px 0 0}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-close-button{right:auto;left:8px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button.nx-rtl-on{padding:6px 6px 6px 36px}[id^=NotiflixNotifyWrap]>div.nx-with-close-button.nx-rtl-on{padding:10px 12px 10px 36px}[id^=NotiflixNotifyOverlay].nx-with-animation,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade{-webkit-animation:notify-animation-fade .3s ease-in-out 0s normal;animation:notify-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom{-webkit-animation:notify-animation-zoom .3s ease-in-out 0s normal;animation:notify-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right{-webkit-animation:notify-animation-from-right .3s ease-in-out 0s normal;animation:notify-animation-from-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}@keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left{-webkit-animation:notify-animation-from-left .3s ease-in-out 0s normal;animation:notify-animation-from-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}@keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top{-webkit-animation:notify-animation-from-top .3s ease-in-out 0s normal;animation:notify-animation-from-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}@keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom{-webkit-animation:notify-animation-from-bottom .3s ease-in-out 0s normal;animation:notify-animation-from-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}@keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}[id^=NotiflixNotifyOverlay].nx-with-animation.nx-remove,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade.nx-remove{opacity:0;-webkit-animation:notify-remove-fade .3s ease-in-out 0s normal;animation:notify-remove-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}@keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom.nx-remove{-webkit-transform:scale(0);transform:scale(0);-webkit-animation:notify-remove-zoom .3s ease-in-out 0s normal;animation:notify-remove-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top.nx-remove{opacity:0;-webkit-animation:notify-remove-to-top .3s ease-in-out 0s normal;animation:notify-remove-to-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}@keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right.nx-remove{opacity:0;-webkit-animation:notify-remove-to-right .3s ease-in-out 0s normal;animation:notify-remove-to-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}@keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom.nx-remove{opacity:0;-webkit-animation:notify-remove-to-bottom .3s ease-in-out 0s normal;animation:notify-remove-to-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}@keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left.nx-remove{opacity:0;-webkit-animation:notify-remove-to-left .3s ease-in-out 0s normal;animation:notify-remove-to-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}@keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}'},f=0,h=function(s,l,h,p){if(!u("body"))return!1;t||d.Notify.init({});var v=c(!0,t,{});if("object"==typeof h&&!Array.isArray(h)||"object"==typeof p&&!Array.isArray(p)){var g={};"object"==typeof h?g=h:"object"==typeof p&&(g=p),t=c(!0,t,g)}var m,y,b=t[s.toLocaleLowerCase("en")];f++,"string"!=typeof l&&(l="Notiflix "+s),t.plainText&&(m=l,(y=e.document.createElement("div")).innerHTML=m,l=y.textContent||y.innerText||""),!t.plainText&&l.length>t.messageMaxLength&&(t=c(!0,t,{closeButton:!0,messageMaxLength:150}),l='Possible HTML Tags Error: The "plainText" option is "false" and the notification content length is more than the "messageMaxLength" option.'),l.length>t.messageMaxLength&&(l=l.substring(0,t.messageMaxLength)+"..."),"shadow"===t.fontAwesomeIconStyle&&(b.fontAwesomeIconColor=b.background),t.cssAnimation||(t.cssAnimationDuration=0);var _=e.document.getElementById(a.wrapID)||e.document.createElement("div");if(_.id=a.wrapID,_.style.width=t.width,_.style.zIndex=t.zindex,_.style.opacity=t.opacity,"center-center"===t.position?(_.style.left=t.distance,_.style.top=t.distance,_.style.right=t.distance,_.style.bottom=t.distance,_.style.margin="auto",_.classList.add("nx-flex-center-center"),_.style.maxHeight="calc((100vh - "+t.distance+") - "+t.distance+")",_.style.display="flex",_.style.flexWrap="wrap",_.style.flexDirection="column",_.style.justifyContent="center",_.style.alignItems="center",_.style.pointerEvents="none"):"center-top"===t.position?(_.style.left=t.distance,_.style.right=t.distance,_.style.top=t.distance,_.style.bottom="auto",_.style.margin="auto"):"center-bottom"===t.position?(_.style.left=t.distance,_.style.right=t.distance,_.style.bottom=t.distance,_.style.top="auto",_.style.margin="auto"):"right-bottom"===t.position?(_.style.right=t.distance,_.style.bottom=t.distance,_.style.top="auto",_.style.left="auto"):"left-top"===t.position?(_.style.left=t.distance,_.style.top=t.distance,_.style.right="auto",_.style.bottom="auto"):"left-bottom"===t.position?(_.style.left=t.distance,_.style.bottom=t.distance,_.style.top="auto",_.style.right="auto"):(_.style.right=t.distance,_.style.top=t.distance,_.style.left="auto",_.style.bottom="auto"),t.backOverlay){var w=e.document.getElementById(a.overlayID)||e.document.createElement("div");w.id=a.overlayID,w.style.width="100%",w.style.height="100%",w.style.position="fixed",w.style.zIndex=t.zindex-1,w.style.left=0,w.style.top=0,w.style.right=0,w.style.bottom=0,w.style.background=b.backOverlayColor||t.backOverlayColor,w.className=t.cssAnimation?"nx-with-animation":"",w.style.animationDuration=t.cssAnimation?t.cssAnimationDuration+"ms":"",e.document.getElementById(a.overlayID)||e.document.body.appendChild(w)}e.document.getElementById(a.wrapID)||e.document.body.appendChild(_);var k=e.document.createElement("div");k.id=t.ID+"-"+f,k.className=t.className+" "+b.childClassName+" "+(t.cssAnimation?"nx-with-animation":"")+" "+(t.useIcon?"nx-with-icon":"")+" nx-"+t.cssAnimationStyle+" "+(t.closeButton&&"function"!=typeof h?"nx-with-close-button":"")+" "+("function"==typeof h?"nx-with-callback":"")+" "+(t.clickToClose?"nx-notify-click-to-close":""),k.style.fontSize=t.fontSize,k.style.color=b.textColor,k.style.background=b.background,k.style.borderRadius=t.borderRadius,k.style.pointerEvents="all",t.rtl&&(k.setAttribute("dir","rtl"),k.classList.add("nx-rtl-on")),k.style.fontFamily='"'+t.fontFamily+'", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',t.cssAnimation&&(k.style.animationDuration=t.cssAnimationDuration+"ms");var x="";if(t.closeButton&&"function"!=typeof h&&(x='<span class="nx-close-button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><g><path fill="'+b.notiflixIconColor+'" d="M0.38 2.19l7.8 7.81 -7.8 7.81c-0.51,0.5 -0.51,1.31 -0.01,1.81 0.25,0.25 0.57,0.38 0.91,0.38 0.34,0 0.67,-0.14 0.91,-0.38l7.81 -7.81 7.81 7.81c0.24,0.24 0.57,0.38 0.91,0.38 0.34,0 0.66,-0.14 0.9,-0.38 0.51,-0.5 0.51,-1.31 0,-1.81l-7.81 -7.81 7.81 -7.81c0.51,-0.5 0.51,-1.31 0,-1.82 -0.5,-0.5 -1.31,-0.5 -1.81,0l-7.81 7.81 -7.81 -7.81c-0.5,-0.5 -1.31,-0.5 -1.81,0 -0.51,0.51 -0.51,1.32 0,1.82z"/></g></svg></span>'),t.useIcon)if(t.useFontAwesome)k.innerHTML='<i style="color:'+b.fontAwesomeIconColor+"; font-size:"+t.fontAwesomeIconSize+';" class="nx-message-icon nx-message-icon-fa '+b.fontAwesomeClassName+" "+("shadow"===t.fontAwesomeIconStyle?"nx-message-icon-fa-shadow":"nx-message-icon-fa-basic")+'"></i><span class="nx-message nx-with-icon">'+l+"</span>"+(t.closeButton?x:"");else{var I="";s===n?I='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+b.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-2.4 -13.29l11.52 -12.96c0.37,-0.41 1.01,-0.45 1.42,-0.08 0.42,0.37 0.46,1 0.09,1.42l-12.16 13.67c-0.19,0.22 -0.46,0.34 -0.75,0.34 -0.23,0 -0.45,-0.07 -0.63,-0.22l-7.6 -6.07c-0.43,-0.35 -0.5,-0.99 -0.16,-1.42 0.35,-0.43 0.99,-0.5 1.42,-0.16l6.85 5.48z"/></g></svg>':s===r?I='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+b.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm1.42 -17.98l6.13 6.12c0.39,0.4 0.39,1.04 0,1.43 -0.19,0.19 -0.45,0.29 -0.71,0.29 -0.27,0 -0.53,-0.1 -0.72,-0.29l-6.12 -6.13 -6.13 6.13c-0.19,0.19 -0.44,0.29 -0.71,0.29 -0.27,0 -0.52,-0.1 -0.71,-0.29 -0.39,-0.39 -0.39,-1.03 0,-1.43l6.13 -6.12 -6.13 -6.13c-0.39,-0.39 -0.39,-1.03 0,-1.42 0.39,-0.39 1.03,-0.39 1.42,0l6.13 6.12 6.12 -6.12c0.4,-0.39 1.04,-0.39 1.43,0 0.39,0.39 0.39,1.03 0,1.42l-6.13 6.13z"/></g></svg>':s===i?I='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+b.notiflixIconColor+'" d="M21.91 3.48l17.8 30.89c0.84,1.46 -0.23,3.25 -1.91,3.25l-35.6 0c-1.68,0 -2.75,-1.79 -1.91,-3.25l17.8 -30.89c0.85,-1.47 2.97,-1.47 3.82,0zm16.15 31.84l-17.8 -30.89c-0.11,-0.2 -0.41,-0.2 -0.52,0l-17.8 30.89c-0.12,0.2 0.05,0.4 0.26,0.4l35.6 0c0.21,0 0.38,-0.2 0.26,-0.4zm-19.01 -4.12l0 -1.05c0,-0.53 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.42 0.95,0.95l0 1.05c0,0.53 -0.42,0.95 -0.95,0.95 -0.53,0 -0.95,-0.42 -0.95,-0.95zm0 -4.66l0 -13.39c0,-0.52 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.43 0.95,0.95l0 13.39c0,0.53 -0.42,0.96 -0.95,0.96 -0.53,0 -0.95,-0.43 -0.95,-0.96z"/></g></svg>':s===o&&(I='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+b.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-0.99 -23.3c0,-0.54 0.44,-0.98 0.99,-0.98 0.55,0 0.99,0.44 0.99,0.98l0 15.86c0,0.55 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.44 -0.99,-0.99l0 -15.86zm0 -5.22c0,-0.55 0.44,-0.99 0.99,-0.99 0.55,0 0.99,0.44 0.99,0.99l0 1.09c0,0.54 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.45 -0.99,-0.99l0 -1.09z"/></g></svg>'),k.innerHTML=I+'<span class="nx-message nx-with-icon">'+l+"</span>"+(t.closeButton?x:"")}else k.innerHTML='<span class="nx-message">'+l+"</span>"+(t.closeButton?x:"");if("left-bottom"===t.position||"right-bottom"===t.position){var S=e.document.getElementById(a.wrapID);S.insertBefore(k,S.firstChild)}else e.document.getElementById(a.wrapID).appendChild(k);var E=e.document.getElementById(k.id);if(E){var C,T,O=function(){E.classList.add("nx-remove");var t=e.document.getElementById(a.overlayID);t&&_.childElementCount<=0&&t.classList.add("nx-remove"),clearTimeout(C)},N=function(){if(E&&null!==E.parentNode&&E.parentNode.removeChild(E),_.childElementCount<=0&&null!==_.parentNode){_.parentNode.removeChild(_);var t=e.document.getElementById(a.overlayID);t&&null!==t.parentNode&&t.parentNode.removeChild(t)}clearTimeout(T)};if(t.closeButton&&"function"!=typeof h&&e.document.getElementById(k.id).querySelector("span.nx-close-button").addEventListener("click",(function(){O();var e=setTimeout((function(){N(),clearTimeout(e)}),t.cssAnimationDuration)})),("function"==typeof h||t.clickToClose)&&E.addEventListener("click",(function(){"function"==typeof h&&h(),O();var e=setTimeout((function(){N(),clearTimeout(e)}),t.cssAnimationDuration)})),!t.closeButton&&"function"!=typeof h){var P=function(){C=setTimeout((function(){O()}),t.timeout),T=setTimeout((function(){N()}),t.timeout+t.cssAnimationDuration)};P(),t.pauseOnHover&&(E.addEventListener("mouseenter",(function(){E.classList.add("nx-paused"),clearTimeout(C),clearTimeout(T)})),E.addEventListener("mouseleave",(function(){E.classList.remove("nx-paused"),P()})))}}if(t.showOnlyTheLastOne&&f>0)for(var R=e.document.querySelectorAll("[id^="+t.ID+"-]:not([id="+t.ID+"-"+f+"])"),A=0;A<R.length;A++){var L=R[A];null!==L.parentNode&&L.parentNode.removeChild(L)}t=c(!0,t,v)},d={Notify:{init:function(n){t=c(!0,a,n),function(t,n){if(!u("head"))return!1;if(null!==t()&&!e.document.getElementById(n)){var r=e.document.createElement("style");r.id=n,r.innerHTML=t(),e.document.head.appendChild(r)}}(l,"NotiflixNotifyInternalCSS")},merge:function(e){if(!t)return s("You have to initialize the Notify module before call Merge function."),!1;t=c(!0,t,e)},success:function(e,t,r){h(n,e,t,r)},failure:function(e,t,n){h(r,e,t,n)},warning:function(e,t,n){h(i,e,t,n)},info:function(e,t,n){h(o,e,t,n)}}};return"object"==typeof e.Notiflix?c(!0,e.Notiflix,{Notify:d.Notify}):{Notify:d.Notify}},"function"==typeof define&&define.amd?define([],(function(){return a(o)})):"object"==typeof s?s=a(o):o.Notiflix=a(o);var u={};function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}Object.defineProperty(u,"__esModule",{value:!0}),u.default=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))}};var l={};Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var f={};function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(f,"__esModule",{value:!0}),f.default=function(e,t,n){t&&h(e.prototype,t);n&&h(e,n);return e};var d=i("hKHmD"),p={};Object.defineProperty(p,"__esModule",{value:!0}),p.default=function(e){return v.default(e)||g.default(e)||y.default(e)||m.default()};var v=b(i("kMC0W")),g=b(i("7AJDX")),m=b(i("8CtQK")),y=b(i("auk6i"));function b(e){return e&&e.__esModule?e:{default:e}}var _={},w=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),s=new O(r||[]);return i(a,"_invoke",{value:S(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var h="suspendedStart",d="executing",p="completed",v={};function g(){}function m(){}function y(){}var b={};c(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(N([])));w&&w!==n&&r.call(w,a)&&(b=w);var k=y.prototype=g.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,o,a,s){var u=f(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function S(e,t,n){var r=h;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=f(e,t,n);if("normal"===u.type){if(r=n.done?p:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}function E(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:P}}function P(){return{value:t,done:!0}}return m.prototype=y,i(k,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:m,configurable:!0}),m.displayName=c(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},x(I.prototype),c(I.prototype,s,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new I(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(k),c(k,u,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(_);try{regeneratorRuntime=w}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=w:Function("r","regeneratorRuntime = r")(w)}var k={};Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(e,t){return x.default(e)||I.default(e,t)||E.default(e,t)||S.default()};var x=C(i("8slrw")),I=C(i("7AJDX")),S=C(i("ifqQW")),E=C(i("auk6i"));function C(e){return e&&e.__esModule?e:{default:e}}var T=i("ds8z5"),O={};Object.defineProperty(O,"__esModule",{value:!0}),O.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P.default(e,t)};var N,P=(N=i("gD1JV"))&&N.__esModule?N:{default:N};var R={};Object.defineProperty(R,"__esModule",{value:!0}),R.default=function(e){return U(e)};var A=j(i("ge8co")),L=j(i("cZGw3")),M=j(i("fVNic")),D=j(i("gD1JV"));function j(e){return e&&e.__esModule?e:{default:e}}function U(e){var t="function"==typeof Map?new Map:void 0;return U=function(e){if(null===e||!L.default(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return A.default(e,arguments,M.default(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),D.default(n,e)},U(e)}var B={};Object.defineProperty(B,"__esModule",{value:!0}),B.default=function(e){var t=F.default();return function(){var n,r=q.default(e);if(t){var i=q.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return H.default(this,n)}};var F=z(i("aTHs7")),q=z(i("fVNic")),H=z(i("jmhxu"));function z(e){return e&&e.__esModule?e:{default:e}}var W,V,K,G=W={};function J(){throw new Error("setTimeout has not been defined")}function Y(){throw new Error("clearTimeout has not been defined")}function $(e){if(V===setTimeout)return setTimeout(e,0);if((V===J||!V)&&setTimeout)return V=setTimeout,setTimeout(e,0);try{return V(e,0)}catch(t){try{return V.call(null,e,0)}catch(t){return V.call(this,e,0)}}}!function(){try{V="function"==typeof setTimeout?setTimeout:J}catch(e){V=J}try{K="function"==typeof clearTimeout?clearTimeout:Y}catch(e){K=Y}}();var Q,X=[],Z=!1,ee=-1;function te(){Z&&Q&&(Z=!1,Q.length?X=Q.concat(X):ee=-1,X.length&&ne())}function ne(){if(!Z){var e=$(te);Z=!0;for(var t=X.length;t;){for(Q=X,X=[];++ee<t;)Q&&Q[ee].run();ee=-1,t=X.length}Q=null,Z=!1,function(e){if(K===clearTimeout)return clearTimeout(e);if((K===Y||!K)&&clearTimeout)return K=clearTimeout,clearTimeout(e);try{K(e)}catch(t){try{return K.call(null,e)}catch(t){return K.call(this,e)}}}(e)}}function re(e,t){this.fun=e,this.array=t}function ie(){}G.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];X.push(new re(e,t)),1!==X.length||Z||$(ne)},re.prototype.run=function(){this.fun.apply(null,this.array)},G.title="browser",G.browser=!0,G.env={},G.argv=[],G.version="",G.versions={},G.on=ie,G.addListener=ie,G.once=ie,G.off=ie,G.removeListener=ie,G.removeAllListeners=ie,G.emit=ie,G.prependListener=ie,G.prependOnceListener=ie,G.listeners=function(e){return[]},G.binding=function(e){throw new Error("process.binding is not supported")},G.cwd=function(){return"/"},G.chdir=function(e){throw new Error("process.chdir is not supported")},G.umask=function(){return 0};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var oe=!1,ae=!1,se="${JSCORE_VERSION}",ue=function(e,t){if(!e)throw ce(t)},ce=function(e){return new Error("Firebase Database ("+se+") INTERNAL ASSERT FAILED: "+e)},le=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(le(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw new he;var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},he=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(){var t;return e(l)(this,r),(t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments)))).name="DecodeBase64StringError",t}return r}(e(R)(Error)),de=function(e){var t=le(e);return fe.encodeByteArray(t,!0)},pe=function(e){return de(e).replace(/\./g,"")},ve=function(e){try{return fe.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ge(e){return me(void 0,e)}function me(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=me(e[n],t[n]));return e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ye=function(){
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},be=function(){try{return ye()||function(){if(void 0!==W&&void 0!==W.env);}()||function(){if("undefined"!=typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}var t=e&&ve(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},_e=function(e){var t,n;return null===(n=null===(t=be())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},we=function(e){var t=_e(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},ke=function(){var e;return null===(e=be())||void 0===e?void 0:e.config},xe=function(e){var t;return null===(t=be())||void 0===t?void 0:t["_".concat(e)]},Ie=function(){"use strict";function t(){var n=this;e(l)(this,t),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return e(f)(t,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Se(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(o)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ce(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())}function Te(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function Oe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ne(){return!0===oe||!0===ae}function Pe(){try{return"object"==typeof indexedDB}catch(e){return!1}}function Re(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}function Ae(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(t,i,o){var a;return e(l)(this,r),(a=n.call(this,i)).code=t,a.customData=o,a.name="FirebaseError",Object.setPrototypeOf(e(T)(a),r.prototype),Error.captureStackTrace&&Error.captureStackTrace(e(T)(a),Me.prototype.create),a}return r}(e(R)(Error)),Me=function(){"use strict";function t(n,r,i){e(l)(this,t),this.service=n,this.serviceName=r,this.errors=i}return e(f)(t,[{key:"create",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0]||{},o="".concat(this.service,"/").concat(e),a=this.errors[e],s=a?De(a,i):"Error",u="".concat(this.serviceName,": ").concat(s," (").concat(o,")."),c=new Le(o,u,i);return c}}]),t}();function De(e,t){return e.replace(je,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var je=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(e){return JSON.parse(e)}function Be(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=Ue(ve(o[0])||""),n=Ue(ve(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},qe=function(e){var t=Fe(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function He(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ze(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function We(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ve(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Ke(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t),i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;if(!r.includes(c))return!1;var l=e[c],f=t[c];if(Ge(l)&&Ge(f)){if(!Ke(l,f))return!1}else if(l!==f)return!1}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}var h=!0,d=!1,p=void 0;try{for(var v,g=r[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){var m=v.value;if(!n.includes(m))return!1}}catch(e){d=!0,p=e}finally{try{h||null==g.return||g.return()}finally{if(d)throw p}}return!0}function Ge(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Je(t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=function(t,r){var i=e(k)(r.value,2),o=i[0],a=i[1];Array.isArray(a)?a.forEach((function(e){n.push(encodeURIComponent(o)+"="+encodeURIComponent(e))})):n.push(encodeURIComponent(o)+"="+encodeURIComponent(a))},u=Object.entries(t)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)s(0,a)}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n.length?"&"+n.join("&"):""}function Ye(t){var n={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var r=e(k)(t.split("="),2),i=r[0],o=r[1];n[decodeURIComponent(i)]=decodeURIComponent(o)}})),n}function $e(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe=function(){"use strict";function t(){e(l)(this,t),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}return e(f)(t,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var o=16;o<80;o++){var a=n[o-3]^n[o-8]^n[o-14]^n[o-16];n[o]=4294967295&(a<<1|a>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^l&(f^h),u=1518500249):(s=l^f^h,u=1859775393):p<60?(s=l&f|h&(l|f),u=2400959708):(s=l^f^h,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}]),t}();var Xe=function(){"use strict";function t(n,r){var i=this;e(l)(this,t),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then((function(){n(i)})).catch((function(e){i.error(e)}))}return e(f)(t,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s in e&&"function"==typeof e[s])return!0}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ze),void 0===r.error&&(r.error=Ze),void 0===r.complete&&(r.complete=Ze);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),t}();function Ze(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(e,t){return"".concat(e," failed: ").concat(t," argument ")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var tt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,ue(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},nt=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},rt=144e5;function it(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(rt,r+i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ot(e){return e&&e._delegate?e._delegate:e}var at=function(){"use strict";function t(n,r,i){e(l)(this,t),this.name=n,this.instanceFactory=r,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e(f)(t,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),t}(),st="[DEFAULT]",ut=function(){"use strict";function t(n,r){e(l)(this,t),this.name=n,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e(f)(t,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ie;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:st})}catch(e){}var n=!0,r=!1,i=void 0;try{for(var o,a=this.instancesDeferred.entries()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=e(k)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService({instanceIdentifier:l});c.resolve(f)}catch(e){}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var t=this;return e(u)(e(_).mark((function n(){var r;return e(_).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=Array.from(t.instances.values()),n.next=3,Promise.all(e(p)(r.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))).concat(e(p)(r.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return n.stop()}}),n)})))()}},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.options,r=void 0===n?{}:n,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error("".concat(this.name,"(").concat(i,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var o=this.getOrInitializeService({instanceIdentifier:i,options:r}),a=!0,s=!1,u=void 0;try{for(var c,l=this.instancesDeferred.entries()[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=e(k)(c.value,2),h=f[0],d=f[1],p=this.normalizeInstanceIdentifier(h);i===p&&d.resolve(o)}}catch(e){s=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw u}}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;try{u(e,t)}catch(e){}}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===st?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(e){}return o||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st;return this.component?this.component.multipleInstances?e:st:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,lt,ft=function(){"use strict";function t(n){e(l)(this,t),this.name=n,this.providers=new Map}return e(f)(t,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ut(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),t}(),ht=(d=i("hKHmD"),[]);(lt=ct||(ct={}))[lt.DEBUG=0]="DEBUG",lt[lt.VERBOSE=1]="VERBOSE",lt[lt.INFO=2]="INFO",lt[lt.WARN=3]="WARN",lt[lt.ERROR=4]="ERROR",lt[lt.SILENT=5]="SILENT";var dt,pt={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},vt=ct.INFO,gt=(dt={},e(d)(dt,ct.DEBUG,"log"),e(d)(dt,ct.VERBOSE,"log"),e(d)(dt,ct.INFO,"info"),e(d)(dt,ct.WARN,"warn"),e(d)(dt,ct.ERROR,"error"),dt),mt=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var a;if(!(n<t.logLevel)){var s=(new Date).toISOString(),u=gt[n];if(!u)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(n,")"));(a=console)[u].apply(a,["[".concat(s,"]  ").concat(t.name,":")].concat(e(p)(i)))}},yt=function(){"use strict";function t(n){e(l)(this,t),this.name=n,this._logLevel=vt,this._logHandler=mt,this._userLogHandler=null,ht.push(this)}return e(f)(t,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ct))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"==typeof e?pt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,ct.DEBUG].concat(e(p)(n))),this._logHandler.apply(this,[this,ct.DEBUG].concat(e(p)(n)))}},{key:"log",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,ct.VERBOSE].concat(e(p)(n))),this._logHandler.apply(this,[this,ct.VERBOSE].concat(e(p)(n)))}},{key:"info",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,ct.INFO].concat(e(p)(n))),this._logHandler.apply(this,[this,ct.INFO].concat(e(p)(n)))}},{key:"warn",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,ct.WARN].concat(e(p)(n))),this._logHandler.apply(this,[this,ct.WARN].concat(e(p)(n)))}},{key:"error",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,ct.ERROR].concat(e(p)(n))),this._logHandler.apply(this,[this,ct.ERROR].concat(e(p)(n)))}}]),t}();var bt={};Object.defineProperty(bt,"__esModule",{value:!0}),bt.default=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_t.default(e,t,n[t])}))}return e};var _t=function(e){return e&&e.__esModule?e:{default:e}}(i("hKHmD"));var wt,kt;var xt=new WeakMap,It=new WeakMap,St=new WeakMap,Et=new WeakMap,Ct=new WeakMap;var Tt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return It.get(e);if("objectStoreNames"===t)return e.objectStoreNames||St.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ot(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(kt||(kt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(Rt(this),n),Pt(xt.get(this))}:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Pt(t.apply(Rt(this),n))}:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a,s=(a=t).call.apply(a,[Rt(this),n].concat(e(p)(i)));return St.set(s,n.sort?n.sort():[n]),Pt(s)}}function Nt(e){return"function"==typeof e?Ot(e):(e instanceof IDBTransaction&&function(e){if(!It.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=function(){t(),r()},o=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));It.set(e,t)}}(e),t=e,(wt||(wt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Tt):e);var t}function Pt(e){if(e instanceof IDBRequest)return t=e,(n=new Promise((function(e,n){var r=function(){t.removeEventListener("success",i),t.removeEventListener("error",o)},i=function(){e(Pt(t.result)),r()},o=function(){n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)}))).then((function(e){e instanceof IDBCursor&&xt.set(e,t)})).catch((function(){})),Ct.set(n,t),n;var t,n;if(Et.has(e))return Et.get(e);var r=Nt(e);return r!==e&&(Et.set(e,r),Ct.set(r,e)),r}var Rt=function(e){return Ct.get(e)};function At(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,o=n.blocking,a=n.terminated,s=indexedDB.open(e,t),u=Pt(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Pt(s.result),e.oldVersion,e.newVersion,Pt(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){a&&e.addEventListener("close",(function(){return a()})),o&&e.addEventListener("versionchange",(function(){return o()}))})).catch((function(){})),u}var Lt=["get","getKey","getAll","getAllKeys","count"],Mt=["put","add","delete","clear"],Dt=new Map;function jt(t,n){if(t instanceof IDBDatabase&&!(n in t)&&"string"==typeof n){if(Dt.get(n))return Dt.get(n);var r=n.replace(/FromIndex$/,""),i=n!==r,o=Mt.includes(r);if(r in(i?IDBIndex:IDBObjectStore).prototype&&(o||Lt.includes(r))){var a,s=(a=e(u)(e(_).mark((function t(n){var a,s,u,c,l,f,h=arguments;return e(_).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=h.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=h[u];return l=this.transaction(n,o?"readwrite":"readonly"),f=l.store,i&&(f=f.index(s.shift())),t.next=7,Promise.all([(c=f)[r].apply(c,e(p)(s)),o&&l.done]);case 7:return t.abrupt("return",t.sent[0]);case 8:case"end":return t.stop()}}),t,this)}))),function(e){return a.apply(this,arguments)});return Dt.set(n,s),s}}}Tt=function(t){return e(bt)({},t,{get:function(e,n,r){return jt(e,n)||t.get(e,n,r)},has:function(e,n){return!!jt(e,n)||t.has(e,n)}})}(Tt);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ut=function(){"use strict";function t(n){e(l)(this,t),this.container=n}return e(f)(t,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),t}();var Bt,Ft,qt="@firebase/app",Ht="0.9.8",zt=new yt("@firebase/app"),Wt="[DEFAULT]",Vt=(Bt={},e(d)(Bt,qt,"fire-core"),e(d)(Bt,"@firebase/app-compat","fire-core-compat"),e(d)(Bt,"@firebase/analytics","fire-analytics"),e(d)(Bt,"@firebase/analytics-compat","fire-analytics-compat"),e(d)(Bt,"@firebase/app-check","fire-app-check"),e(d)(Bt,"@firebase/app-check-compat","fire-app-check-compat"),e(d)(Bt,"@firebase/auth","fire-auth"),e(d)(Bt,"@firebase/auth-compat","fire-auth-compat"),e(d)(Bt,"@firebase/database","fire-rtdb"),e(d)(Bt,"@firebase/database-compat","fire-rtdb-compat"),e(d)(Bt,"@firebase/functions","fire-fn"),e(d)(Bt,"@firebase/functions-compat","fire-fn-compat"),e(d)(Bt,"@firebase/installations","fire-iid"),e(d)(Bt,"@firebase/installations-compat","fire-iid-compat"),e(d)(Bt,"@firebase/messaging","fire-fcm"),e(d)(Bt,"@firebase/messaging-compat","fire-fcm-compat"),e(d)(Bt,"@firebase/performance","fire-perf"),e(d)(Bt,"@firebase/performance-compat","fire-perf-compat"),e(d)(Bt,"@firebase/remote-config","fire-rc"),e(d)(Bt,"@firebase/remote-config-compat","fire-rc-compat"),e(d)(Bt,"@firebase/storage","fire-gcs"),e(d)(Bt,"@firebase/storage-compat","fire-gcs-compat"),e(d)(Bt,"@firebase/firestore","fire-fst"),e(d)(Bt,"@firebase/firestore-compat","fire-fst-compat"),e(d)(Bt,"fire-js","fire-js"),e(d)(Bt,"firebase","fire-js-all"),Bt),Kt=new Map,Gt=new Map;function Jt(e,t){try{e.container.addComponent(t)}catch(n){zt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Yt(e){var t=e.name;if(Gt.has(t))return zt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Gt.set(t,e);var n=!0,r=!1,i=void 0;try{for(var o,a=Kt.values()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){Jt(o.value,e)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!0}function $t(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Qt=(Ft={},e(d)(Ft,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),e(d)(Ft,"bad-app-name","Illegal App name: '{$appName}"),e(d)(Ft,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),e(d)(Ft,"app-deleted","Firebase App named '{$appName}' already deleted"),e(d)(Ft,"no-options","Need to provide options, when not being deployed to hosting via source."),e(d)(Ft,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),e(d)(Ft,"invalid-log-argument","First argument to `onLog` must be null or a function."),e(d)(Ft,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),e(d)(Ft,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),e(d)(Ft,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),e(d)(Ft,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Ft),Xt=new Me("app","Firebase",Qt),Zt=function(){"use strict";function t(n,r,i){var o=this;e(l)(this,t),this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new at("app",(function(){return o}),"PUBLIC"))}return e(f)(t,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Xt.create("app-deleted",{appName:this._name})}}]),t}(),en="9.20.0";function tn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!=typeof t){var r=t;t={name:r}}var i=Object.assign({name:Wt,automaticDataCollectionEnabled:!1},t),o=i.name;if("string"!=typeof o||!o)throw Xt.create("bad-app-name",{appName:String(o)});if(n||(n=ke()),!n)throw Xt.create("no-options");var a=Kt.get(o);if(a){if(Ke(n,a.options)&&Ke(i,a.config))return a;throw Xt.create("duplicate-app",{appName:o})}var s=new ft(o),u=!0,c=!1,l=void 0;try{for(var f,h=Gt.values()[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var d=f.value;s.addComponent(d)}}catch(e){c=!0,l=e}finally{try{u||null==h.return||h.return()}finally{if(c)throw l}}var p=new Zt(n,i,s);return Kt.set(o,p),p}function nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=Kt.get(e);if(!t&&e===Wt)return tn();if(!t)throw Xt.create("no-app",{appName:e});return t}function rn(e,t,n){var r,i=null!==(r=Vt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&s.push("and"),a&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void zt.warn(s.join(" "))}Yt(new at("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var on="firebase-heartbeat-store",an=null;function sn(){return an||(an=At("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(on)}}).catch((function(e){throw Xt.create("idb-open",{originalErrorMessage:e.message})}))),an}function un(e){return cn.apply(this,arguments)}function cn(){return(cn=e(u)(e(_).mark((function t(n){var r,i;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sn();case 3:return r=e.sent,e.abrupt("return",r.transaction(on).objectStore(on).get(hn(n)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Le?zt.warn(e.t0.message):(i=Xt.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),zt.warn(i.message));case 10:case"end":return e.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function ln(e,t){return fn.apply(this,arguments)}function fn(){return(fn=e(u)(e(_).mark((function t(n,r){var i,o,a,s;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sn();case 3:return i=e.sent,o=i.transaction(on,"readwrite"),a=o.objectStore(on),e.next=8,a.put(r,hn(n));case 8:return e.abrupt("return",o.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Le?zt.warn(e.t0.message):(s=Xt.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),zt.warn(s.message));case 14:case"end":return e.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}function hn(e){return"".concat(e.name,"!").concat(e.options.appId)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn=function(){"use strict";function t(n){var r=this;e(l)(this,t),this.container=n,this._heartbeatsCache=null;var i=this.container.getProvider("app").getImmediate();this._storage=new mn(i),this._heartbeatsCachePromise=this._storage.read().then((function(e){return r._heartbeatsCache=e,e}))}return e(f)(t,[{key:"triggerHeartbeat",value:function(){var t=this;return e(u)(e(_).mark((function n(){var r,i,o;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.container.getProvider("platform-logger").getImmediate(),i=r.getPlatformInfoString(),o=pn(),null!==t._heartbeatsCache){e.next=7;break}return e.next=6,t._heartbeatsCachePromise;case 6:t._heartbeatsCache=e.sent;case 7:if(t._heartbeatsCache.lastSentHeartbeatDate!==o&&!t._heartbeatsCache.heartbeats.some((function(e){return e.date===o}))){e.next=11;break}return e.abrupt("return");case 11:t._heartbeatsCache.heartbeats.push({date:o,agent:i});case 12:return t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",t._storage.overwrite(t._heartbeatsCache));case 14:case"end":return e.stop()}}),n)})))()}},{key:"getHeartbeatsHeader",value:function(){var t=this;return e(u)(e(_).mark((function n(){var r,i,o,a,s;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t._heartbeatsCache){e.next=3;break}return e.next=3,t._heartbeatsCachePromise;case 3:if(null!==t._heartbeatsCache&&0!==t._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(r=pn(),i=vn(t._heartbeatsCache.heartbeats),o=i.heartbeatsToSend,a=i.unsentEntries,s=pe(JSON.stringify({version:2,heartbeats:o})),t._heartbeatsCache.lastSentHeartbeatDate=r,!(a.length>0)){e.next=15;break}return t._heartbeatsCache.heartbeats=a,e.next=13,t._storage.overwrite(t._heartbeatsCache);case 13:e.next=16;break;case 15:t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache);case 16:return e.abrupt("return",s);case 17:case"end":return e.stop()}}),n)})))()}}]),t}();function pn(){return(new Date).toISOString().substring(0,10)}function vn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,n=[],r=e.slice(),i=!0,o=!1,a=void 0;try{for(var s,u=function(e,i){var o=i.value,a=n.find((function(e){return e.agent===o.agent}));if(a){if(a.dates.push(o.date),yn(n)>t)return a.dates.pop(),"break"}else if(n.push({agent:o.agent,dates:[o.date]}),yn(n)>t)return n.pop(),"break";r=r.slice(1)},c=e[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=u(c,s);if("break"===l)break}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return{heartbeatsToSend:n,unsentEntries:r}}var gn,mn=function(){"use strict";function t(n){e(l)(this,t),this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return e(f)(t,[{key:"runIndexedDBEnvironmentCheck",value:function(){return e(u)(e(_).mark((function t(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pe()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",Re().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),t)})))()}},{key:"read",value:function(){var t=this;return e(u)(e(_).mark((function n(){var r;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,un(t.app);case 9:return r=e.sent,e.abrupt("return",r||{heartbeats:[]});case 11:case"end":return e.stop()}}),n)})))()}},{key:"overwrite",value:function(t){var n=this;return e(u)(e(_).mark((function r(){var i,o;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,n._canUseIndexedDBPromise;case 3:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,n.read();case 10:return o=e.sent,e.abrupt("return",ln(n.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 12:case"end":return e.stop()}}),r)})))()}},{key:"add",value:function(t){var n=this;return e(u)(e(_).mark((function r(){var i,o;return e(_).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,n._canUseIndexedDBPromise;case 3:if(r.sent){r.next=8;break}return r.abrupt("return");case 8:return r.next=10,n.read();case 10:return o=r.sent,r.abrupt("return",ln(n.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:e(p)(o.heartbeats).concat(e(p)(t.heartbeats))}));case 12:case"end":return r.stop()}}),r)})))()}}]),t}();function yn(e){return pe(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn="",Yt(new at("platform-logger",(function(e){return new Ut(e)}),"PRIVATE")),Yt(new at("heartbeat",(function(e){return new dn(e)}),"PRIVATE")),rn(qt,Ht,gn),rn(qt,Ht,"esm2017"),rn("fire-js","");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
rn("firebase","9.20.0","app");d=i("hKHmD"),d=i("hKHmD");var bn,_n="@firebase/installations",wn="0.6.4",kn=1e4,xn="w:".concat(wn),In="FIS_v2",Sn=36e5,En=(bn={},e(d)(bn,"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),e(d)(bn,"not-registered","Firebase Installation is not registered."),e(d)(bn,"installation-not-found","Firebase Installation not found."),e(d)(bn,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),e(d)(bn,"app-offline","Could not process request. Application offline."),e(d)(bn,"delete-pending-registration","Can't delete installation while there is a pending registration request."),bn),Cn=new Me("installations","Installations",En);function Tn(e){return e instanceof Le&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Nn(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Pn(e,t){return Rn.apply(this,arguments)}function Rn(){return(Rn=e(u)(e(_).mark((function t(n,r){var i,o;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.json();case 2:return i=e.sent,o=i.error,e.abrupt("return",Cn.create("request-failed",{requestName:n,serverCode:o.code,serverMessage:o.message,serverStatus:o.status}));case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function An(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Ln(e,t){var n=t.refreshToken,r=An(e);return r.append("Authorization",function(e){return"".concat(In," ").concat(e)}(n)),r}function Mn(e){return Dn.apply(this,arguments)}function Dn(){return(Dn=e(u)(e(_).mark((function t(n){var r;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:if(!((r=e.sent).status>=500&&r.status<600)){e.next=5;break}return e.abrupt("return",n());case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function jn(e,t){return Un.apply(this,arguments)}function Un(){return(Un=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(u)(e(_).mark((function t(n,r){var i,o,a,s,u,c,l,f,h,d,p,v;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.appConfig,o=n.heartbeatServiceProvider,a=r.fid,s=On(i),u=An(i),!(c=o.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,c.getHeartbeatsHeader();case 7:(l=e.sent)&&u.append("x-firebase-client",l);case 9:return f={fid:a,authVersion:In,appId:i.appId,sdkVersion:xn},h={method:"POST",headers:u,body:JSON.stringify(f)},e.next=13,Mn((function(){return fetch(s,h)}));case 13:if(!(d=e.sent).ok){e.next=22;break}return e.next=17,d.json();case 17:return p=e.sent,v={fid:p.fid||a,registrationStatus:2,refreshToken:p.refreshToken,authToken:Nn(p.authToken)},e.abrupt("return",v);case 22:return e.next=24,Pn("Create Installation",d);case 24:throw e.sent;case 25:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(e){return new Promise((function(t){setTimeout(t,e)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Fn=/^[cdef][\w-]{21}$/;function qn(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var n=function(t){return(n=t,btoa((r=String).fromCharCode.apply(r,e(p)(n))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var n,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);return Fn.test(n)?n:""}catch(e){return""}}function Hn(e){return"".concat(e.appName,"!").concat(e.appId)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn=new Map;function Wn(e,t){var n=Hn(e);Vn(n,t),function(e,t){var n=Gn();n&&n.postMessage({key:e,fid:t});Jn()}(n,t)}function Vn(e,t){var n=zn.get(e);if(n){var r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){(0,a.value)(t)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}}var Kn=null;function Gn(){return!Kn&&"BroadcastChannel"in self&&((Kn=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Vn(e.data.key,e.data.fid)}),Kn}function Jn(){0===zn.size&&Kn&&(Kn.close(),Kn=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn="firebase-installations-store",$n=null;function Qn(){return $n||($n=At("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Yn)}})),$n}function Xn(e,t){return Zn.apply(this,arguments)}function Zn(){return(Zn=e(u)(e(_).mark((function t(n,r){var i,o,a,s,u;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hn(n),e.next=3,Qn();case 3:return o=e.sent,a=o.transaction(Yn,"readwrite"),s=a.objectStore(Yn),e.next=8,s.get(i);case 8:return u=e.sent,e.next=11,s.put(r,i);case 11:return e.next=13,a.done;case 13:return u&&u.fid===r.fid||Wn(n,r.fid),e.abrupt("return",r);case 15:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function er(e){return tr.apply(this,arguments)}function tr(){return(tr=e(u)(e(_).mark((function t(n){var r,i,o;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hn(n),e.next=3,Qn();case 3:return i=e.sent,o=i.transaction(Yn,"readwrite"),e.next=7,o.objectStore(Yn).delete(r);case 7:return e.next=9,o.done;case 9:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function nr(e,t){return rr.apply(this,arguments)}function rr(){return(rr=e(u)(e(_).mark((function t(n,r){var i,o,a,s,u,c;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hn(n),e.next=3,Qn();case 3:return o=e.sent,a=o.transaction(Yn,"readwrite"),s=a.objectStore(Yn),e.next=8,s.get(i);case 8:if(u=e.sent,void 0!==(c=r(u))){e.next=15;break}return e.next=13,s.delete(i);case 13:e.next=17;break;case 15:return e.next=17,s.put(c,i);case 17:return e.next=19,a.done;case 19:return!c||u&&u.fid===c.fid||Wn(n,c.fid),e.abrupt("return",c);case 21:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function ir(e){return or.apply(this,arguments)}function or(){return(or=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(u)(e(_).mark((function t(n){var r,i;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,nr(n.appConfig,(function(e){var t=ar(e),i=sr(n,t);return r=i.registrationPromise,i.installationEntry}));case 3:if(""!==(i=e.sent).fid){e.next=9;break}return e.next=7,r;case 7:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 9:return e.abrupt("return",{installationEntry:i,registrationPromise:r});case 10:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function ar(e){return hr(e||{fid:qn(),registrationStatus:0})}function sr(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Cn.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return ur.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:cr(e)}:{installationEntry:t}}function ur(){return(ur=e(u)(e(_).mark((function t(n,r){var i;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jn(n,r);case 3:return i=e.sent,e.abrupt("return",Xn(n.appConfig,i));case 7:if(e.prev=7,e.t0=e.catch(0),!Tn(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,er(n.appConfig);case 12:e.next=16;break;case 14:return e.next=16,Xn(n.appConfig,{fid:r.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function cr(e){return lr.apply(this,arguments)}function lr(){return(lr=e(u)(e(_).mark((function t(n){var r,i,o,a;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fr(n.appConfig);case 2:r=e.sent;case 3:if(1!==r.registrationStatus){e.next=11;break}return e.next=6,Bn(100);case 6:return e.next=8,fr(n.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==r.registrationStatus){e.next=22;break}return e.next=14,ir(n);case 14:if(i=e.sent,o=i.installationEntry,!(a=i.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",o);case 22:return e.abrupt("return",r);case 23:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function fr(e){return nr(e,(function(e){if(!e)throw Cn.create("installation-not-found");return hr(e)}))}function hr(e){return 1===(t=e).registrationStatus&&t.registrationTime+kn<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function dr(e,t){return pr.apply(this,arguments)}function pr(){return(pr=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(u)(e(_).mark((function t(n,r){var i,o,a,s,u,c,l,f,h,d,p;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.appConfig,o=n.heartbeatServiceProvider,a=vr(i,r),s=Ln(i,r),!(u=o.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,u.getHeartbeatsHeader();case 7:(c=e.sent)&&s.append("x-firebase-client",c);case 9:return l={installation:{sdkVersion:xn,appId:i.appId}},f={method:"POST",headers:s,body:JSON.stringify(l)},e.next=13,Mn((function(){return fetch(a,f)}));case 13:if(!(h=e.sent).ok){e.next=22;break}return e.next=17,h.json();case 17:return d=e.sent,p=Nn(d),e.abrupt("return",p);case 22:return e.next=24,Pn("Generate Auth Token",h);case 24:throw e.sent;case 25:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function vr(e,t){var n=t.fid;return"".concat(On(e),"/").concat(n,"/authTokens:generate")}function gr(e){return mr.apply(this,arguments)}function mr(){return mr=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(u)(e(_).mark((function t(n){var r,i,o,a,s=arguments;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]&&s[1],e.next=4,nr(n.appConfig,(function(e){if(!xr(e))throw Cn.create("not-registered");var t=e.authToken;if(!r&&Ir(t))return e;if(1===t.requestStatus)return i=yr(n,r),e;if(!navigator.onLine)throw Cn.create("app-offline");var o=Sr(e);return i=wr(n,o),o}));case 4:if(o=e.sent,!i){e.next=11;break}return e.next=8,i;case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=o.authToken;case 12:return a=e.t0,e.abrupt("return",a);case 14:case"end":return e.stop()}}),t)}))),mr.apply(this,arguments)}function yr(e,t){return br.apply(this,arguments)}function br(){return(br=e(u)(e(_).mark((function t(n,r){var i,o;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_r(n.appConfig);case 2:i=e.sent;case 3:if(1!==i.authToken.requestStatus){e.next=11;break}return e.next=6,Bn(100);case 6:return e.next=8,_r(n.appConfig);case 8:i=e.sent,e.next=3;break;case 11:if(0!==(o=i.authToken).requestStatus){e.next=16;break}return e.abrupt("return",gr(n,r));case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function _r(e){return nr(e,(function(e){if(!xr(e))throw Cn.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+kn<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function wr(e,t){return kr.apply(this,arguments)}function kr(){return(kr=e(u)(e(_).mark((function t(n,r){var i,o,a;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dr(n,r);case 3:return i=e.sent,o=Object.assign(Object.assign({},r),{authToken:i}),e.next=7,Xn(n.appConfig,o);case 7:return e.abrupt("return",i);case 10:if(e.prev=10,e.t0=e.catch(0),!Tn(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,er(n.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},r),{authToken:{requestStatus:0}}),e.next=20,Xn(n.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function xr(e){return void 0!==e&&2===e.registrationStatus}function Ir(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Sn}(e)}function Sr(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Er(){return(Er=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(u)(e(_).mark((function t(n){var r,i,o,a;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n,e.next=3,ir(r);case 3:return i=e.sent,o=i.installationEntry,(a=i.registrationPromise)?a.catch(console.error):gr(r).catch(console.error),e.abrupt("return",o.fid);case 8:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Cr(){return Cr=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(u)(e(_).mark((function t(n){var r,i,o,a=arguments;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]&&a[1],i=n,e.next=4,Tr(i);case 4:return e.next=6,gr(i,r);case 6:return o=e.sent,e.abrupt("return",o.token);case 8:case"end":return e.stop()}}),t)}))),Cr.apply(this,arguments)}function Tr(e){return Or.apply(this,arguments)}function Or(){return(Or=e(u)(e(_).mark((function t(n){var r;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ir(n);case 2:if(!(r=e.sent.registrationPromise)){e.next=6;break}return e.next=6,r;case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Nr(e){return Cn.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pr="installations",Rr=function(e){var t=$t(e.getProvider("app").getImmediate(),Pr).getImmediate(),n={getId:function(){return function(e){return Er.apply(this,arguments)}(t)},getToken:function(e){return function(e){return Cr.apply(this,arguments)}(t,e)}};return n};Yt(new at(Pr,(function(e){var t=e.getProvider("app").getImmediate(),n=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){if(!e||!e.options)throw Nr("App Configuration");if(!e.name)throw Nr("App Name");var t=!0,n=!1,r=void 0;try{for(var i,o=["projectId","apiKey","appId"][Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if(!e.options[a])throw Nr(a)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:$t(t,"heartbeat"),_delete:function(){return Promise.resolve()}}}),"PUBLIC")),Yt(new at("installations-internal",Rr,"PRIVATE")),rn(_n,wn),rn(_n,wn,"esm2017");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ar,Lr="analytics",Mr=6e4,Dr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jr="https://www.googletagmanager.com/gtag/js",Ur=new yt("@firebase/analytics"),Br=(Ar={},e(d)(Ar,"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),e(d)(Ar,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),e(d)(Ar,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),e(d)(Ar,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),e(d)(Ar,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),e(d)(Ar,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),e(d)(Ar,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),e(d)(Ar,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),e(d)(Ar,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),e(d)(Ar,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),e(d)(Ar,"invalid-gtag-resource","Trusted Types detected an invalid gtag resource: {$gtagURL}."),Ar),Fr=new Me("analytics","Analytics",Br);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function qr(e){if(!e.startsWith(jr)){var t=Fr.create("invalid-gtag-resource",{gtagURL:e});return Ur.warn(t.message),""}return e}function Hr(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function zr(e,t){var n=function(e,t){var n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:qr}),r=document.createElement("script"),i="".concat(jr,"?l=").concat(e,"&id=").concat(t);r.src=n?null==n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Wr(e,t,n,r,i,o){return Vr.apply(this,arguments)}function Vr(){return(Vr=e(u)(e(_).mark((function t(n,r,i,o,a,s){var u,c,l;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=o[a],e.prev=1,!u){e.next=7;break}return e.next=5,r[u];case 5:e.next=14;break;case 7:return e.next=9,Hr(i);case 9:if(c=e.sent,!(l=c.find((function(e){return e.measurementId===a})))){e.next=14;break}return e.next=14,r[l.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),Ur.error(e.t0);case 19:n("config",a,s);case 20:case"end":return e.stop()}}),t,null,[[1,16]])})))).apply(this,arguments)}function Kr(e,t,n,r,i){return Gr.apply(this,arguments)}function Gr(){return(Gr=e(u)(e(_).mark((function t(n,r,i,o,a){var s,u,c,l,f,h,d,p,v,g,m;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s=[],!a||!a.send_to){e.next=38;break}return u=a.send_to,Array.isArray(u)||(u=[u]),e.next=7,Hr(i);case 7:c=e.sent,l=!0,f=!1,h=void 0,e.prev=9,d=u[Symbol.iterator]();case 11:if(l=(p=d.next()).done){e.next=24;break}if(v=p.value,g=c.find((function(e){return e.measurementId===v})),!(m=g&&r[g.appId])){e.next=19;break}s.push(m),e.next=21;break;case 19:return s=[],e.abrupt("break",24);case 21:l=!0,e.next=11;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(9),f=!0,h=e.t0;case 30:e.prev=30,e.prev=31,l||null==d.return||d.return();case 33:if(e.prev=33,!f){e.next=36;break}throw h;case 36:return e.finish(33);case 37:return e.finish(30);case 38:return 0===s.length&&(s=Object.values(r)),e.next=41,Promise.all(s);case 41:n("event",o,a||{}),e.next=47;break;case 44:e.prev=44,e.t1=e.catch(0),Ur.error(e.t1);case 47:case"end":return e.stop()}}),t,null,[[0,44],[9,26,30,38],[31,,33,37]])})))).apply(this,arguments)}function Jr(t,n,r,i,o){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[i].push(arguments)};return window[o]&&"function"==typeof window[o]&&(a=window[o]),window[o]=function(t,n,r,i){function o(){return(o=e(u)(e(_).mark((function o(a,s,u){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"event"!==a){e.next=6;break}return e.next=4,Kr(t,n,r,s,u);case 4:e.next=12;break;case 6:if("config"!==a){e.next=11;break}return e.next=9,Wr(t,n,r,i,s,u);case 9:e.next=12;break;case 11:"consent"===a?t("consent","update",u):t("set",s);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),Ur.error(e.t0);case 17:case"end":return e.stop()}}),o,null,[[0,14]])})))).apply(this,arguments)}return function(e,t,n){return o.apply(this,arguments)}}(a,t,n,r),{gtagCore:a,wrappedGtag:window[o]}}function Yr(e){var t=window.document.getElementsByTagName("script"),n=!0,r=!1,i=void 0;try{for(var o,a=Object.values(t)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.src&&s.src.includes(jr)&&s.src.includes(e))return s}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $r=function(){"use strict";function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;e(l)(this,t),this.throttleMetadata=n,this.intervalMillis=r}return e(f)(t,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),t}(),Qr=new $r;function Xr(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Zr(e){return ei.apply(this,arguments)}function ei(){return(ei=e(u)(e(_).mark((function t(n){var r,i,o,a,s,u,c,l;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.appId,o=n.apiKey,a={method:"GET",headers:Xr(o)},s=Dr.replace("{app-id}",i),e.next=6,fetch(s,a);case 6:if(200===(u=e.sent).status||304===u.status){e.next=19;break}return c="",e.prev=9,e.next=12,u.json();case 12:l=e.sent,(null===(r=l.error)||void 0===r?void 0:r.message)&&(c=l.error.message),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(9);case 18:throw Fr.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c});case 19:return e.abrupt("return",u.json());case 20:case"end":return e.stop()}}),t,null,[[9,16]])})))).apply(this,arguments)}function ti(e){return ni.apply(this,arguments)}function ni(){return ni=e(u)(e(_).mark((function t(n){var r,i,o,a,s,c,l,f,h=arguments;return e(_).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=h.length>1&&void 0!==h[1]?h[1]:Qr,i=h.length>2?h[2]:void 0,o=n.options,a=o.appId,s=o.apiKey,c=o.measurementId,a){t.next=4;break}throw Fr.create("no-app-id");case 4:if(s){t.next=8;break}if(!c){t.next=7;break}return t.abrupt("return",{measurementId:c,appId:a});case 7:throw Fr.create("no-api-key");case 8:return l=r.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new ci,setTimeout(e(u)(e(_).mark((function t(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.abort();case 1:case"end":return e.stop()}}),t)}))),void 0!==i?i:Mr),t.abrupt("return",ri({appId:a,apiKey:s,measurementId:c},l,f,r));case 12:case"end":return t.stop()}}),t)}))),ni.apply(this,arguments)}function ri(e,t,n){return ii.apply(this,arguments)}function ii(){return ii=e(u)(e(_).mark((function t(n,r,i){var o,a,s,u,c,l,f,h,d,p,v=arguments;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.throttleEndTimeMillis,a=r.backoffCount,s=v.length>3&&void 0!==v[3]?v[3]:Qr,c=n.appId,l=n.measurementId,e.prev=3,e.next=6,oi(i,o);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!l){e.next=13;break}return Ur.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,Zr(n);case 17:return f=e.sent,s.deleteThrottleMetadata(c),e.abrupt("return",f);case 22:if(e.prev=22,e.t1=e.catch(14),ai(h=e.t1)){e.next=33;break}if(s.deleteThrottleMetadata(c),!l){e.next=32;break}return Ur.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null==h?void 0:h.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 32:throw e.t1;case 33:return d=503===Number(null===(u=null==h?void 0:h.customData)||void 0===u?void 0:u.httpStatus)?it(a,s.intervalMillis,30):it(a,s.intervalMillis),p={throttleEndTimeMillis:Date.now()+d,backoffCount:a+1},s.setThrottleMetadata(c,p),Ur.debug("Calling attemptFetch again in ".concat(d," millis")),e.abrupt("return",ri(n,p,i,s));case 38:case"end":return e.stop()}}),t,null,[[3,8],[14,22]])}))),ii.apply(this,arguments)}function oi(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(Fr.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function ai(e){if(!(e instanceof Le&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var si,ui,ci=function(){"use strict";function t(){e(l)(this,t),this.listeners=[]}return e(f)(t,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return(li=e(u)(e(_).mark((function t(n,r,i,o,a){var s,u;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return n("event",i,o),e.abrupt("return");case 5:return e.next=7,r;case 7:s=e.sent,u=Object.assign(Object.assign({},o),{send_to:s}),n("event",i,u);case 10:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function fi(e){ui=e}function hi(e){si=e}function di(){return pi.apply(this,arguments)}function pi(){return(pi=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(u)(e(_).mark((function t(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pe()){e.next=5;break}return Ur.warn(Fr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,Re();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),Ur.warn(Fr.create("indexeddb-unavailable",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),t,null,[[5,10]])})))).apply(this,arguments)}function vi(){return(vi=e(u)(e(_).mark((function t(n,r,i,o,a,s,u){var c,l,f,h,d,p,v;return e(_).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(l=ti(n)).then((function(e){i[e.measurementId]=e.appId,n.options.measurementId&&e.measurementId!==n.options.measurementId&&Ur.warn("The measurement ID in the local Firebase config (".concat(n.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return Ur.error(e)})),r.push(l),f=di().then((function(e){return e?o.getId():void 0})),t.t0=e(k),t.next=8,Promise.all([l,f]);case 8:return t.t1=t.sent,h=(0,t.t0)(t.t1,2),d=h[0],p=h[1],Yr(s)||zr(s,d.measurementId),ui&&(a("consent","default",ui),fi(void 0)),a("js",new Date),(v=null!==(c=null==u?void 0:u.config)&&void 0!==c?c:{}).origin="firebase",v.update=!0,null!=p&&(v.firebase_id=p),a("config",d.measurementId,v),si&&(a("set",si),hi(void 0)),t.abrupt("return",d.measurementId);case 22:case"end":return t.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gi,mi,yi=function(){"use strict";function t(n){e(l)(this,t),this.app=n}return e(f)(t,[{key:"_delete",value:function(){return delete bi[this.app.options.appId],Promise.resolve()}}]),t}(),bi={},_i=[],wi={},ki="dataLayer",xi="gtag",Ii=!1;function Si(e,t,n){!function(){var e=[];if(Te()&&e.push("This is a browser extension environment."),Ae()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=Fr.create("invalid-analytics-context",{errorInfo:t});Ur.warn(n.message)}}();var r,i,o=e.options.appId;if(!o)throw Fr.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Fr.create("no-api-key");Ur.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=bi[o])throw Fr.create("already-exists",{id:o});if(!Ii){r=ki,i=[],Array.isArray(window[r])?i=window[r]:window[r]=i;var a=Jr(bi,_i,wi,ki,xi),s=a.wrappedGtag,u=a.gtagCore;mi=s,gi=u,Ii=!0}return bi[o]=function(e,t,n,r,i,o,a){return vi.apply(this,arguments)}(e,_i,wi,t,gi,ki,n),new yi(e)}function Ei(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=$t(e,Lr);if(n.isInitialized()){var r=n.getImmediate();if(Ke(t,n.getOptions()))return r;throw Fr.create("already-initialized")}var i=n.initialize({options:t});return i}function Ci(e,t,n,r){e=ot(e),function(e,t,n,r,i){return li.apply(this,arguments)}(mi,bi[e.app.options.appId],t,n,r).catch((function(e){return Ur.error(e)}))}var Ti="@firebase/analytics",Oi="0.9.5";Yt(new at(Lr,(function(e,t){var n=t.options;return Si(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Yt(new at("analytics-internal",(function(e){try{var t=e.getProvider(Lr).getImmediate();return{logEvent:function(e,n,r){return Ci(t,e,n,r)}}}catch(e){throw Fr.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),rn(Ti,Oi),rn(Ti,Oi,"esm2017");T=i("ds8z5"),d=i("hKHmD");var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.default=function(e,t,n){return Ri(e,t,n)};var Pi=function(e){return e&&e.__esModule?e:{default:e}}(i("2mz0K"));function Ri(e,t,n){return(Ri="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Pi.default(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n||e):i.value}})(e,t,n)}var Ai=i("fVNic");function Li(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;function Mi(){return e(d)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Di=Mi,ji=new Me("auth","Firebase",Mi()),Ui=new yt("@firebase/auth");function Bi(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o;Ui.logLevel<=ct.WARN&&(o=Ui).warn.apply(o,["Auth (".concat(en,"): ").concat(t)].concat(e(p)(r)))}function Fi(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o;Ui.logLevel<=ct.ERROR&&(o=Ui).error.apply(o,["Auth (".concat(en,"): ").concat(t)].concat(e(p)(r)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];throw Vi.apply(void 0,[t].concat(e(p)(r)))}function Hi(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Vi.apply(void 0,[t].concat(e(p)(r)))}function zi(t,n,r){var i=Object.assign(Object.assign({},Di()),e(d)({},n,r));return new Me("auth","Firebase",i).create(n,{appName:t.name})}function Wi(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&qi(e,"argument-error"),zi(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Vi(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o;if("string"!=typeof t){var a,s=r[0],u=e(p)(r.slice(1));return u[0]&&(u[0].appName=t.name),(a=t._errorFactory).create.apply(a,[s].concat(e(p)(u)))}return(o=ji).create.apply(o,[t].concat(e(p)(r)))}function Ki(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(!t)throw Vi.apply(void 0,[n].concat(e(p)(i)))}function Gi(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Fi(t),new Error(t)}function Ji(e,t){e||Gi(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function $i(){return"http:"===Qi()||"https:"===Qi()}function Qi(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Xi=function(){"use strict";function t(n,r){e(l)(this,t),this.shortDelay=n,this.longDelay=r,Ji(r>n,"Short delay should be less than long delay!"),this.isMobile=Ce()||Oe()}return e(f)(t,[{key:"get",value:function(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($i()||Te()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(e,t){Ji(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eo,to=function(){"use strict";function t(){e(l)(this,t)}return e(f)(t,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),t}(),no=(eo={},e(d)(eo,"CREDENTIAL_MISMATCH","custom-token-mismatch"),e(d)(eo,"MISSING_CUSTOM_TOKEN","internal-error"),e(d)(eo,"INVALID_IDENTIFIER","invalid-email"),e(d)(eo,"MISSING_CONTINUE_URI","internal-error"),e(d)(eo,"INVALID_PASSWORD","wrong-password"),e(d)(eo,"MISSING_PASSWORD","missing-password"),e(d)(eo,"EMAIL_EXISTS","email-already-in-use"),e(d)(eo,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),e(d)(eo,"INVALID_IDP_RESPONSE","invalid-credential"),e(d)(eo,"INVALID_PENDING_TOKEN","invalid-credential"),e(d)(eo,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),e(d)(eo,"MISSING_REQ_TYPE","internal-error"),e(d)(eo,"EMAIL_NOT_FOUND","user-not-found"),e(d)(eo,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),e(d)(eo,"EXPIRED_OOB_CODE","expired-action-code"),e(d)(eo,"INVALID_OOB_CODE","invalid-action-code"),e(d)(eo,"MISSING_OOB_CODE","internal-error"),e(d)(eo,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),e(d)(eo,"INVALID_ID_TOKEN","invalid-user-token"),e(d)(eo,"TOKEN_EXPIRED","user-token-expired"),e(d)(eo,"USER_NOT_FOUND","user-token-expired"),e(d)(eo,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),e(d)(eo,"INVALID_CODE","invalid-verification-code"),e(d)(eo,"INVALID_SESSION_INFO","invalid-verification-id"),e(d)(eo,"INVALID_TEMPORARY_PROOF","invalid-credential"),e(d)(eo,"MISSING_SESSION_INFO","missing-verification-id"),e(d)(eo,"SESSION_EXPIRED","code-expired"),e(d)(eo,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),e(d)(eo,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),e(d)(eo,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),e(d)(eo,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),e(d)(eo,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),e(d)(eo,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),e(d)(eo,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),e(d)(eo,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),e(d)(eo,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),e(d)(eo,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),e(d)(eo,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),e(d)(eo,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),e(d)(eo,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),e(d)(eo,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),e(d)(eo,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),e(d)(eo,"MISSING_CLIENT_TYPE","missing-client-type"),e(d)(eo,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),e(d)(eo,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),e(d)(eo,"INVALID_REQ_TYPE","invalid-req-type"),eo),ro=new Xi(3e4,6e4);function io(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function oo(e,t,n,r){return ao.apply(this,arguments)}function ao(){return ao=e(u)(e(_).mark((function t(n,r,i,o){var a,s=arguments;return e(_).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},t.abrupt("return",so(n,a,e(u)(e(_).mark((function t(){var a,s,u,c;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},s={},o&&("GET"===r?s=o:a={body:JSON.stringify(o)}),u=Je(Object.assign({key:n.config.apiKey},s)).slice(1),e.next=6,n._getAdditionalHeaders();case 6:return(c=e.sent)["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode),e.abrupt("return",to.fetch()(fo(n,n.config.apiHost,i,u),Object.assign({method:r,headers:c,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),t)})))));case 2:case"end":return t.stop()}}),t)}))),ao.apply(this,arguments)}function so(e,t,n){return uo.apply(this,arguments)}function uo(){return(uo=e(u)(e(_).mark((function t(n,r,i){var o,a,s,u,c,l,f,h,d;return e(_).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n._canInitEmulator=!1,o=Object.assign(Object.assign({},no),r),t.prev=2,a=new ho(n),t.next=6,Promise.race([i(),a.promise]);case 6:return s=t.sent,a.clearNetworkTimeout(),t.next=10,s.json();case 10:if(!("needConfirmation"in(u=t.sent))){t.next=13;break}throw po(n,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){t.next=17;break}return t.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,l=e(k)(c.split(" : "),2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){t.next=23;break}throw po(n,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){t.next=27;break}throw po(n,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){t.next=29;break}throw po(n,"user-disabled",u);case 29:if(d=o[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){t.next=34;break}throw zi(n,d,h);case 34:qi(n,d);case 35:t.next=42;break;case 37:if(t.prev=37,t.t0=t.catch(2),!(t.t0 instanceof Le)){t.next=41;break}throw t.t0;case 41:qi(n,"network-request-failed",{message:String(t.t0)});case 42:case"end":return t.stop()}}),t,null,[[2,37]])})))).apply(this,arguments)}function co(e,t,n,r){return lo.apply(this,arguments)}function lo(){return lo=e(u)(e(_).mark((function t(n,r,i,o){var a,s,u=arguments;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,oo(n,r,i,o,a);case 3:return"mfaPendingCredential"in(s=e.sent)&&qi(n,"multi-factor-auth-required",{_serverResponse:s}),e.abrupt("return",s);case 6:case"end":return e.stop()}}),t)}))),lo.apply(this,arguments)}function fo(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Zi(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ho=function(){"use strict";function t(n){var r=this;e(l)(this,t),this.auth=n,this.timer=null,this.promise=new Promise((function(e,t){var n=r;r.timer=setTimeout((function(){return t(Hi(n.auth,"network-request-failed"))}),ro.get())}))}return e(f)(t,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),t}();function po(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Hi(e,t,r);return i.customData._tokenResponse=n,i}function vo(e,t){return go.apply(this,arguments)}function go(){return(go=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(u)(e(_).mark((function t(n,r){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oo(n,"POST","/v1/accounts:delete",r));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function mo(e,t){return yo.apply(this,arguments)}function yo(){return(yo=e(u)(e(_).mark((function t(n,r){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oo(n,"POST","/v1/accounts:lookup",r));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(){return _o=e(u)(e(_).mark((function t(n){var r,i,o,a,s,u,c=arguments;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]&&c[1],i=ot(n),e.next=4,i.getIdToken(r);case 4:return o=e.sent,Ki((a=ko(o))&&a.exp&&a.auth_time&&a.iat,i.auth,"internal-error"),s="object"==typeof a.firebase?a.firebase:void 0,u=null==s?void 0:s.sign_in_provider,e.abrupt("return",{claims:a,token:o,authTime:bo(wo(a.auth_time)),issuedAtTime:bo(wo(a.iat)),expirationTime:bo(wo(a.exp)),signInProvider:u||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),t)}))),_o.apply(this,arguments)}function wo(e){return 1e3*Number(e)}function ko(t){var n=e(k)(t.split("."),3),r=n[0],i=n[1],o=n[2];if(void 0===r||void 0===i||void 0===o)return Fi("JWT malformed, contained fewer than 3 sections"),null;try{var a=ve(i);return a?JSON.parse(a):(Fi("Failed to decode base64 JWT payload"),null)}catch(e){return Fi("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}function xo(e,t){return Io.apply(this,arguments)}function Io(){return Io=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(u)(e(_).mark((function t(n,r){var i=arguments;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.length>2&&void 0!==i[2]&&i[2])){e.next=3;break}return e.abrupt("return",r);case 3:return e.prev=3,e.next=6,r;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Le&&So(e.t0))){e.next=15;break}if(n.auth.currentUser!==n){e.next=15;break}return e.next=15,n.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),t,null,[[3,9]])}))),Io.apply(this,arguments)}function So(e){var t=e.code;return"auth/user-disabled"===t||"auth/user-token-expired"===t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eo=function(){"use strict";function t(n){e(l)(this,t),this.user=n,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return e(f)(t,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t),r=this;this.timerId=setTimeout(e(u)(e(_).mark((function t(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.iteration();case 2:case"end":return e.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var t=this;return e(u)(e(_).mark((function n(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),"auth/network-request-failed"===(null===e.t0||void 0===e.t0?void 0:e.t0.code)&&t.schedule(!0),e.abrupt("return");case 9:t.schedule();case 10:case"end":return e.stop()}}),n,null,[[0,5]])})))()}}]),t}(),Co=function(){"use strict";function t(n,r){e(l)(this,t),this.createdAt=n,this.lastLoginAt=r,this._initializeTime()}return e(f)(t,[{key:"_initializeTime",value:function(){this.lastSignInTime=bo(this.lastLoginAt),this.creationTime=bo(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(e){return Oo.apply(this,arguments)}function Oo(){return(Oo=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(u)(e(_).mark((function t(n){var r,i,o,a,s,u,c,l,f,h,d;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.auth,e.next=4,n.getIdToken();case 4:return o=e.sent,e.next=7,xo(n,mo(i,{idToken:o}));case 7:Ki(null==(a=e.sent)?void 0:a.users.length,i,"internal-error"),s=a.users[0],n._notifyReloadListener(s),u=(null===(r=s.providerUserInfo)||void 0===r?void 0:r.length)?Ro(s.providerUserInfo):[],c=Po(n.providerData,u),l=n.isAnonymous,f=!(n.email&&s.passwordHash||(null==c?void 0:c.length)),h=!!l&&f,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Co(s.createdAt,s.lastLoginAt),isAnonymous:h},Object.assign(n,d);case 18:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function No(){return(No=e(u)(e(_).mark((function t(n){var r;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ot(n),e.next=3,To(r);case 3:return e.next=5,r.auth._persistUserIfCurrent(r);case 5:r.auth._notifyListenersIfCurrent(r);case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Po(t,n){var r=t.filter((function(e){return!n.some((function(t){return t.providerId===e.providerId}))}));return e(p)(r).concat(e(p)(n))}function Ro(e){return e.map((function(e){var t=e.providerId,n=Li(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Ao(e,t){return Lo.apply(this,arguments)}function Lo(){return(Lo=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(u)(e(_).mark((function t(n,r){var i;return e(_).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,so(n,{},e(u)(e(_).mark((function t(){var i,o,a,s,u,c;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Je({grant_type:"refresh_token",refresh_token:r}).slice(1),o=n.config,a=o.tokenApiHost,s=o.apiKey,u=fo(n,a,"/v1/token","key=".concat(s)),e.next=5,n._getAdditionalHeaders();case 5:return(c=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",to.fetch()(u,{method:"POST",headers:c,body:i}));case 8:case"end":return e.stop()}}),t)}))));case 2:return i=t.sent,t.abrupt("return",{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mo=function(){"use strict";function t(){e(l)(this,t),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return e(f)(t,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ki(e.idToken,"internal-error"),Ki(void 0!==e.idToken,"internal-error"),Ki(void 0!==e.refreshToken,"internal-error");var t,n,r="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):(t=e.idToken,Ki(n=ko(t),"internal-error"),Ki(void 0!==n.exp,"internal-error"),Ki(void 0!==n.iat,"internal-error"),Number(n.exp)-Number(n.iat));this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}},{key:"getToken",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;return e(u)(e(_).mark((function i(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ki(!r.accessToken||r.refreshToken,t,"user-token-expired"),n||!r.accessToken||r.isExpired){e.next=3;break}return e.abrupt("return",r.accessToken);case 3:if(!r.refreshToken){e.next=7;break}return e.next=6,r.refresh(t,r.refreshToken);case 6:return e.abrupt("return",r.accessToken);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),i)})))()}},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(t,n){var r=this;return e(u)(e(_).mark((function i(){var o,a,s,u;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ao(t,n);case 2:o=e.sent,a=o.accessToken,s=o.refreshToken,u=o.expiresIn,r.updateTokensAndExpiration(a,s,Number(u));case 7:case"end":return e.stop()}}),i)})))()}},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new t,this.toJSON())}},{key:"_performRefresh",value:function(){return Gi("not implemented")}}],[{key:"fromJSON",value:function(e,n){var r=n.refreshToken,i=n.accessToken,o=n.expirationTime,a=new t;return r&&(Ki("string"==typeof r,"internal-error",{appName:e}),a.refreshToken=r),i&&(Ki("string"==typeof i,"internal-error",{appName:e}),a.accessToken=i),o&&(Ki("number"==typeof o,"internal-error",{appName:e}),a.expirationTime=o),a}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(e,t){Ki("string"==typeof e||void 0===e,"internal-error",{appName:t})}var jo=function(){"use strict";function t(n){e(l)(this,t);var r=n.uid,i=n.auth,o=n.stsTokenManager,a=Li(n,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Eo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?e(p)(a.providerData):[],this.metadata=new Co(a.createdAt||void 0,a.lastLoginAt||void 0)}return e(f)(t,[{key:"getIdToken",value:function(t){var n=this;return e(u)(e(_).mark((function r(){var i;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xo(n,n.stsTokenManager.getToken(n.auth,t));case 2:if(Ki(i=e.sent,n.auth,"internal-error"),n.accessToken===i){e.next=9;break}return n.accessToken=i,e.next=8,n.auth._persistUserIfCurrent(n);case 8:n.auth._notifyListenersIfCurrent(n);case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}}),r)})))()}},{key:"getIdTokenResult",value:function(e){return function(e){return _o.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return No.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Ki(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(e){var n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Ki(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;return e(u)(e(_).mark((function i(){var o;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!1,t.idToken&&t.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(t),o=!0),!n){e.next=5;break}return e.next=5,To(r);case 5:return e.next=7,r.auth._persistUserIfCurrent(r);case 7:o&&r.auth._notifyListenersIfCurrent(r);case 8:case"end":return e.stop()}}),i)})))()}},{key:"delete",value:function(){var t=this;return e(u)(e(_).mark((function n(){var r;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getIdToken();case 2:return r=e.sent,e.next=5,xo(t,vo(t.auth,{idToken:r}));case 5:return t.stsTokenManager.clearRefreshToken(),e.abrupt("return",t.auth.signOut());case 7:case"end":return e.stop()}}),n)})))()}},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(e,n){var r,i,o,a,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(a=n.photoURL)&&void 0!==a?a:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,g=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,_=n.emailVerified,w=n.isAnonymous,k=n.providerData,x=n.stsTokenManager;Ki(b&&x,e,"internal-error");var I=Mo.fromJSON(this.name,x);Ki("string"==typeof b,e,"internal-error"),Do(f,e.name),Do(h,e.name),Ki("boolean"==typeof _,e,"internal-error"),Ki("boolean"==typeof w,e,"internal-error"),Do(d,e.name),Do(p,e.name),Do(v,e.name),Do(g,e.name),Do(m,e.name),Do(y,e.name);var S=new t({uid:b,auth:e,email:h,emailVerified:_,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:m,lastLoginAt:y});return k&&Array.isArray(k)&&(S.providerData=k.map((function(e){return Object.assign({},e)}))),g&&(S._redirectEventId=g),S}},{key:"_fromIdTokenResponse",value:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e(u)(e(_).mark((function o(){var a,s;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Mo).updateFromServerResponse(r),s=new t({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),e.next=5,To(s);case 5:return e.abrupt("return",s);case 6:case"end":return e.stop()}}),o)})))()}}]),t}(),Uo=new Map;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(e){Ji(e instanceof Function,"Expected a class definition");var t=Uo.get(e);return t?(Ji(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Uo.set(e,t),t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fo=function(){"use strict";function t(){e(l)(this,t),this.type="NONE",this.storage={}}return e(f)(t,[{key:"_isAvailable",value:function(){return e(u)(e(_).mark((function t(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),t)})))()}},{key:"_set",value:function(t,n){var r=this;return e(u)(e(_).mark((function i(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.storage[t]=n;case 1:case"end":return e.stop()}}),i)})))()}},{key:"_get",value:function(t){var n=this;return e(u)(e(_).mark((function r(){var i;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.storage[t],e.abrupt("return",void 0===i?null:i);case 2:case"end":return e.stop()}}),r)})))()}},{key:"_remove",value:function(t){var n=this;return e(u)(e(_).mark((function r(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete n.storage[t];case 1:case"end":return e.stop()}}),r)})))()}},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),t}();Fo.type="NONE";var qo=Fo;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(e,t,n){return"firebase:".concat(e,":").concat(t,":").concat(n)}var zo=function(){"use strict";function t(n,r,i){e(l)(this,t),this.persistence=n,this.auth=r,this.userKey=i;var o=this.auth,a=o.config,s=o.name;this.fullUserKey=Ho(this.userKey,a.apiKey,s),this.fullPersistenceKey=Ho("persistence",a.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return e(f)(t,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var t=this;return e(u)(e(_).mark((function n(){var r;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.persistence._get(t.fullUserKey);case 2:return r=e.sent,e.abrupt("return",r?jo._fromJSON(t.auth,r):null);case 4:case"end":return e.stop()}}),n)})))()}},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(t){var n=this;return e(u)(e(_).mark((function r(){var i;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.getCurrentUser();case 4:return i=e.sent,e.next=7,n.removeCurrentUser();case 7:if(n.persistence=t,!i){e.next=10;break}return e.abrupt("return",n.setCurrentUser(i));case 10:case"end":return e.stop()}}),r)})))()}},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";return e(u)(e(_).mark((function o(){var a,s,c,l,f,h,d,p,v,g,m,y,b;return e(_).wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(r.length){o.next=2;break}return o.abrupt("return",new t(Bo(qo),n,i));case 2:return o.next=4,Promise.all(r.map(function(){var t=e(u)(e(_).mark((function t(n){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",n);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 4:a=o.sent.filter((function(e){return e})),s=a[0]||Bo(qo),c=Ho(i,n.config.apiKey,n.name),l=null,f=!0,h=!1,d=void 0,o.prev=9,p=r[Symbol.iterator]();case 11:if(f=(v=p.next()).done){o.next=29;break}return g=v.value,o.prev=13,o.next=16,g._get(c);case 16:if(!(m=o.sent)){o.next=22;break}return y=jo._fromJSON(n,m),g!==s&&(l=y),s=g,o.abrupt("break",29);case 22:o.next=26;break;case 24:o.prev=24,o.t0=o.catch(13);case 26:f=!0,o.next=11;break;case 29:o.next=35;break;case 31:o.prev=31,o.t1=o.catch(9),h=!0,d=o.t1;case 35:o.prev=35,o.prev=36,f||null==p.return||p.return();case 38:if(o.prev=38,!h){o.next=41;break}throw d;case 41:return o.finish(38);case 42:return o.finish(35);case 43:if(b=a.filter((function(e){return e._shouldAllowMigration})),s._shouldAllowMigration&&b.length){o.next=46;break}return o.abrupt("return",new t(s,n,i));case 46:if(s=b[0],!l){o.next=50;break}return o.next=50,s._set(c,l.toJSON());case 50:return o.next=52,Promise.all(r.map(function(){var t=e(u)(e(_).mark((function t(n){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n===s){e.next=8;break}return e.prev=1,e.next=4,n._remove(c);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()));case 52:return o.abrupt("return",new t(s,n,i));case 53:case"end":return o.stop()}}),o,null,[[9,31,35,43],[13,24],[36,,38,42]])})))()}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Jo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Vo(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($o(t))return"Blackberry";if(Qo(t))return"Webos";if(Ko(t))return"Safari";if((t.includes("chrome/")||Go(t))&&!t.includes("edge/"))return"Chrome";if(Yo(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null==n?void 0:n.length)?n[1]:"Other"}function Vo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/firefox\//i.test(e)}function Ko(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Go(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/crios\//i.test(e)}function Jo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/iemobile/i.test(e)}function Yo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/android/i.test(e)}function $o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/blackberry/i.test(e)}function Qo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/webos/i.test(e)}function Xo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Zo(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return Xo(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function ea(){return((e=Ee()).indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0)&&10===document.documentMode;var e}function ta(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return Xo(e)||Yo(e)||Qo(e)||$o(e)||/windows phone/i.test(e)||Jo(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function na(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Wo(Ee());break;case"Worker":t="".concat(Wo(Ee()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(en,"/").concat(r)}function ra(e,t){return ia.apply(this,arguments)}function ia(){return(ia=e(u)(e(_).mark((function t(n,r){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oo(n,"GET","/v2/recaptchaConfig",io(n,r)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(e){return void 0!==e&&void 0!==e.enterprise}var aa=function t(n){"use strict";if(e(l)(this,t),this.siteKey="",this.emailPasswordEnabled=!1,void 0===n.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=n.recaptchaKey.split("/")[3],this.emailPasswordEnabled=n.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(e){return new Promise((function(t,n){var r,i,o=document.createElement("script");o.setAttribute("src",e),o.onload=t,o.onerror=function(e){var t=Hi("internal-error");t.customData=e,n(t)},o.type="text/javascript",o.charset="UTF-8",(null!==(i=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==i?i:document).appendChild(o)}))}function ua(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ca="https://www.google.com/recaptcha/enterprise.js?render=",la=function(){"use strict";function t(n){e(l)(this,t),this.type="recaptcha-enterprise",this.auth=va(n)}return e(f)(t,[{key:"verify",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;return e(u)(e(_).mark((function i(){var o,a,s;return e(_).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=function(e){return a.apply(this,arguments)},a=function(){return a=e(u)(e(_).mark((function t(r){return e(_).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=5;break}if(null!=r.tenantId||null==r._agentRecaptchaConfig){t.next=3;break}return t.abrupt("return",r._agentRecaptchaConfig.siteKey);case 3:if(null==r.tenantId||void 0===r._tenantRecaptchaConfigs[r.tenantId]){t.next=5;break}return t.abrupt("return",r._tenantRecaptchaConfigs[r.tenantId].siteKey);case 5:return t.abrupt("return",new Promise(function(){var t=e(u)(e(_).mark((function t(n,i){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ra(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var t=new aa(e);return null==r.tenantId?r._agentRecaptchaConfig=t:r._tenantRecaptchaConfigs[r.tenantId]=t,n(t.siteKey)}i(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){i(e)}));case 1:case"end":return e.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));case 6:case"end":return t.stop()}}),t)}))),a.apply(this,arguments)},s=function(e,n,r){var i=window.grecaptcha;oa(i)?i.enterprise.ready((function(){try{i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(e){r(e)}))}catch(e){r(e)}})):r(Error("No reCAPTCHA enterprise script loaded."))},i.abrupt("return",new Promise((function(e,t){o(r.auth).then((function(r){if(!n&&oa(window.grecaptcha))s(r,e,t);else{if("undefined"==typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));sa(ca+r).then((function(){s(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 7:case"end":return i.stop()}}),i)})))()}}]),t}();function fa(e,t,n){return ha.apply(this,arguments)}function ha(){return ha=e(u)(e(_).mark((function t(n,r,i){var o,a,s,u,c=arguments;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>3&&void 0!==c[3]&&c[3],a=new la(n),e.prev=3,e.next=6,a.verify(i);case 6:s=e.sent,e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(3),e.next=13,a.verify(i,!0);case 13:s=e.sent;case 14:return u=Object.assign({},r),o?Object.assign(u,{captchaResp:s}):Object.assign(u,{captchaResponse:s}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 19:case"end":return e.stop()}}),t,null,[[3,9]])}))),ha.apply(this,arguments)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var da=function(){"use strict";function t(n){e(l)(this,t),this.auth=n,this.queue=[]}return e(f)(t,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(e){r(e)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(t){var n=this;return e(u)(e(_).mark((function r(){var i,o,a,s,u,c,l,f,h,d,p,v,g;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:i=[],e.prev=3,o=!0,a=!1,s=void 0,e.prev=5,u=n.queue[Symbol.iterator]();case 7:if(o=(c=u.next()).done){e.next=15;break}return l=c.value,e.next=11,l(t);case 11:l.onAbort&&i.push(l.onAbort);case 12:o=!0,e.next=7;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),a=!0,s=e.t0;case 21:e.prev=21,e.prev=22,o||null==u.return||u.return();case 24:if(e.prev=24,!a){e.next=27;break}throw s;case 27:return e.finish(24);case 28:return e.finish(21);case 29:e.next=52;break;case 31:for(e.prev=31,e.t1=e.catch(3),i.reverse(),f=!0,h=!1,d=void 0,e.prev=35,p=i[Symbol.iterator]();!(f=(v=p.next()).done);f=!0){g=v.value;try{g()}catch(e){}}e.next=43;break;case 39:e.prev=39,e.t2=e.catch(35),h=!0,d=e.t2;case 43:e.prev=43,e.prev=44,f||null==p.return||p.return();case 46:if(e.prev=46,!h){e.next=49;break}throw d;case 49:return e.finish(46);case 50:return e.finish(43);case 51:throw n.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 52:case"end":return e.stop()}}),r,null,[[3,31],[5,17,21,29],[22,,24,28],[35,39,43,51],[44,,46,50]])})))()}}]),t}(),pa=function(){"use strict";function t(n,r,i,o){e(l)(this,t),this.app=n,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ga(this),this.idTokenSubscription=new ga(this),this.beforeStateQueue=new da(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ji,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=n.name,this.clientVersion=o.sdkClientVersion}return e(f)(t,[{key:"_initializeWithPersistence",value:function(t,n){n&&(this._popupRedirectResolver=Bo(n));var r=this;return this._initializationPromise=this.queue(e(u)(e(_).mark((function i(){var o,a;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r._deleted){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,zo.create(r,t);case 5:if(r.persistenceManager=e.sent,!r._deleted){e.next=8;break}return e.abrupt("return");case 8:if(!(null===(o=r._popupRedirectResolver)||void 0===o?void 0:o._shouldInitProactively)){e.next=16;break}return e.prev=9,e.next=12,r._popupRedirectResolver._initialize(r);case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(9);case 16:return e.next=18,r.initializeCurrentUser(n);case 18:if(r.lastNotifiedUid=(null===(a=r.currentUser)||void 0===a?void 0:a.uid)||null,!r._deleted){e.next=21;break}return e.abrupt("return");case 21:r._isInitialized=!0;case 22:case"end":return e.stop()}}),i,null,[[9,14]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var t=this;return e(u)(e(_).mark((function n(){var r;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.assertedPersistence.getCurrentUser();case 4:if(r=e.sent,t.currentUser||r){e.next=7;break}return e.abrupt("return");case 7:if(!t.currentUser||!r||t.currentUser.uid!==r.uid){e.next=12;break}return t._currentUser._assign(r),e.next=11,t.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,t._updateCurrentUser(r,!0);case 14:case"end":return e.stop()}}),n)})))()}},{key:"initializeCurrentUser",value:function(t){var n=this;return e(u)(e(_).mark((function r(){var i,o,a,s,u,c,l;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,n.assertedPersistence.getCurrentUser();case 3:if(o=e.sent,a=o,s=!1,!t||!n.config.authDomain){e.next=15;break}return e.next=9,n.getOrInitRedirectPersistenceManager();case 9:return u=null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId,c=null==a?void 0:a._redirectEventId,e.next=13,n.tryRedirectSignIn(t);case 13:l=e.sent,u&&u!==c||!(null==l?void 0:l.user)||(a=l.user,s=!0);case 15:if(a){e.next=17;break}return e.abrupt("return",n.directlySetCurrentUser(null));case 17:if(a._redirectEventId){e.next=33;break}if(!s){e.next=28;break}return e.prev=19,e.next=22,n.beforeStateQueue.runMiddleware(a);case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(19),a=o,n._popupRedirectResolver._overrideRedirectResult(n,(function(){return Promise.reject(e.t0)}));case 28:if(!a){e.next=32;break}return e.abrupt("return",n.reloadAndSetCurrentUserOrClear(a));case 32:return e.abrupt("return",n.directlySetCurrentUser(null));case 33:return Ki(n._popupRedirectResolver,n,"argument-error"),e.next=36,n.getOrInitRedirectPersistenceManager();case 36:if(!n.redirectUser||n.redirectUser._redirectEventId!==a._redirectEventId){e.next=38;break}return e.abrupt("return",n.directlySetCurrentUser(a));case 38:return e.abrupt("return",n.reloadAndSetCurrentUserOrClear(a));case 39:case"end":return e.stop()}}),r,null,[[19,24]])})))()}},{key:"tryRedirectSignIn",value:function(t){var n=this;return e(u)(e(_).mark((function r(){var i;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null,e.prev=1,e.next=4,n._popupRedirectResolver._completeRedirectFn(n,t,!0);case 4:i=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,n._setRedirectUser(null);case 11:return e.abrupt("return",i);case 12:case"end":return e.stop()}}),r,null,[[1,7]])})))()}},{key:"reloadAndSetCurrentUserOrClear",value:function(t){var n=this;return e(u)(e(_).mark((function r(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,To(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),"auth/network-request-failed"===(null===e.t0||void 0===e.t0?void 0:e.t0.code)){e.next=9;break}return e.abrupt("return",n.directlySetCurrentUser(null));case 9:return e.abrupt("return",n.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),r,null,[[0,5]])})))()}},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"==typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var t=this;return e(u)(e(_).mark((function n(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._deleted=!0;case 1:case"end":return e.stop()}}),n)})))()}},{key:"updateCurrentUser",value:function(t){var n=this;return e(u)(e(_).mark((function r(){var i;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=t?ot(t):null)&&Ki(i.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),e.abrupt("return",n._updateCurrentUser(i&&i._clone(n)));case 3:case"end":return e.stop()}}),r)})))()}},{key:"_updateCurrentUser",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;return e(u)(e(_).mark((function i(){return e(_).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!r._deleted){i.next=2;break}return i.abrupt("return");case 2:if(t&&Ki(r.tenantId===t.tenantId,r,"tenant-id-mismatch"),n){i.next=6;break}return i.next=6,r.beforeStateQueue.runMiddleware(t);case 6:return i.abrupt("return",r.queue(e(u)(e(_).mark((function n(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),n)})))));case 7:case"end":return i.stop()}}),i)})))()}},{key:"signOut",value:function(){var t=this;return e(u)(e(_).mark((function n(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.beforeStateQueue.runMiddleware(null);case 2:if(!t.redirectPersistenceManager&&!t._popupRedirectResolver){e.next=5;break}return e.next=5,t._setRedirectUser(null);case 5:return e.abrupt("return",t._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),n)})))()}},{key:"setPersistence",value:function(t){var n=this;return this.queue(e(u)(e(_).mark((function r(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.assertedPersistence.setPersistence(Bo(t));case 2:case"end":return e.stop()}}),r)}))))}},{key:"initializeRecaptchaConfig",value:function(){var t=this;return e(u)(e(_).mark((function n(){var r,i;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:r=e.sent,i=new aa(r),null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,i.emailPasswordEnabled&&new la(t).verify();case 6:case"end":return e.stop()}}),n)})))()}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Me("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(t,n){var r=this;return e(u)(e(_).mark((function i(){var o;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getOrInitRedirectPersistenceManager(n);case 2:return o=e.sent,e.abrupt("return",null===t?o.removeCurrentUser():o.setCurrentUser(t));case 4:case"end":return e.stop()}}),i)})))()}},{key:"getOrInitRedirectPersistenceManager",value:function(t){var n=this;return e(u)(e(_).mark((function r(){var i;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.redirectPersistenceManager){e.next=9;break}return Ki(i=t&&Bo(t)||n._popupRedirectResolver,n,"argument-error"),e.next=5,zo.create(n,[Bo(i._redirectPersistence)],"redirectUser");case 5:return n.redirectPersistenceManager=e.sent,e.next=8,n.redirectPersistenceManager.getCurrentUser();case 8:n.redirectUser=e.sent;case 9:return e.abrupt("return",n.redirectPersistenceManager);case 10:case"end":return e.stop()}}),r)})))()}},{key:"_redirectUserForId",value:function(t){var n=this;return e(u)(e(_).mark((function r(){var i,o;return e(_).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._isInitialized){r.next=4;break}return r.next=4,n.queue(e(u)(e(_).mark((function t(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),t)}))));case 4:if((null===(i=n._currentUser)||void 0===i?void 0:i._redirectEventId)!==t){r.next=6;break}return r.abrupt("return",n._currentUser);case 6:if((null===(o=n.redirectUser)||void 0===o?void 0:o._redirectEventId)!==t){r.next=8;break}return r.abrupt("return",n.redirectUser);case 8:return r.abrupt("return",null);case 9:case"end":return r.stop()}}),r)})))()}},{key:"_persistUserIfCurrent",value:function(t){var n=this;return e(u)(e(_).mark((function r(){return e(_).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t!==n.currentUser){r.next=2;break}return r.abrupt("return",n.queue(e(u)(e(_).mark((function r(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),r)})))));case 2:case"end":return r.stop()}}),r)})))()}},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var o="function"==typeof t?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return Ki(a,this,"internal-error"),a.then((function(){return o(i.currentUser)})),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(t){var n=this;return e(u)(e(_).mark((function r(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.currentUser&&n.currentUser!==t&&n._currentUser._stopProactiveRefresh(),t&&n.isProactiveRefreshEnabled&&t._startProactiveRefresh(),n.currentUser=t,!t){e.next=8;break}return e.next=6,n.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,n.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),r)})))()}},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ki(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=na(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var t=this;return e(u)(e(_).mark((function n(){var r,i,o,a;return e(_).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e(d)({},"X-Client-Version",t.clientVersion),t.app.options.appId&&(i["X-Firebase-gmpid"]=t.app.options.appId),n.next=5,null===(r=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===r?void 0:r.getHeartbeatsHeader();case 5:return(o=n.sent)&&(i["X-Firebase-Client"]=o),n.next=9,t._getAppCheckToken();case 9:return(a=n.sent)&&(i["X-Firebase-AppCheck"]=a),n.abrupt("return",i);case 12:case"end":return n.stop()}}),n)})))()}},{key:"_getAppCheckToken",value:function(){var t=this;return e(u)(e(_).mark((function n(){var r,i;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,null===(r=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===r?void 0:r.getToken();case 3:return(null==(i=e.sent)?void 0:i.error)&&Bi("Error while retrieving App Check token: ".concat(i.error)),e.abrupt("return",null==i?void 0:i.token);case 6:case"end":return e.stop()}}),n)})))()}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(e){return ot(e)}var ga=function(){"use strict";function t(n){var r,i,o=this;e(l)(this,t),this.auth=n,this.observer=null,this.addObserver=(i=new Xe((function(e){return o.observer=e}),r)).subscribe.bind(i)}return e(f)(t,[{key:"next",get:function(){return Ki(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(e,t){var n=$t(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Ke(n.getOptions(),null!=t?t:{}))return r;qi(r,"already-initialized")}return n.initialize({options:t})}function ya(t,n,r){var i=va(t);Ki(i._canInitEmulator,i,"emulator-config-failed"),Ki(/^https?:\/\//.test(n),i,"invalid-emulator-scheme");var o=!!(null==r?void 0:r.disableWarnings),a=ba(n),s=function(t){var n=ba(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(n.length));if(!r)return{host:"",port:null};var i=r[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){var a=o[1];return{host:a,port:_a(i.substr(a.length+1))}}var s=e(k)(i.split(":"),2);return{host:s[0],port:_a(s[1])}}(n),u=s.host,c=s.port,l=null===c?"":":".concat(c);i.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()}function ba(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function _a(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var wa=function(){"use strict";function t(n,r){e(l)(this,t),this.providerId=n,this.signInMethod=r}return e(f)(t,[{key:"toJSON",value:function(){return Gi("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Gi("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Gi("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Gi("not implemented")}}]),t}();function ka(e,t){return xa.apply(this,arguments)}function xa(){return(xa=e(u)(e(_).mark((function t(n,r){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oo(n,"POST","/v1/accounts:update",r));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Ia(e,t){return Sa.apply(this,arguments)}function Sa(){return(Sa=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(u)(e(_).mark((function t(n,r){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",co(n,"POST","/v1/accounts:signInWithPassword",io(n,r)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Ea(e,t){return Ca.apply(this,arguments)}function Ca(){return(Ca=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(u)(e(_).mark((function t(n,r){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",co(n,"POST","/v1/accounts:signInWithEmailLink",io(n,r)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Ta(e,t){return Oa.apply(this,arguments)}function Oa(){return(Oa=e(u)(e(_).mark((function t(n,r){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",co(n,"POST","/v1/accounts:signInWithEmailLink",io(n,r)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Na=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(t,i,o){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return e(l)(this,r),(a=n.call(this,"password",o))._email=t,a._password=i,a._tenantId=s,a}return e(f)(r,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(t){var n=this;return e(u)(e(_).mark((function r(){var i,o,a;return e(_).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=n.signInMethod,r.next="password"===r.t0?4:"emailLink"===r.t0?13:14;break;case 4:if(o={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},!(null===(i=t._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){r.next=12;break}return r.next=8,fa(t,o,"signInWithPassword");case 8:return a=r.sent,r.abrupt("return",Ia(t,a));case 12:return r.abrupt("return",Ia(t,o).catch(function(){var n=e(u)(e(_).mark((function n(r){var i;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("auth/missing-recaptcha-token"!==r.code){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,fa(t,o,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Ia(t,i));case 8:return e.abrupt("return",Promise.reject(r));case 9:case"end":return e.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 13:return r.abrupt("return",Ea(t,{email:n._email,oobCode:n._password}));case 14:qi(t,"internal-error");case 15:case"end":return r.stop()}}),r)})))()}},{key:"_linkToIdToken",value:function(t,n){var r=this;return e(u)(e(_).mark((function i(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ka(t,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password}));case 4:return e.abrupt("return",Ta(t,{idToken:n,email:r._email,oobCode:r._password}));case 5:qi(t,"internal-error");case 6:case"end":return e.stop()}}),i)})))()}},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new r(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new r(e,t,"emailLink",n)}},{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),r}(wa);function Pa(e,t){return Ra.apply(this,arguments)}function Ra(){return(Ra=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(u)(e(_).mark((function t(n,r){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",co(n,"POST","/v1/accounts:signInWithIdp",io(n,r)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aa=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(){var t;return e(l)(this,r),(t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments)))).pendingToken=null,t}return e(f)(r,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Pa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Pa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Pa(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Je(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new r(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qi("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=t.providerId,i=t.signInMethod,o=Li(t,["providerId","signInMethod"]);if(!n||!i)return null;var a=new r(n,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}}]),r}(wa);function La(e,t){return Ma.apply(this,arguments)}function Ma(){return(Ma=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(u)(e(_).mark((function t(n,r){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oo(n,"POST","/v1/accounts:sendVerificationCode",io(n,r)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Da(){return(Da=e(u)(e(_).mark((function t(n,r){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",co(n,"POST","/v1/accounts:signInWithPhoneNumber",io(n,r)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function ja(){return(ja=e(u)(e(_).mark((function t(n,r){var i;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,co(n,"POST","/v1/accounts:signInWithPhoneNumber",io(n,r));case 2:if(!(i=e.sent).temporaryProof){e.next=5;break}throw po(n,"account-exists-with-different-credential",i);case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}var Ua=e(d)({},"USER_NOT_FOUND","user-not-found");function Ba(){return(Ba=e(u)(e(_).mark((function t(n,r){var i;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object.assign(Object.assign({},r),{operation:"REAUTH"}),e.abrupt("return",co(n,"POST","/v1/accounts:signInWithPhoneNumber",io(n,i),Ua));case 2:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fa=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(t){var i;return e(l)(this,r),(i=n.call(this,"phone","phone")).params=t,i}return e(f)(r,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Da.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ja.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Ba.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new r({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new r({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"==typeof e&&(e=JSON.parse(e));var t=e.verificationId,n=e.verificationCode,i=e.phoneNumber,o=e.temporaryProof;return n||t||i||o?new r({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:o}):null}}]),r}(wa);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qa=function(){"use strict";function t(n){var r,i,o,a,s,u;e(l)(this,t);var c=Ye($e(n)),f=null!==(r=c.apiKey)&&void 0!==r?r:null,h=null!==(i=c.oobCode)&&void 0!==i?i:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(o=c.mode)&&void 0!==o?o:null);Ki(f&&h&&d,"argument-error"),this.apiKey=f,this.operation=d,this.code=h,this.continueUrl=null!==(a=c.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(u=c.tenantId)&&void 0!==u?u:null}return e(f)(t,null,[{key:"parseLink",value:function(e){var n=function(e){var t=Ye($e(e)).link,n=t?Ye($e(t)).deep_link_id:null,r=Ye($e(e)).deep_link_id;return(r?Ye($e(r)).link:null)||r||n||t||e}(e);try{return new t(n)}catch(e){return null}}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ha=function(){"use strict";function t(){e(l)(this,t),this.providerId=t.PROVIDER_ID}return e(f)(t,null,[{key:"credential",value:function(e,t){return Na._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=qa.parseLink(t);return Ki(n,"argument-error"),Na._fromEmailAndCode(e,n.code,n.tenantId)}}]),t}();Ha.PROVIDER_ID="password",Ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var za=function(){"use strict";function t(n){e(l)(this,t),this.providerId=n,this.defaultLanguageCode=null,this.customParameters={}}return e(f)(t,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),t}(),Wa=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(){var t;return e(l)(this,r),(t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments)))).scopes=[],t}return e(f)(r,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return e(p)(this.scopes)}}]),r}(za),Va=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(){return e(l)(this,r),n.call(this,"facebook.com")}return e(f)(r,null,[{key:"credential",value:function(e){return Aa._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return r.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return r.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return r.credential(t.oauthAccessToken)}catch(e){return null}}}]),r}(Wa);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Va.FACEBOOK_SIGN_IN_METHOD="facebook.com",Va.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ka=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(){var t;return e(l)(this,r),(t=n.call(this,"google.com")).addScope("profile"),t}return e(f)(r,null,[{key:"credential",value:function(e,t){return Aa._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return r.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return r.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.oauthIdToken,i=t.oauthAccessToken;if(!n&&!i)return null;try{return r.credential(n,i)}catch(e){return null}}}]),r}(Wa);Ka.GOOGLE_SIGN_IN_METHOD="google.com",Ka.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ga=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(){return e(l)(this,r),n.call(this,"github.com")}return e(f)(r,null,[{key:"credential",value:function(e){return Aa._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return r.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return r.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return r.credential(t.oauthAccessToken)}catch(e){return null}}}]),r}(Wa);Ga.GITHUB_SIGN_IN_METHOD="github.com",Ga.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ja=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(){return e(l)(this,r),n.call(this,"twitter.com")}return e(f)(r,null,[{key:"credential",value:function(e,t){return Aa._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return r.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return r.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.oauthAccessToken,i=t.oauthTokenSecret;if(!n||!i)return null;try{return r.credential(n,i)}catch(e){return null}}}]),r}(Wa);function Ya(e,t){return $a.apply(this,arguments)}function $a(){return($a=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(u)(e(_).mark((function t(n,r){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",co(n,"POST","/v1/accounts:signUp",io(n,r)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ja.TWITTER_SIGN_IN_METHOD="twitter.com",Ja.PROVIDER_ID="twitter.com";var Qa=function(){"use strict";function t(n){e(l)(this,t),this.user=n.user,this.providerId=n.providerId,this._tokenResponse=n._tokenResponse,this.operationType=n.operationType}return e(f)(t,null,[{key:"_fromIdTokenResponse",value:function(n,r,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e(u)(e(_).mark((function a(){var s,u,c;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jo._fromIdTokenResponse(n,i,o);case 2:return s=e.sent,u=Xa(i),c=new t({user:s,providerId:u,_tokenResponse:i,operationType:r}),e.abrupt("return",c);case 6:case"end":return e.stop()}}),a)})))()}},{key:"_forOperation",value:function(n,r,i){return e(u)(e(_).mark((function o(){var a;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Xa(i),e.abrupt("return",new t({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return e.stop()}}),o)})))()}}]),t}();function Xa(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Za=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(t,i,o,a){var s,u;return e(l)(this,r),(s=n.call(this,i.code,i.message)).operationType=o,s.user=a,Object.setPrototypeOf(e(T)(s),r.prototype),s.customData={appName:t.name,tenantId:null!==(u=t.tenantId)&&void 0!==u?u:void 0,_serverResponse:i.customData._serverResponse,operationType:o},s}return e(f)(r,null,[{key:"_fromErrorAndOperation",value:function(e,t,n,i){return new r(e,t,n,i)}}]),r}(Le);function es(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if("auth/multi-factor-auth-required"===n.code)throw Za._fromErrorAndOperation(e,n,t,r);throw n}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(e,t){return ns.apply(this,arguments)}function ns(){return ns=e(u)(e(_).mark((function t(n,r){var i,o,a=arguments;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.length>2&&void 0!==a[2]&&a[2],e.t0=xo,e.t1=n,e.t2=r,e.t3=n.auth,e.next=7,n.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=i,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return o=e.sent,e.abrupt("return",Qa._forOperation(n,"link",o));case 14:case"end":return e.stop()}}),t)}))),ns.apply(this,arguments)}function rs(e,t){return is.apply(this,arguments)}function is(){return is=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(u)(e(_).mark((function t(n,r){var i,o,a,s,u,c,l=arguments;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.length>2&&void 0!==l[2]&&l[2],o=n.auth,a="reauthenticate",e.prev=3,e.next=6,xo(n,es(o,a,r,n),i);case 6:return Ki((s=e.sent).idToken,o,"internal-error"),Ki(u=ko(s.idToken),o,"internal-error"),c=u.sub,Ki(n.uid===c,o,"user-mismatch"),e.abrupt("return",Qa._forOperation(n,a,s));case 15:throw e.prev=15,e.t0=e.catch(3),"auth/user-not-found"===(null===e.t0||void 0===e.t0?void 0:e.t0.code)&&qi(o,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),t,null,[[3,15]])}))),is.apply(this,arguments)}function os(e,t){return as.apply(this,arguments)}function as(){return as=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(u)(e(_).mark((function t(n,r){var i,o,a,s,u=arguments;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],o="signIn",e.next=4,es(n,o,r);case 4:return a=e.sent,e.next=7,Qa._fromIdTokenResponse(n,o,a);case 7:if(s=e.sent,i){e.next=11;break}return e.next=11,n._updateCurrentUser(s.user);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),t)}))),as.apply(this,arguments)}function ss(e,t){return us.apply(this,arguments)}function us(){return(us=e(u)(e(_).mark((function t(n,r){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",os(va(n),r));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function cs(e,t,n){return ls.apply(this,arguments)}function ls(){return ls=e(u)(e(_).mark((function t(n,r,i){var o,a,s,c,l,f,h;return e(_).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=va(n),s={returnSecureToken:!0,email:r,password:i,clientType:"CLIENT_TYPE_WEB"},!(null===(o=a._getRecaptchaConfig())||void 0===o?void 0:o.emailPasswordEnabled)){t.next=11;break}return t.next=7,fa(a,s,"signUpPassword");case 7:l=t.sent,c=Ya(a,l),t.next=12;break;case 11:c=Ya(a,s).catch(function(){var t=e(u)(e(_).mark((function t(n){var r;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("auth/missing-recaptcha-token"!==n.code){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,fa(a,s,"signUpPassword");case 4:return r=e.sent,e.abrupt("return",Ya(a,r));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 12:return t.next=14,c.catch((function(e){return Promise.reject(e)}));case 14:return f=t.sent,t.next=17,Qa._fromIdTokenResponse(a,"signIn",f);case 17:return h=t.sent,t.next=20,a._updateCurrentUser(h.user);case 20:return t.abrupt("return",h);case 21:case"end":return t.stop()}}),t)}))),ls.apply(this,arguments)}function fs(e,t,n){return ss(ot(e),Ha.credential(t,n))}function hs(e,t,n,r){return ot(e).onIdTokenChanged(t,n,r)}function ds(e,t,n){return ot(e).beforeAuthStateChanged(t,n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ps(e,t){return oo(e,"POST","/v2/accounts/mfaEnrollment:start",io(e,t))}function vs(e,t){return oo(e,"POST","/v2/accounts/mfaEnrollment:finalize",io(e,t))}new WeakMap;var gs="__sak",ms=function(){"use strict";function t(n,r){e(l)(this,t),this.storageRetriever=n,this.type=r}return e(f)(t,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(gs,"1"),this.storage.removeItem(gs),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ys=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(){var t,i;return e(l)(this,r),(t=n.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(e,n){return t.onStorageEvent(e,n)},t.listeners={},t.localCache={},t.pollTimer=null,t.safariLocalStorageNotSynced=(Ko(i=Ee())||Xo(i))&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),t.fallbackToPolling=ta(),t._shouldAllowMigration=!0,t}return e(f)(r,[{key:"forAllChangedKeys",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=Object.keys(this.listeners)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value,s=this.storage.getItem(a),u=this.localCache[a];s!==u&&e(a,u,s)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}},{key:"onStorageEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;if(e.key){var r=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!t)return}var o=function(){var e=n.storage.getItem(r);(t||n.localCache[r]!==e)&&n.notifyListeners(r,e)},a=this.storage.getItem(r);ea()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,10):o()}else{var s=this;this.forAllChangedKeys((function(e,t,n){s.notifyListeners(e,n)}))}}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e],r=!0,i=!1,o=void 0;if(n)try{for(var a,s=Array.from(n)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){(0,a.value)(t?JSON.parse(t):t)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){var t=e;e.forAllChangedKeys((function(e,n,r){t.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(t,n){var i=this,o=this;return e(u)(e(_).mark((function a(){return e(_).wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e(Ni)(e(Ai)(r.prototype),"_set",i).call(o,t,n);case 2:o.localCache[t]=JSON.stringify(n);case 3:case"end":return a.stop()}}),a)})))()}},{key:"_get",value:function(t){var n=this,i=this;return e(u)(e(_).mark((function o(){var a;return e(_).wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e(Ni)(e(Ai)(r.prototype),"_get",n).call(i,t);case 2:return a=o.sent,i.localCache[t]=JSON.stringify(a),o.abrupt("return",a);case 5:case"end":return o.stop()}}),o)})))()}},{key:"_remove",value:function(t){var n=this,i=this;return e(u)(e(_).mark((function o(){return e(_).wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e(Ni)(e(Ai)(r.prototype),"_remove",n).call(i,t);case 2:delete i.localCache[t];case 3:case"end":return o.stop()}}),o)})))()}}]),r}(ms);ys.type="LOCAL";var bs=ys,_s=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(){return e(l)(this,r),n.call(this,(function(){return window.sessionStorage}),"SESSION")}return e(f)(r,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),r}(ms);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s.type="SESSION";var ws=_s;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(t){return Promise.all(t.map((n=e(u)(e(_).mark((function t(n){var r;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n;case 3:return r=e.sent,e.abrupt("return",{fulfilled:!0,value:r});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),t,null,[[0,7]])}))),function(e){return n.apply(this,arguments)})));var n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xs=function(){"use strict";function t(n){e(l)(this,t),this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return e(f)(t,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(t){var n=this;return e(u)(e(_).mark((function r(){var i,o,a,s,c,l,f,h;return e(_).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=(i=t).data,a=o.eventId,s=o.eventType,c=o.data,null==(l=n.handlersMap[s])?void 0:l.size){r.next=5;break}return r.abrupt("return");case 5:return i.ports[0].postMessage({status:"ack",eventId:a,eventType:s}),f=Array.from(l).map(function(){var t=e(u)(e(_).mark((function t(n){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n(i.origin,c));case 1:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),r.next=9,ks(f);case 9:h=r.sent,i.ports[0].postMessage({status:"done",eventId:a,eventType:s,response:h});case 11:case"end":return r.stop()}}),r)})))()}},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(e){var n=this.receivers.find((function(t){return t.isListeningto(e)}));if(n)return n;var r=new t(e);return this.receivers.push(r),r}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Is(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xs.receivers=[];var Ss=function(){"use strict";function t(n){e(l)(this,t),this.target=n,this.handlers=new Set}return e(f)(t,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,i=this;return e(u)(e(_).mark((function o(){var a,s,u;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="undefined"!=typeof MessageChannel?new MessageChannel:null){e.next=3;break}throw new Error("connection_unavailable");case 3:return e.abrupt("return",new Promise((function(e,o){var c=Is("",20);a.port1.start();var l=setTimeout((function(){o(new Error("unsupported_event"))}),r);u={messageChannel:a,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),s=setTimeout((function(){o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(s),e(n.data.response);break;default:clearTimeout(l),clearTimeout(s),o(new Error("invalid_response"))}}},i.handlers.add(u),a.port1.addEventListener("message",u.onMessage),i.target.postMessage({eventType:t,eventId:c,data:n},[a.port2])})).finally((function(){u&&i.removeMessageHandler(u)})));case 6:case"end":return e.stop()}}),o)})))()}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(){return window}function Cs(e){Es().location.href=e}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(){return void 0!==Es().WorkerGlobalScope&&"function"==typeof Es().importScripts}function Os(){return Ns.apply(this,arguments)}function Ns(){return(Ns=e(u)(e(_).mark((function t(){var n;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return n=e.sent,e.abrupt("return",n.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ps="firebaseLocalStorageDb",Rs="firebaseLocalStorage",As="fbase_key",Ls=function(){"use strict";function t(n){e(l)(this,t),this.request=n}return e(f)(t,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){var r=e;e.request.addEventListener("success",(function(){t(r.request.result)})),e.request.addEventListener("error",(function(){n(r.request.error)}))}))}}]),t}();function Ms(e,t){return e.transaction([Rs],t?"readwrite":"readonly").objectStore(Rs)}function Ds(){var e=indexedDB.deleteDatabase(Ps);return new Ls(e).toPromise()}function js(){var t=indexedDB.open(Ps,1);return new Promise((function(n,r){t.addEventListener("error",(function(){r(t.error)})),t.addEventListener("upgradeneeded",(function(){var e=t.result;try{e.createObjectStore(Rs,{keyPath:As})}catch(e){r(e)}})),t.addEventListener("success",e(u)(e(_).mark((function r(){var i;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=t.result).objectStoreNames.contains(Rs)){e.next=12;break}return i.close(),e.next=5,Ds();case 5:return e.t0=n,e.next=8,js();case 8:e.t1=e.sent,(0,e.t0)(e.t1),e.next=13;break;case 12:n(i);case 13:case"end":return e.stop()}}),r)}))))}))}function Us(e,t,n){return Bs.apply(this,arguments)}function Bs(){return(Bs=e(u)(e(_).mark((function t(n,r,i){var o,a;return e(_).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Ms(n,!0).put((o={},e(d)(o,As,r),e(d)(o,"value",i),o)),t.abrupt("return",new Ls(a).toPromise());case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Fs(e,t){return qs.apply(this,arguments)}function qs(){return(qs=e(u)(e(_).mark((function t(n,r){var i,o;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ms(n,!1).get(r),e.next=3,new Ls(i).toPromise();case 3:return o=e.sent,e.abrupt("return",void 0===o?null:o.value);case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Hs(e,t){var n=Ms(e,!0).delete(t);return new Ls(n).toPromise()}var zs=function(){"use strict";function t(){e(l)(this,t),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return e(f)(t,[{key:"_openDb",value:function(){var t=this;return e(u)(e(_).mark((function n(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.db){e.next=2;break}return e.abrupt("return",t.db);case 2:return e.next=4,js();case 4:return t.db=e.sent,e.abrupt("return",t.db);case 6:case"end":return e.stop()}}),n)})))()}},{key:"_withRetries",value:function(t){var n=this;return e(u)(e(_).mark((function r(){var i,o;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:return e.prev=2,e.next=5,n._openDb();case 5:return o=e.sent,e.next=8,t(o);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(i++>3)){e.next=15;break}throw e.t0;case 15:n.db&&(n.db.close(),n.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),r,null,[[2,11]])})))()}},{key:"initializeServiceWorkerMessaging",value:function(){var t=this;return e(u)(e(_).mark((function n(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ts()?t.initializeReceiver():t.initializeSender());case 1:case"end":return e.stop()}}),n)})))()}},{key:"initializeReceiver",value:function(){var t=this;return e(u)(e(_).mark((function n(){return e(_).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.receiver=xs._getInstance(Ts()?self:null),t.receiver._subscribe("keyChanged",function(){var n=e(u)(e(_).mark((function n(r,i){var o;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return o=e.sent,e.abrupt("return",{keyProcessed:o.includes(i.key)});case 4:case"end":return e.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var t=e(u)(e(_).mark((function t(n,r){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 3:case"end":return n.stop()}}),n)})))()}},{key:"initializeSender",value:function(){var t=this;return e(u)(e(_).mark((function n(){var r,i,o;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Os();case 3:if(t.activeServiceWorker=e.sent,t.activeServiceWorker){e.next=6;break}return e.abrupt("return");case 6:return t.sender=new Ss(t.activeServiceWorker),e.next=9,t.sender._send("ping",{},800);case 9:if(o=e.sent){e.next=12;break}return e.abrupt("return");case 12:(null===(r=o[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=o[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0);case 13:case"end":return e.stop()}}),n)})))()}},{key:"notifyServiceWorker",value:function(t){var n=this;return e(u)(e(_).mark((function r(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.sender&&n.activeServiceWorker&&(r=void 0,((null===(r=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===r?void 0:r.controller)||null)===n.activeServiceWorker)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,n.sender._send("keyChanged",{key:t},n.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}var r}),r,null,[[2,7]])})))()}},{key:"_isAvailable",value:function(){return e(u)(e(_).mark((function t(){var n;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,js();case 5:return n=e.sent,e.next=8,Us(n,gs,"1");case 8:return e.next=10,Hs(n,gs);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),t,null,[[0,13]])})))()}},{key:"_withPendingWrite",value:function(t){var n=this;return e(u)(e(_).mark((function r(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,n.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),r,null,[[1,,4,7]])})))()}},{key:"_set",value:function(t,n){var r=this;return e(u)(e(_).mark((function i(){return e(_).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",r._withPendingWrite(e(u)(e(_).mark((function i(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Us(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),i)})))));case 1:case"end":return i.stop()}}),i)})))()}},{key:"_get",value:function(t){var n=this;return e(u)(e(_).mark((function r(){var i;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Fs(e,t)}));case 2:return i=e.sent,n.localCache[t]=i,e.abrupt("return",i);case 5:case"end":return e.stop()}}),r)})))()}},{key:"_remove",value:function(t){var n=this;return e(u)(e(_).mark((function r(){return e(_).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",n._withPendingWrite(e(u)(e(_).mark((function r(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Hs(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),r)})))));case 1:case"end":return r.stop()}}),r)})))()}},{key:"_poll",value:function(){var t=this;return e(u)(e(_).mark((function n(){var r,i,o,a,s,u,c,l,f,h,d,p,v,g,m,y,b;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._withRetries((function(e){var t=Ms(e,!1).getAll();return new Ls(t).toPromise()}));case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===t.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:for(i=[],o=new Set,a=!0,s=!1,u=void 0,e.prev=10,c=r[Symbol.iterator]();!(a=(l=c.next()).done);a=!0)f=l.value,h=f.fbase_key,d=f.value,o.add(h),JSON.stringify(t.localCache[h])!==JSON.stringify(d)&&(t.notifyListeners(h,d),i.push(h));e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),s=!0,u=e.t0;case 18:e.prev=18,e.prev=19,a||null==c.return||c.return();case 21:if(e.prev=21,!s){e.next=24;break}throw u;case 24:return e.finish(21);case 25:return e.finish(18);case 26:for(p=!0,v=!1,g=void 0,e.prev=27,m=Object.keys(t.localCache)[Symbol.iterator]();!(p=(y=m.next()).done);p=!0)b=y.value,t.localCache[b]&&!o.has(b)&&(t.notifyListeners(b,null),i.push(b));e.next=35;break;case 31:e.prev=31,e.t1=e.catch(27),v=!0,g=e.t1;case 35:e.prev=35,e.prev=36,p||null==m.return||m.return();case 38:if(e.prev=38,!v){e.next=41;break}throw g;case 41:return e.finish(38);case 42:return e.finish(35);case 43:return e.abrupt("return",i);case 44:case"end":return e.stop()}}),n,null,[[10,14,18,26],[19,,21,25],[27,31,35,43],[36,,38,42]])})))()}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e],r=!0,i=!1,o=void 0;if(n)try{for(var a,s=Array.from(n)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){(0,a.value)(t)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}},{key:"startPolling",value:function(){this.stopPolling();var t=this;this.pollTimer=setInterval(e(u)(e(_).mark((function n(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t._poll());case 1:case"end":return e.stop()}}),n)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),t}();zs.type="LOCAL";var Ws=zs;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(e,t){return oo(e,"POST","/v2/accounts/mfaSignIn:start",io(e,t))}function Ks(e,t){return oo(e,"POST","/v2/accounts/mfaSignIn:finalize",io(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
ua("rcb"),new Xi(3e4,6e4);var Gs="recaptcha";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(e,t,n){return Ys.apply(this,arguments)}function Ys(){return(Ys=e(u)(e(_).mark((function t(n,r,i){var o,a,s,u,c,l,f,h;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,i.verify();case 3:if(a=e.sent,e.prev=4,Ki("string"==typeof a,n,"argument-error"),Ki(i.type===Gs,n,"argument-error"),!("session"in(s="string"==typeof r?{phoneNumber:r}:r))){e.next=28;break}if(u=s.session,!("phoneNumber"in s)){e.next=19;break}return Ki("enroll"===u.type,n,"internal-error"),e.next=15,ps(n,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:a}});case 15:return c=e.sent,e.abrupt("return",c.phoneSessionInfo.sessionInfo);case 19:return Ki("signin"===u.type,n,"internal-error"),Ki(l=(null===(o=s.multiFactorHint)||void 0===o?void 0:o.uid)||s.multiFactorUid,n,"missing-multi-factor-info"),e.next=24,Vs(n,{mfaPendingCredential:u.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 24:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 26:e.next=32;break;case 28:return e.next=30,La(n,{phoneNumber:s.phoneNumber,recaptchaToken:a});case 30:return h=e.sent.sessionInfo,e.abrupt("return",h);case 32:return e.prev=32,i._reset(),e.finish(32);case 35:case"end":return e.stop()}}),t,null,[[4,,32,35]])})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var $s=function(){"use strict";function t(n){e(l)(this,t),this.providerId=t.PROVIDER_ID,this.auth=va(n)}return e(f)(t,[{key:"verifyPhoneNumber",value:function(e,t){return Js(this.auth,e,ot(t))}}],[{key:"credential",value:function(e,t){return Fa._fromVerification(e,t)}},{key:"credentialFromResult",value:function(e){var n=e;return t.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Fa._fromTokenResponse(n,r):null}}]),t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Qs(e,t){return t?Bo(t):(Ki(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$s.PROVIDER_ID="phone",$s.PHONE_SIGN_IN_METHOD="phone";var Xs=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(t){var i;return e(l)(this,r),(i=n.call(this,"custom","custom")).params=t,i}return e(f)(r,[{key:"_getIdTokenResponse",value:function(e){return Pa(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Pa(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Pa(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),r}(wa);function Zs(e){return os(e.auth,new Xs(e),e.bypassAuthState)}function eu(e){var t=e.auth,n=e.user;return Ki(n,t,"internal-error"),rs(n,new Xs(e),e.bypassAuthState)}function tu(e){return nu.apply(this,arguments)}function nu(){return(nu=e(u)(e(_).mark((function t(n){var r,i;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.auth,Ki(i=n.user,r,"internal-error"),e.abrupt("return",ts(i,new Xs(n),n.bypassAuthState));case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ru=function(){"use strict";function t(n,r,i,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];e(l)(this,t),this.auth=n,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}return e(f)(t,[{key:"execute",value:function(){var t,n=this;return new Promise((t=e(u)(e(_).mark((function t(r,i){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.pendingPromise={resolve:r,reject:i},e.prev=1,e.next=4,n.resolver._initialize(n.auth);case 4:return n.eventManager=e.sent,e.next=7,n.onExecution();case 7:n.eventManager.registerConsumer(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n.reject(e.t0);case 13:case"end":return e.stop()}}),t,null,[[1,10]])}))),function(e,n){return t.apply(this,arguments)}))}},{key:"onAuthEvent",value:function(t){var n=this;return e(u)(e(_).mark((function r(){var i,o,a,s,u,c,l;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.urlResponse,o=t.sessionId,a=t.postBody,s=t.tenantId,u=t.error,c=t.type,!u){e.next=4;break}return n.reject(u),e.abrupt("return");case 4:return l={auth:n.auth,requestUri:i,sessionId:o,tenantId:s||void 0,postBody:a||void 0,user:n.user,bypassAuthState:n.bypassAuthState},e.prev=5,e.t0=n,e.next=9,n.getIdpTask(c)(l);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),n.reject(e.t2);case 16:case"end":return e.stop()}}),r,null,[[5,13]])})))()}},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zs;case"linkViaPopup":case"linkViaRedirect":return tu;case"reauthViaPopup":case"reauthViaRedirect":return eu;default:qi(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),t}(),iu=new Xi(2e3,1e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(e,t,n){return au.apply(this,arguments)}function au(){return(au=e(u)(e(_).mark((function t(n,r,i){var o,a,s;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=va(n),Wi(n,r,za),a=Qs(o,i),s=new su(o,"signInViaPopup",r,a),e.abrupt("return",s.executeNotNull());case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}var su=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(t,i,o,a,s){var u;return e(l)(this,r),(u=n.call(this,t,i,a,s)).provider=o,u.authWindow=null,u.pollId=null,r.currentPopupAction&&r.currentPopupAction.cancel(),r.currentPopupAction=e(T)(u),u}return e(f)(r,[{key:"executeNotNull",value:function(){var t=this;return e(u)(e(_).mark((function n(){var r;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.execute();case 2:return Ki(r=e.sent,t.auth,"internal-error"),e.abrupt("return",r);case 5:case"end":return e.stop()}}),n)})))()}},{key:"onExecution",value:function(){var t=this;return e(u)(e(_).mark((function n(){var r;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ji(1===t.filter.length,"Popup operations only handle one event"),r=Is(),e.next=4,t.resolver._openPopup(t.auth,t.provider,t.filter[0],r);case 4:t.authWindow=e.sent,t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch((function(e){t.reject(e)})),t.resolver._isIframeWebStorageSupported(t.auth,(function(e){e||t.reject(Hi(t.auth,"web-storage-unsupported"))})),t.pollUserCancellation();case 9:case"end":return e.stop()}}),n)})))()}},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Hi(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,r.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this,t=function(){var n,r;if(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed){var i=e;e.pollId=window.setTimeout((function(){i.pollId=null,i.reject(Hi(i.auth,"popup-closed-by-user"))}),2e3)}else e.pollId=window.setTimeout(t,iu.get())};t()}}]),r}(ru);su.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var uu=new Map,cu=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(t,i){var o,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e(l)(this,r),(o=n.call(this,t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a)).eventId=null,o}return e(f)(r,[{key:"execute",value:function(){var t=this,n=this;return e(u)(e(_).mark((function i(){var o,a;return e(_).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(o=uu.get(n.auth._key())){i.next=21;break}return i.prev=2,i.next=5,lu(n.resolver,n.auth);case 5:if(!i.sent){i.next=12;break}return i.next=9,e(Ni)(e(Ai)(r.prototype),"execute",t).call(n);case 9:i.t0=i.sent,i.next=13;break;case 12:i.t0=null;case 13:a=i.t0,o=function(){return Promise.resolve(a)},i.next=20;break;case 17:i.prev=17,i.t1=i.catch(2),o=function(){return Promise.reject(i.t1)};case 20:uu.set(n.auth._key(),o);case 21:return n.bypassAuthState||uu.set(n.auth._key(),(function(){return Promise.resolve(null)})),i.abrupt("return",o());case 23:case"end":return i.stop()}}),i,null,[[2,17]])})))()}},{key:"onAuthEvent",value:function(t){var n=this,i=this,o=function(){return e(Ni)(e(Ai)(r.prototype),"onAuthEvent",n)};return e(u)(e(_).mark((function n(){var r;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",o().call(i,t));case 4:if("unknown"!==t.type){e.next=7;break}return i.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,i.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return i.user=r,e.abrupt("return",o().call(i,t));case 16:i.resolve(null);case 17:case"end":return e.stop()}}),n)})))()}},{key:"onExecution",value:function(){return e(u)(e(_).mark((function t(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),t)})))()}},{key:"cleanUp",value:function(){}}]),r}(ru);function lu(e,t){return fu.apply(this,arguments)}function fu(){return(fu=e(u)(e(_).mark((function t(n,r){var i,o,a;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pu(r),o=du(n),e.next=4,o._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,o._get(i);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,o._remove(i);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function hu(e,t){uu.set(e._key(),t)}function du(e){return Bo(e._redirectPersistence)}function pu(e){return Ho("pendingRedirect",e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(e,t){return gu.apply(this,arguments)}function gu(){return gu=e(u)(e(_).mark((function t(n,r){var i,o,a,s,u,c=arguments;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.length>2&&void 0!==c[2]&&c[2],o=va(n),a=Qs(o,r),s=new cu(o,a,i),e.next=6,s.execute();case 6:if(!(u=e.sent)||i){e.next=13;break}return delete u.user._redirectEventId,e.next=11,o._persistUserIfCurrent(u.user);case 11:return e.next=13,o._setRedirectUser(null,r);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),t)}))),gu.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var mu=function(){"use strict";function t(n){e(l)(this,t),this.auth=n,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return e(f)(t,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bu(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!bu(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Hi(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yu(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(yu(e)),this.lastProcessedEventTime=Date.now()}}]),t}();function yu(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function bu(e){var t=e.type,n=e.error;return"unknown"===t&&"auth/no-auth-event"===(null==n?void 0:n.code)}function _u(e){return wu.apply(this,arguments)}function wu(){return wu=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(u)(e(_).mark((function t(n){var r,i=arguments;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.abrupt("return",oo(n,"GET","/v1/projects",r));case 2:case"end":return e.stop()}}),t)}))),wu.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ku=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xu=/^https?/;function Iu(){return(Iu=e(u)(e(_).mark((function t(n){var r,i,o,a,s,u,c;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_u(n);case 4:r=e.sent.authorizedDomains,i=!0,o=!1,a=void 0,e.prev=6,s=r[Symbol.iterator]();case 8:if(i=(u=s.next()).done){e.next=20;break}if(c=u.value,e.prev=10,!Su(c)){e.next=13;break}return e.abrupt("return");case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(10);case 17:i=!0,e.next=8;break;case 20:e.next=26;break;case 22:e.prev=22,e.t1=e.catch(6),o=!0,a=e.t1;case 26:e.prev=26,e.prev=27,i||null==s.return||s.return();case 29:if(e.prev=29,!o){e.next=32;break}throw a;case 32:return e.finish(29);case 33:return e.finish(26);case 34:qi(n,"unauthorized-domain");case 35:case"end":return e.stop()}}),t,null,[[6,22,26,34],[10,15],[27,,29,33]])})))).apply(this,arguments)}function Su(e){var t=Yi(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var o=new URL(e);return""===o.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&o.hostname===i}if(!xu.test(r))return!1;if(ku.test(e))return i===e;var a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eu=new Xi(3e4,6e4);function Cu(){var t=Es().___jsl,n=!0,r=!1,i=void 0;if(null==t?void 0:t.H)try{for(var o,a=Object.keys(t.H)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(t.H[s].r=t.H[s].r||[],t.H[s].L=t.H[s].L||[],t.H[s].r=e(p)(t.H[s].L),t.CP)for(var u=0;u<t.CP.length;u++)t.CP[u]=null}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}var Tu=null;function Ou(e){return Tu=Tu||function(e){return new Promise((function(t,n){var r,i,o;function a(){Cu(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Cu(),n(Hi(e,"network-request-failed"))},timeout:Eu.get()})}if(null===(i=null===(r=Es().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Es().gapi)||void 0===o?void 0:o.load)){var s=ua("iframefcb");return Es()[s]=function(){gapi.load?a():n(Hi(e,"network-request-failed"))},sa("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}a()}})).catch((function(e){throw Tu=null,e}))}(e),Tu}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nu=new Xi(5e3,15e3),Pu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ru=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Au(e){var t=e.config;Ki(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Zi(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:en},i=Ru.get(e.config.apiHost);i&&(r.eid=i);var o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Je(r).slice(1))}function Lu(e){return Mu.apply(this,arguments)}function Mu(){return Mu=e(u)(e(_).mark((function t(n){var r,i;return e(_).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ou(n);case 2:return r=t.sent,Ki(i=Es().gapi,n,"internal-error"),t.abrupt("return",r.open({where:document.body,url:Au(n),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pu,dontclear:!0},(function(t){return new Promise((r=e(u)(e(_).mark((function r(i,o){var a,s,u;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(){Es().clearTimeout(s),i(t)},e.next=3,t.restyle({setHideOnLeave:!1});case 3:a=Hi(n,"network-request-failed"),s=Es().setTimeout((function(){o(a)}),Nu.get()),t.ping(u).then(u,(function(){o(a)}));case 7:case"end":return e.stop()}}),r)}))),function(e,t){return r.apply(this,arguments)}));var r})));case 6:case"end":return t.stop()}}),t)}))),Mu.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Du={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ju="_blank",Uu="http://localhost",Bu=function(){"use strict";function t(n){e(l)(this,t),this.window=n,this.associatedEvent=null}return e(f)(t,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),t}();function Fu(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),u="",c=Object.assign(Object.assign({},Du),{width:i.toString(),height:o.toString(),top:a,left:s}),l=Ee().toLowerCase();r&&(u=Go(l)?ju:r),Vo(l)&&(n=n||Uu,c.scrollbars="yes");var f=Object.entries(c).reduce((function(t,n){var r=e(k)(n,2),i=r[0],o=r[1];return"".concat(t).concat(i,"=").concat(o,",")}),"");if(Zo(l)&&"_self"!==u)return qu(n||"",u),new Bu(null);var h=window.open(n||"",u,f);Ki(h,t,"popup-blocked");try{h.focus()}catch(e){}return new Bu(h)}function qu(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hu=encodeURIComponent("fac");function zu(e,t,n,r,i,o){return Wu.apply(this,arguments)}function Wu(){return(Wu=e(u)(e(_).mark((function t(n,r,i,o,a,s){var u,c,l,f,h,d,p,v,g,m,y,b,w,x,I,S,E,C,T;return e(_).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ki(n.config.authDomain,n,"auth-domain-config-required"),Ki(n.config.apiKey,n,"invalid-api-key"),u={apiKey:n.config.apiKey,appName:n.name,authType:i,redirectUrl:o,v:en,eventId:a},!(r instanceof za)){t.next=24;break}for(r.setDefaultLanguage(n.languageCode),u.providerId=r.providerId||"",We(r.getCustomParameters())||(u.customParameters=JSON.stringify(r.getCustomParameters())),c=!0,l=!1,f=void 0,t.prev=8,h=Object.entries(s||{})[Symbol.iterator]();!(c=(d=h.next()).done);c=!0)p=e(k)(d.value,2),v=p[0],g=p[1],u[v]=g;t.next=16;break;case 12:t.prev=12,t.t0=t.catch(8),l=!0,f=t.t0;case 16:t.prev=16,t.prev=17,c||null==h.return||h.return();case 19:if(t.prev=19,!l){t.next=22;break}throw f;case 22:return t.finish(19);case 23:return t.finish(16);case 24:for(r instanceof Wa&&(m=r.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=m.join(",")),n.tenantId&&(u.tid=n.tenantId),y=u,b=!0,w=!1,x=void 0,t.prev=28,I=Object.keys(y)[Symbol.iterator]();!(b=(S=I.next()).done);b=!0)E=S.value,void 0===y[E]&&delete y[E];t.next=36;break;case 32:t.prev=32,t.t1=t.catch(28),w=!0,x=t.t1;case 36:t.prev=36,t.prev=37,b||null==I.return||I.return();case 39:if(t.prev=39,!w){t.next=42;break}throw x;case 42:return t.finish(39);case 43:return t.finish(36);case 44:return t.next=46,n._getAppCheckToken();case 46:return C=t.sent,T=C?"#".concat(Hu,"=").concat(encodeURIComponent(C)):"",t.abrupt("return","".concat(Vu(n),"?").concat(Je(y).slice(1)).concat(T));case 49:case"end":return t.stop()}}),t,null,[[8,12,16,24],[17,,19,23],[28,32,36,44],[37,,39,43]])})))).apply(this,arguments)}function Vu(e){var t=e.config;return t.emulator?Zi(t,"emulator/auth/handler"):"https://".concat(t.authDomain,"/").concat("__/auth/handler")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ku="webStorageSupport",Gu=function(){"use strict";function t(){e(l)(this,t),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ws,this._completeRedirectFn=vu,this._overrideRedirectResult=hu}return e(f)(t,[{key:"_openPopup",value:function(t,n,r,i){var o=this;return e(u)(e(_).mark((function a(){var s,u;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ji(null===(s=o.eventManagers[t._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()"),e.next=4,zu(t,n,r,Yi(),i);case 4:return u=e.sent,e.abrupt("return",Fu(t,u,Is()));case 6:case"end":return e.stop()}}),a)})))()}},{key:"_openRedirect",value:function(t,n,r,i){var o=this;return e(u)(e(_).mark((function a(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o._originValidation(t);case 2:return e.next=4,zu(t,n,r,Yi(),i);case 4:return Cs(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),a)})))()}},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,o=r.promise;return i?Promise.resolve(i):(Ji(o,"If manager is not set, promise should be"),o)}var a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch((function(){delete t.eventManagers[n]})),a}},{key:"initAndGetManager",value:function(t){var n=this;return e(u)(e(_).mark((function r(){var i,o;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lu(t);case 2:return i=e.sent,o=new mu(t),i.register("authEvent",(function(e){return Ki(null==e?void 0:e.authEvent,t,"invalid-auth-event"),{status:o.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[t._key()]={manager:o},n.iframes[t._key()]=i,e.abrupt("return",o);case 8:case"end":return e.stop()}}),r)})))()}},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ku,{type:Ku},(function(n){var r,i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),qi(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Iu.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ta()||Ko()||Xo()}}]),t}(),Ju=Gu,Yu=function(){"use strict";function t(n){e(l)(this,t),this.factorId=n}return e(f)(t,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Gi("unexpected MultiFactorSessionType")}}}]),t}(),$u=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(t){var i;return e(l)(this,r),(i=n.call(this,"phone")).credential=t,i}return e(f)(r,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return oo(e,"POST","/v2/accounts/mfaEnrollment:finalize",io(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return oo(e,"POST","/v2/accounts/mfaSignIn:finalize",io(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new r(e)}}]),r}(Yu);(function(){"use strict";function t(){e(l)(this,t)}return e(f)(t,null,[{key:"assertion",value:function(e){return $u._fromCredential(e)}}]),t}()).FACTOR_ID="phone";var Qu=function(){"use strict";function t(){e(l)(this,t)}return e(f)(t,null,[{key:"assertionForEnrollment",value:function(e,t){return Xu._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Xu._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(t){return e(u)(e(_).mark((function n(){var r,i;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ki(void 0!==(r=t).auth,"internal-error"),e.next=4,n=r.auth,o={idToken:r.credential,totpEnrollmentInfo:{}},oo(n,"POST","/v2/accounts/mfaEnrollment:start",io(n,o));case 4:return i=e.sent,e.abrupt("return",Zu._fromStartTotpMfaEnrollmentResponse(i,r.auth));case 6:case"end":return e.stop()}var n,o}),n)})))()}}]),t}();Qu.FACTOR_ID="totp";var Xu=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(t,i,o){var a;return e(l)(this,r),(a=n.call(this,"totp")).otp=t,a.enrollmentId=i,a.secret=o,a}return e(f)(r,[{key:"_finalizeEnroll",value:function(t,n,r){var i=this;return e(u)(e(_).mark((function o(){return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ki(void 0!==i.secret,t,"argument-error"),e.abrupt("return",vs(t,{idToken:n,displayName:r,totpVerificationInfo:i.secret._makeTotpVerificationInfo(i.otp)}));case 2:case"end":return e.stop()}}),o)})))()}},{key:"_finalizeSignIn",value:function(t,n){var r=this;return e(u)(e(_).mark((function i(){var o;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ki(void 0!==r.enrollmentId&&void 0!==r.otp,t,"argument-error"),o={verificationCode:r.otp},e.abrupt("return",Ks(t,{mfaPendingCredential:n,mfaEnrollmentId:r.enrollmentId,totpVerificationInfo:o}));case 3:case"end":return e.stop()}}),i)})))()}}],[{key:"_fromSecret",value:function(e,t){return new r(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new r(t,e)}}]),r}(Yu),Zu=function(){"use strict";function t(n,r,i,o,a,s,u){e(l)(this,t),this.sessionInfo=s,this.auth=u,this.secretKey=n,this.hashingAlgorithm=r,this.codeLength=i,this.codeIntervalSeconds=o,this.enrollmentCompletionDeadline=a}return e(f)(t,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(ec(e)||ec(t))&&(r=!0),r&&(ec(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),ec(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(e,n){return new t(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,n)}}]),t}();function ec(e){return void 0===e||0===(null==e?void 0:e.length)}var tc="@firebase/auth",nc="0.23.0",rc=function(){"use strict";function t(n){e(l)(this,t),this.auth=n,this.internalListeners=new Map}return e(f)(t,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(t){var n=this;return e(u)(e(_).mark((function r(){var i;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.assertAuthConfigured(),e.next=3,n.auth._initializationPromise;case 3:if(n.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,n.auth.currentUser.getIdToken(t);case 7:return i=e.sent,e.abrupt("return",{accessToken:i});case 9:case"end":return e.stop()}}),r)})))()}},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ki(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ic,oc=xe("authIdTokenMaxAge")||300,ac=null,sc=function(t){return n=e(u)(e(_).mark((function n(r){var i,o,a;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r,!e.t0){e.next=5;break}return e.next=4,r.getIdTokenResult();case 4:e.t0=e.sent;case 5:if(i=e.t0,!((o=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3)&&o>oc)){e.next=9;break}return e.abrupt("return");case 9:if(a=null==i?void 0:i.token,ac!==a){e.next=12;break}return e.abrupt("return");case 12:return ac=a,e.next=15,fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return e.stop()}}),n)}))),function(e){return n.apply(this,arguments)};var n};ic="Browser",Yt(new at("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),a=r.options,s=a.apiKey,u=a.authDomain;Ki(s&&!s.includes(":"),"invalid-api-key",{appName:r.name}),Ki(!(null==u?void 0:u.includes(":")),"argument-error",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:ic,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:na(ic)},l=new pa(r,i,o,c);return function(e,t){var n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bo);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Yt(new at("auth-internal",(function(e){var t=va(e.getProvider("auth").getImmediate());return new rc(t)}),"PRIVATE").setInstantiationMode("EXPLICIT")),rn(tc,nc,
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ic)),rn(tc,nc,"esm2017");T=i("ds8z5");var uc=i("l5bVx"),cc="@firebase/database",lc="0.14.4",fc="";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var hc,dc=function(){"use strict";function t(n){e(l)(this,t),this.domStorage_=n,this.prefix_="firebase:"}return e(f)(t,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Be(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Ue(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),t}(),pc=function(){"use strict";function t(){e(l)(this,t),this.cache_={},this.isInMemoryStorage=!0}return e(f)(t,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return He(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),t}(),vc=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new dc(t)}}catch(e){}return new pc},gc=vc("localStorage"),mc=vc("sessionStorage"),yc=new yt("@firebase/database"),bc=(hc=1,function(){return hc++}),_c=function(e){var t=tt(e),n=new Qe;n.update(t);var r=n.digest();return fe.encodeByteArray(r)},wc=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var o=t[i];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?r+=wc.apply(null,o):r+="object"==typeof o?Be(o):o,r+=" "}return r},kc=null,xc=!0,Ic=function(e,t){ue(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(yc.logLevel=ct.VERBOSE,kc=yc.log.bind(yc),t&&mc.set("logging_enabled",!0)):"function"==typeof e?kc=e:(kc=null,mc.remove("logging_enabled"))},Sc=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!0===xc&&(xc=!1,null===kc&&!0===mc.get("logging_enabled")&&Ic(!0)),kc){var r=wc.apply(null,t);kc(r)}},Ec=function(t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Sc.apply(void 0,[t].concat(e(p)(r)))}},Cc=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="FIREBASE INTERNAL ERROR: "+wc.apply(void 0,e(p)(n));yc.error(i)},Tc=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="FIREBASE FATAL ERROR: ".concat(wc.apply(void 0,e(p)(n)));throw yc.error(i),new Error(i)},Oc=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="FIREBASE WARNING: "+wc.apply(void 0,e(p)(n));yc.warn(i)},Nc=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Pc="[MIN_NAME]",Rc="[MAX_NAME]",Ac=function(e,t){if(e===t)return 0;if(e===Pc||t===Rc)return-1;if(t===Pc||e===Rc)return 1;var n=qc(e),r=qc(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Lc=function(e,t){return e===t?0:e<t?-1:1},Mc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Be(t))},Dc=function(e){if("object"!=typeof e||null===e)return Be(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=Be(t[i]),r+=":",r+=Dc(e[t[i]]);return r+="}"},jc=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Bc=function(e){ue(!Nc(e),"Invalid JSON number");var t,n,r,i,o,a=1023;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),a))+a,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(o=0;o<64;o+=8){var l=parseInt(u.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var Fc=new RegExp("^-?(0*)\\d{1,10}$"),qc=function(e){if(Fc.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Hc=function(e){try{e()}catch(e){setTimeout((function(){var t=e.stack||"";throw Oc("Exception was thrown by user callback.",t),e}),Math.floor(0))}},zc=function(e,t){var n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n},Wc=function(){"use strict";function t(n,r){var i=this;e(l)(this,t),this.appName_=n,this.appCheckProvider=r,this.appCheck=null==r?void 0:r.getImmediate({optional:!0}),this.appCheck||null==r||r.get().then((function(e){return i.appCheck=e}))}return e(f)(t,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){var i=t;setTimeout((function(){i.appCheck?i.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){Oc('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),t}(),Vc=function(){"use strict";function t(n,r,i){var o=this;e(l)(this,t),this.appName_=n,this.firebaseOptions_=r,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit((function(e){return o.auth_=e}))}return e(f)(t,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Sc("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){var i=t;setTimeout((function(){i.auth_?i.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Oc(e)}}]),t}(),Kc=function(){"use strict";function t(n){e(l)(this,t),this.accessToken=n}return e(f)(t,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),t}();Kc.OWNER="owner";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Gc="5",Jc=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Yc="websocket",$c="long_polling",Qc=function(){"use strict";function t(n,r,i,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]&&arguments[7];e(l)(this,t),this.secure=r,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=a,this.persistenceKey=s,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=c,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=gc.get("host:"+n)||this._host}return e(f)(t,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&gc.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),t}();function Xc(e,t,n){var r;if(ue("string"==typeof t,"typeof type must == string"),ue("object"==typeof n,"typeof params must == object"),t===Yc)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==$c)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return Uc(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zc=function(){"use strict";function t(){e(l)(this,t),this.counters_={}}return e(f)(t,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;He(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return ge(this.counters_)}}]),t}(),el={},tl={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(e){var t=e.toString();return el[t]||(el[t]=new Zc),el[t]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var rl=function(){"use strict";function t(n){e(l)(this,t),this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e(f)(t,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){var n=function(e){i[e]&&Hc((function(){r.onMessage_(i[e])}))},r=this,i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(var o=0;o<i.length;++o)n(o);if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}]),t}(),il="start",ol="close",al=function(){"use strict";function t(n,r,i,o,a,s,u){var c=this;e(l)(this,t),this.connId=n,this.repoInfo=r,this.applicationId=i,this.appCheckToken=o,this.authToken=a,this.transportSessionId=s,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ec(n),this.stats_=nl(r),this.urlFn=function(e){return c.appCheckToken&&(e.ac=c.appCheckToken),Xc(r,$c,e)}}return e(f)(t,[{key:"open",value:function(t,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new rl(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Ne()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){var t=r;if(!r.isClosed_){r.scriptTagHolder=new sl((function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=e(k)(r,5),a=o[0],s=o[1],u=o[2];o[3],o[4];if(t.incrementIncomingBytes_(r),t.scriptTagHolder)if(t.connectTimeoutTimer_&&(clearTimeout(t.connectTimeoutTimer_),t.connectTimeoutTimer_=null),t.everConnected_=!0,a===il)t.id=s,t.password=u;else{if(a!==ol)throw new Error("Unrecognized command received: "+a);if(s){var c=t;t.scriptTagHolder.sendNewPolls=!1,t.myPacketOrderer.closeAfter(s,(function(){c.onClosed_()}))}else t.onClosed_()}}),(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=e(k)(r,2),a=o[0],s=o[1];t.incrementIncomingBytes_(r),t.myPacketOrderer.handleResponse(a,s)}),(function(){t.onClosed_()}),r.urlFn);var n={start:"t"};n.ser=Math.floor(1e8*Math.random()),r.scriptTagHolder.uniqueCallbackIdentifier&&(n.cb=r.scriptTagHolder.uniqueCallbackIdentifier),n.v=Gc,r.transportSessionId&&(n.s=r.transportSessionId),r.lastSessionId&&(n.ls=r.lastSessionId),r.applicationId&&(n.p=r.applicationId),r.appCheckToken&&(n.ac=r.appCheckToken),"undefined"!=typeof location&&location.hostname&&Jc.test(location.hostname)&&(n.r="f");var i=r.urlFn(n);r.log_("Connecting via long-poll to "+i),r.scriptTagHolder.addTag(i,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Be(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=de(t),r=jc(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Ne()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Be(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){t.forceAllow_=!0}},{key:"forceDisallow",value:function(){t.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Ne()&&(!!t.forceAllow_||!(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}}]),t}(),sl=function(){"use strict";function t(n,r,i,o){if(e(l)(this,t),this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Ne())this.commandCB=n,this.onMessageCB=r;else{this.uniqueCallbackIdentifier=bc(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=r,this.myIFrame=t.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(e){Sc("frame writing exception"),e.stack&&Sc(e.stack),Sc(e)}}}return e(f)(t,[{key:"close",value:function(){if(this.alive=!1,this.myIFrame){var e=this;this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0))}var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Ne()?this.doNodeLongPoll(e,t):setTimeout((function(){try{var r=n;if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var e=i.readyState;e&&"loaded"!==e&&"complete"!==e||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=function(){Sc("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},n.myIFrame.doc.body.appendChild(i)}catch(e){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Sc("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),t}(),ul=null;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */"undefined"!=typeof MozWebSocket?ul=MozWebSocket:"undefined"!=typeof WebSocket&&(ul=WebSocket);var cl=function(){"use strict";function t(n,r,i,o,a,s,u){e(l)(this,t),this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ec(this.connId),this.stats_=nl(r),this.connURL=t.connectionURL_(r,s,u,o,i),this.nodeAdmin=r.nodeAdmin}return e(f)(t,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,gc.set("previous_websocket_failure",!0);try{var r;if(Ne()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(Gc,"/").concat(fc,"/").concat(W.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o={},a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new ul(this.connURL,[],r)}catch(e){this.log_("Error instantiating WebSocket.");var s=e.message||e.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){gc.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Ue(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(ue(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Be(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=jc(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var o={};return o.v=Gc,!Ne()&&"undefined"!=typeof location&&location.hostname&&Jc.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o.ac=r),i&&(o.p=i),Xc(e,Yc,o)}},{key:"forceDisallow",value:function(){t.forceDisallow_=!0}},{key:"isAvailable",value:function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ul&&!t.forceDisallow_}},{key:"previouslyFailed",value:function(){return gc.isInMemoryStorage||!0===gc.get("previous_websocket_failure")}}]),t}();cl.responsesRequiredToBeHealthy=2,cl.healthyTimeout=3e4;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ll=function(){"use strict";function t(n){e(l)(this,t),this.initTransports_(n)}return e(f)(t,[{key:"initTransports_",value:function(e){var n=cl&&cl.isAvailable(),r=n&&!cl.previouslyFailed();if(e.webSocketOnly&&(n||Oc("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[cl];else{var i=this.transports_=[],o=!0,a=!1,s=void 0;try{for(var u,c=t.ALL_TRANSPORTS[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;l&&l.isAvailable()&&i.push(l)}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}t.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[al,cl]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),t}();ll.globalTransportInitialized_=!1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var fl=function(){"use strict";function t(n,r,i,o,a,s,u,c,f,h){e(l)(this,t),this.id=n,this.repoInfo_=r,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=a,this.onMessage_=s,this.onReady_=u,this.onDisconnect_=c,this.onKill_=f,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ec("c:"+this.id+":"),this.transportManager_=new ll(r),this.log_("Connection created"),this.start_()}return e(f)(t,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=zc((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=Mc("t",e),n=Mc("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=Mc("t",e),n=Mc("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=Mc("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Cc("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Cc("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Gc!==n&&Oc("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),zc((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zc((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(gc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),t}(),hl=function(){"use strict";function t(){e(l)(this,t)}return e(f)(t,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),t}(),dl=function(){"use strict";function t(n){e(l)(this,t),this.allowedEvents_=n,this.listeners_={},ue(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}return e(f)(t,[{key:"trigger",value:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(Array.isArray(this.listeners_[t]))for(var o=e(p)(this.listeners_[t]),a=0;a<o.length;a++)o[a].callback.apply(o[a].context,r)}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){ue(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),t}(),pl=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(){var t;return e(l)(this,r),(t=n.call(this,["online"])).online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Ce()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return e(f)(r,[{key:"getInitialEvent",value:function(e){return ue("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new r}}]),r}(dl),vl=function(){"use strict";function t(n,r){if(e(l)(this,t),void 0===r){this.pieces_=n.split("/");for(var i=0,o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=r}return e(f)(t,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),t}();function gl(){return new vl("")}function ml(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function yl(e){return e.pieces_.length-e.pieceNum_}function bl(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new vl(e.pieces_,t)}function _l(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function wl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function kl(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new vl(t,0)}function xl(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof vl)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var o=t.split("/"),a=0;a<o.length;a++)o[a].length>0&&n.push(o[a]);return new vl(n,0)}function Il(e){return e.pieceNum_>=e.pieces_.length}function Sl(e,t){var n=ml(e),r=ml(t);if(null===n)return t;if(n===r)return Sl(bl(e),bl(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function El(e,t){if(yl(e)!==yl(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Cl(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(yl(e)>yl(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Tl=function t(n,r){"use strict";e(l)(this,t),this.errorPrefix_=r,this.parts_=wl(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(var i=0;i<this.parts_.length;i++)this.byteLength_+=nt(this.parts_[i]);Ol(this)};function Ol(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Nl(e))}function Nl(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pl=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(){var t,i,o;return e(l)(this,r),t=n.call(this,["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(o="visibilitychange",i="hidden"):void 0!==document.mozHidden?(o="mozvisibilitychange",i="mozHidden"):void 0!==document.msHidden?(o="msvisibilitychange",i="msHidden"):void 0!==document.webkitHidden&&(o="webkitvisibilitychange",i="webkitHidden")),t.visible_=!0,o&&document.addEventListener(o,(function(){var e=!document[i];e!==t.visible_&&(t.visible_=e,t.trigger("visible",e))}),!1),t}return e(f)(r,[{key:"getInitialEvent",value:function(e){return ue("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new r}}]),r}(dl),Rl=1e3,Al=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(t,i,o,a,s,u,c,f){var h;if(e(l)(this,r),(h=n.call(this)).repoInfo_=t,h.applicationId_=i,h.onDataUpdate_=o,h.onConnectStatus_=a,h.onServerInfoUpdate_=s,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=f,h.id=r.nextPersistentConnectionId_++,h.log_=Ec("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Rl,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,f&&!Ne())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Pl.getInstance().on("visible",h.onVisible_,e(T)(h)),-1===t.host.indexOf("fblocal")&&pl.getInstance().on("online",h.onOnline_,e(T)(h)),h}return e(f)(r,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Be(i)),ue(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new Ie,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),ue(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ue(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,n=e.query,i=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;r.warnOnListenWarnings_(s,n),(t.listens.get(i)&&t.listens.get(i).get(o))===e&&(t.log_("listen response",a),"ok"!==u&&t.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){var t;(e&&40===e.length||"object"==typeof(t=Fe(e).claims)&&!0===t.admin)&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){if(this.connected_&&this.authToken_){var e=this,t=this.authToken_,n=qe(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ue(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){if(this.connected_){var t=this,n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Be(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Cc("Unrecognized action received from server: "+Be(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;ue(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Rl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Rl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Rl),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var t=this;return e(u)(e(_).mark((function n(){var i,o,a,s,u,c,l,f,h,d,p,v,g;return e(_).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.shouldReconnect_()){n.next=31;break}return t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null,i=t.onDataMessage_.bind(t),o=t.onReady_.bind(t),a=t.onRealtimeDisconnect_.bind(t),s=t.id+":"+r.nextConnectionId_++,u=t.lastSessionId,c=!1,l=null,f=function(){l?l.close():(c=!0,a())},h=function(e){ue(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)},t.realtime_={close:f,sendRequest:h},d=t.forceTokenRefresh_,t.forceTokenRefresh_=!1,n.prev=16,n.t0=e(k),n.next=20,Promise.all([t.authTokenProvider_.getToken(d),t.appCheckTokenProvider_.getToken(d)]);case 20:n.t1=n.sent,p=(0,n.t0)(n.t1,2),v=p[0],g=p[1],c?Sc("getToken() completed but was canceled"):(Sc("getToken() completed. Creating connection."),t.authToken_=v&&v.accessToken,t.appCheckToken_=g&&g.token,l=new fl(s,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,o,a,(function(e){Oc(e+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")}),u)),n.next=31;break;case 27:n.prev=27,n.t2=n.catch(16),t.log_("Failed to get token: "+n.t2),c||(t.repoInfo_.nodeAdmin&&Oc(n.t2),f());case 31:case"end":return n.stop()}}),n,null,[[16,27]])})))()}},{key:"interrupt",value:function(e){Sc("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){Sc("Resuming connection for reason: "+e),delete this.interruptReasons_[e],We(this.interruptReasons_)&&(this.reconnectDelay_=Rl,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return Dc(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new vl(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){Sc("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){Sc("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e=!0,t=!1,n=void 0,r=!0,i=!1,o=void 0;try{for(var a,s=this.listens.values()[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;try{for(var c,l=u.values()[Symbol.iterator]();!(e=(c=l.next()).done);e=!0){var f=c.value;this.sendListen_(f)}}catch(e){t=!0,n=e}finally{try{e||null==l.return||l.return()}finally{if(t)throw n}}}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var d=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(d.action,d.pathString,d.data,d.onComplete)}for(var p=0;p<this.outstandingGets_.length;p++)this.outstandingGets_[p]&&this.sendGet_(p)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Ne()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+fc.replace(/\./g,"-")]=1,Ce()?e["framework.cordova"]=1:Oe()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=pl.getInstance().currentlyOnline();return We(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"==typeof e&&He(e,"w")){var n=ze(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Oc("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),r}(hl);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Al.nextPersistentConnectionId_=0,Al.nextConnectionId_=0;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ll,Ml=function(){"use strict";function t(n,r){e(l)(this,t),this.name=n,this.node=r}return e(f)(t,null,[{key:"Wrap",value:function(e,n){return new t(e,n)}}]),t}(),Dl=function(){"use strict";function t(){e(l)(this,t)}return e(f)(t,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Ml(Pc,e),r=new Ml(Pc,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Ml.MIN}}]),t}(),jl=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(){return e(l)(this,r),n.apply(this,arguments)}return e(f)(r,[{key:"compare",value:function(e,t){return Ac(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw ce("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Ml.MIN}},{key:"maxPost",value:function(){return new Ml(Rc,Ll)}},{key:"makePost",value:function(e,t){return ue("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ml(e,Ll)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Ll},set:function(e){Ll=e}}]),r}(Dl),Ul=new jl,Bl=function(){"use strict";function t(n,r,i,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;e(l)(this,t),this.isReverse_=o,this.resultGenerator_=a,this.nodeStack_=[];for(var s=1;!n.isEmpty();)if(s=r?i(n.key,r):1,o&&(s*=-1),s<0)n=this.isReverse_?n.left:n.right;else{if(0===s){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}return e(f)(t,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),t}(),Fl=function(){"use strict";function t(n,r,i,o,a){e(l)(this,t),this.key=n,this.value=r,this.color=null!=i?i:t.RED,this.left=null!=o?o:zl.EMPTY_NODE,this.right=null!=a?a:zl.EMPTY_NODE}return e(f)(t,[{key:"copy",value:function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return zl.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return zl.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}},{key:"rotateRight_",value:function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fl.RED=!0,Fl.BLACK=!1;var ql,Hl=function(){"use strict";function t(){e(l)(this,t)}return e(f)(t,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Fl(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),t}(),zl=function(){"use strict";function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.EMPTY_NODE;e(l)(this,t),this.comparator_=n,this.root_=r}return e(f)(t,[{key:"insert",value:function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Fl.BLACK,null,null))}},{key:"remove",value:function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Fl.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Bl(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Bl(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Bl(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Bl(this.root_,null,this.comparator_,!0,e)}}]),t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Wl(e,t){return Ac(e.name,t.name)}function Vl(e,t){return Ac(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zl.EMPTY_NODE=new Hl;var Kl,Gl,Jl,Yl=function(e){return"number"==typeof e?"number:"+Bc(e):"string:"+e},$l=function(e){if(e.isLeafNode()){var t=e.val();ue("string"==typeof t||"number"==typeof t||"object"==typeof t&&He(t,".sv"),"Priority must be a string or number.")}else ue(e===ql||e.isEmpty(),"priority of unexpected type.");ue(e===ql||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ql=function(){"use strict";function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.__childrenNodeConstructor.EMPTY_NODE;e(l)(this,t),this.value_=n,this.priorityNode_=r,this.lazyHash_=null,ue(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),$l(this.priorityNode_)}return e(f)(t,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(e){return new t(this.value_,e)}},{key:"getImmediateChild",value:function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(e){return Il(e)?this:".priority"===ml(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(e,n){var r=ml(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(ue(".priority"!==r||1===yl(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(bl(e),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Yl(this.priorityNode_.val())+":");var n=e(uc)(this.value_);t+=n+":",t+="number"===n?Bc(this.value_):this.value_,this.lazyHash_=_c(t)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(ue(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}},{key:"compareToLeafNode_",value:function(n){var r=e(uc)(n.value_),i=e(uc)(this.value_),o=t.VALUE_TYPE_ORDER.indexOf(r),a=t.VALUE_TYPE_ORDER.indexOf(i);return ue(o>=0,"Unknown leaf type: "+r),ue(a>=0,"Unknown leaf type: "+i),o===a?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:a-o}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return Kl},set:function(e){Kl=e}}]),t}();Ql.VALUE_TYPE_ORDER=["object","boolean","number","string"];var Xl,Zl,ef=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(){return e(l)(this,r),n.apply(this,arguments)}return e(f)(r,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Ac(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Ml.MIN}},{key:"maxPost",value:function(){return new Ml(Rc,new Ql("[PRIORITY-POST]",Jl))}},{key:"makePost",value:function(e,t){var n=Gl(e);return new Ml(t,new Ql("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),r}(Dl),tf=new ef,nf=Math.log(2),rf=function(){"use strict";function t(n){e(l)(this,t);var r;this.count=(r=n+1,parseInt(Math.log(r)/nf,10)),this.current_=this.count-1;var i,o=(i=this.count,parseInt(Array(i+1).join("1"),2));this.bits_=n+1&o}return e(f)(t,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),t}(),of=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,s=r-t;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new Fl(a,o.node,Fl.BLACK,null,null);var u=parseInt(s/2,10)+t,c=i(t,u),l=i(u+1,r);return o=e[u],a=n?n(o):o,new Fl(a,o.node,Fl.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],f=n?n(l):l;u(new Fl(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,Fl.BLACK):(s(f,Fl.BLACK),s(f,Fl.RED))}return o}(new rf(e.length));return new zl(r||t,o)},af={},sf=function(){"use strict";function t(n,r){e(l)(this,t),this.indexes_=n,this.indexSet_=r}return e(f)(t,[{key:"get",value:function(e){var t=ze(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof zl?t:null}},{key:"hasIndex",value:function(e){return He(this.indexSet_,e.toString())}},{key:"addIndex",value:function(e,n){ue(e!==Ul,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,a=n.getIterator(Ml.Wrap),s=a.getNext();s;)o=o||e.isDefinedOn(s.node),i.push(s),s=a.getNext();r=o?of(i,e.getCompare()):af;var u=e.toString(),c=Object.assign({},this.indexSet_);c[u]=e;var l=Object.assign({},this.indexes_);return l[u]=r,new t(l,c)}},{key:"addToIndexes",value:function(e,n){var r=this;return new t(Ve(this.indexes_,(function(t,i){var o=ze(r.indexSet_,i);if(ue(o,"Missing index implementation for "+i),t===af){if(o.isDefinedOn(e.node)){for(var a=[],s=n.getIterator(Ml.Wrap),u=s.getNext();u;)u.name!==e.name&&a.push(u),u=s.getNext();return a.push(e),of(a,o.getCompare())}return af}var c=n.get(e.name),l=t;return c&&(l=l.remove(new Ml(e.name,c))),l.insert(e,e.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(e,n){return new t(Ve(this.indexes_,(function(t){if(t===af)return t;var r=n.get(e.name);return r?t.remove(new Ml(e.name,r)):t})),this.indexSet_)}}],[{key:"Default",get:function(){return ue(af&&tf,"ChildrenNode.ts has not been loaded"),Xl=Xl||new t({".priority":af},{".priority":tf})}}]),t}(),uf=function(){"use strict";function t(n,r,i){e(l)(this,t),this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&$l(this.priorityNode_),this.children_.isEmpty()&&ue(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return e(f)(t,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||Zl}},{key:"updatePriority",value:function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Zl:t}},{key:"getChild",value:function(e){var t=ml(e);return null===t?this:this.getImmediateChild(t).getChild(bl(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(e,n){if(ue(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r,i,o=new Ml(e,n);n.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(o,this.children_)):(r=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(o,this.children_));var a=r.isEmpty()?Zl:this.priorityNode_;return new t(r,a,i)}},{key:"updateChild",value:function(e,t){var n=ml(e);if(null===n)return t;ue(".priority"!==ml(e)||1===yl(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(bl(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(tf,(function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Yl(this.getPriority().val())+":"),this.forEachChild(tf,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":_c(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ml(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Ml(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Ml(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Ml.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Ml.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===cf?-1:0}},{key:"withIndex",value:function(e){if(e===Ul||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Ul||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(tf),r=t.getIterator(tf),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Ul?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return Zl||(Zl=new t(new zl(Vl),null,sf.Default))}}]),t}();uf.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var cf=new(function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(){return e(l)(this,r),n.call(this,new zl(Vl),uf.EMPTY_NODE,sf.Default)}return e(f)(r,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return uf.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),r}(uf));Object.defineProperties(Ml,{MIN:{value:new Ml(Pc,uf.EMPTY_NODE)},MAX:{value:new Ml(Rc,cf)}}),jl.__EMPTY_NODE=uf.EMPTY_NODE,Ql.__childrenNodeConstructor=uf,ql=cf,function(e){Jl=e}(cf);function lf(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===t)return uf.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(n=t[".priority"]),ue(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+(void 0===n?"undefined":e(uc)(n))),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t){var r=t;return new Ql(r,lf(n))}if(t instanceof Array){var i=uf.EMPTY_NODE;return Uc(t,(function(e,n){if(He(t,e)&&"."!==e.substring(0,1)){var r=lf(n);!r.isLeafNode()&&r.isEmpty()||(i=i.updateImmediateChild(e,r))}})),i.updatePriority(lf(n))}var o=[],a=!1,s=t;if(Uc(s,(function(e,t){if("."!==e.substring(0,1)){var n=lf(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),o.push(new Ml(e,n)))}})),0===o.length)return uf.EMPTY_NODE;var u=of(o,Wl,(function(e){return e.name}),Vl);if(a){var c=of(o,tf.getCompare());return new uf(u,lf(n),new sf({".priority":c},{".priority":tf}))}return new uf(u,lf(n),sf.Default)}!function(e){Gl=e}(lf);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ff=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(t){var i;return e(l)(this,r),(i=n.call(this)).indexPath_=t,ue(!Il(t)&&".priority"!==ml(t),"Can't create PathIndex with empty path or .priority key"),i}return e(f)(r,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Ac(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=lf(e),r=uf.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ml(t,r)}},{key:"maxPost",value:function(){var e=uf.EMPTY_NODE.updateChild(this.indexPath_,cf);return new Ml(Rc,e)}},{key:"toString",value:function(){return wl(this.indexPath_,0).join("/")}}]),r}(Dl),hf=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(){return e(l)(this,r),n.apply(this,arguments)}return e(f)(r,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?Ac(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Ml.MIN}},{key:"maxPost",value:function(){return Ml.MAX}},{key:"makePost",value:function(e,t){var n=lf(e);return new Ml(t,n)}},{key:"toString",value:function(){return".value"}}]),r}(Dl),df=new hf;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function pf(e){return{type:"value",snapshotNode:e}}function vf(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function gf(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function mf(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var yf=function(){"use strict";function t(){e(l)(this,t),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tf}return e(f)(t,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return ue(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return ue(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Pc}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return ue(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return ue(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Rc}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return ue(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===tf}},{key:"copy",value:function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}]),t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(e){var t,n={};if(e.isDefault())return n;if(e.index_===tf?t="$priority":e.index_===df?t="$value":e.index_===Ul?t="$key":(ue(e.index_ instanceof ff,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Be(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=Be(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+Be(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=Be(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+Be(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function _f(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==tf&&(t.i=e.index_.toString()),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wf=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(t,i,o,a){var s;return e(l)(this,r),(s=n.call(this)).repoInfo_=t,s.onDataUpdate_=i,s.authTokenProvider_=o,s.appCheckTokenProvider_=a,s.log_=Ec("p:rest:"),s.listens_={},s}return e(f)(r,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,n,i){var o=this,a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);var s=r.getListenId_(e,n),u={};this.listens_[s]=u;var c=bf(e._queryParams);this.restRequest_(a+".json",c,(function(e,t){var r=t;(404===e&&(r=null,e=null),null===e&&o.onDataUpdate_(a,r,!1,n),ze(o.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var n=r.getListenId_(e,t);delete this.listens_[n]}},{key:"get",value:function(e){var t=this,n=bf(e._queryParams),r=e._path.toString(),i=new Ie;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=this;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(o){var a=e(k)(o,2),s=a[0],u=a[1],c=i;s&&s.accessToken&&(n.auth=s.accessToken),u&&u.token&&(n.ac=u.token);var l=(i.repoInfo_.secure?"https://":"http://")+i.repoInfo_.host+t+"?ns="+i.repoInfo_.namespace+Je(n);i.log_("Sending REST request for "+l);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(r&&4===f.readyState){c.log_("REST Response for "+l+" received. status:",f.status,"response:",f.responseText);var e=null;if(f.status>=200&&f.status<300){try{e=Ue(f.responseText)}catch(e){Oc("Failed to parse JSON response for "+l+": "+f.responseText)}r(null,e)}else 401!==f.status&&404!==f.status&&Oc("Got unsuccessful REST response for "+l+" Status: "+f.status),r(f.status);r=null}},f.open("GET",l,!0),f.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(ue(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),r}(hl),kf=function(){"use strict";function t(){e(l)(this,t),this.rootNode_=uf.EMPTY_NODE}return e(f)(t,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function xf(){return{value:null,children:new Map}}function If(e,t,n){if(Il(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ml(t);e.children.has(r)||e.children.set(r,xf()),If(e.children.get(r),t=bl(t),n)}}function Sf(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,(function(e,r){Sf(r,new vl(t.toString()+"/"+e),n)}))}var Ef,Cf,Tf=function(){"use strict";function t(n){e(l)(this,t),this.collection_=n,this.last_=null}return e(f)(t,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Uc(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),t}(),Of=function(){"use strict";function t(n,r){e(l)(this,t),this.server_=r,this.statsToReport_={},this.statsListener_=new Tf(n);var i=1e4+2e4*Math.random();zc(this.reportStats_.bind(this),Math.floor(i))}return e(f)(t,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;Uc(t,(function(t,i){i>0&&He(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),zc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Cf=Ef||(Ef={}))[Cf.OVERWRITE=0]="OVERWRITE",Cf[Cf.MERGE=1]="MERGE",Cf[Cf.ACK_USER_WRITE=2]="ACK_USER_WRITE",Cf[Cf.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var Pf,Rf=function(){"use strict";function t(n,r,i){e(l)(this,t),this.path=n,this.affectedTree=r,this.revert=i,this.type=Ef.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e(f)(t,[{key:"operationForChild",value:function(e){if(Il(this.path)){if(null!=this.affectedTree.value)return ue(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new vl(e));return new t(gl(),n,this.revert)}return ue(ml(this.path)===e,"operationForChild called for unrelated child."),new t(bl(this.path),this.affectedTree,this.revert)}}]),t}(),Af=function(){"use strict";function t(n,r,i){e(l)(this,t),this.source=n,this.path=r,this.snap=i,this.type=Ef.OVERWRITE}return e(f)(t,[{key:"operationForChild",value:function(e){return Il(this.path)?new t(this.source,gl(),this.snap.getImmediateChild(e)):new t(this.source,bl(this.path),this.snap)}}]),t}(),Lf=function(){"use strict";function t(n,r,i){e(l)(this,t),this.source=n,this.path=r,this.children=i,this.type=Ef.MERGE}return e(f)(t,[{key:"operationForChild",value:function(e){if(Il(this.path)){var n=this.children.subtree(new vl(e));return n.isEmpty()?null:n.value?new Af(this.source,gl(),n.value):new t(this.source,gl(),n)}return ue(ml(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,bl(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),t}(),Mf=function(){"use strict";function t(n,r,i){e(l)(this,t),this.node_=n,this.fullyInitialized_=r,this.filtered_=i}return e(f)(t,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Il(e))return this.isFullyInitialized()&&!this.filtered_;var t=ml(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(e,t,n,r,i,o){var a=r.filter((function(e){return e.type===n}));a.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw ce("Should only compare child_ events.");var r=new Ml(t.childName,t.snapshotNode),i=new Ml(n.childName,n.snapshotNode);return e.index_.compare(r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,n)})),a.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function jf(e,t){return{eventCache:e,serverCache:t}}function Uf(e,t,n,r){return jf(new Mf(t,n,r),e.serverCache)}function Bf(e,t,n,r){return jf(e.eventCache,new Mf(t,n,r))}function Ff(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function qf(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hf=function(){return Pf||(Pf=new zl(Lc)),Pf},zf=function(){"use strict";function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hf();e(l)(this,t),this.value=n,this.children=r}return e(f)(t,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:gl(),value:this.value};if(Il(e))return null;var n=ml(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(bl(e),t);return null!=i?{path:xl(new vl(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(e){if(Il(e))return this;var n=ml(e),r=this.children.get(n);return null!==r?r.subtree(bl(e)):new t(null)}},{key:"set",value:function(e,n){if(Il(e))return new t(n,this.children);var r=ml(e),i=(this.children.get(r)||new t(null)).set(bl(e),n),o=this.children.insert(r,i);return new t(this.value,o)}},{key:"remove",value:function(e){if(Il(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=ml(e),r=this.children.get(n);if(r){var i,o=r.remove(bl(e));return i=o.isEmpty()?this.children.remove(n):this.children.insert(n,o),null===this.value&&i.isEmpty()?new t(null):new t(this.value,i)}return this}},{key:"get",value:function(e){if(Il(e))return this.value;var t=ml(e),n=this.children.get(t);return n?n.get(bl(e)):null}},{key:"setTree",value:function(e,n){if(Il(e))return n;var r,i=ml(e),o=(this.children.get(i)||new t(null)).setTree(bl(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)}},{key:"fold",value:function(e){return this.fold_(gl(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(xl(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,gl(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Il(e))return null;var i=ml(e),o=this.children.get(i);return o?o.findOnPath_(bl(e),xl(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,gl(),t)}},{key:"foreachOnPath_",value:function(e,n,r){if(Il(e))return this;this.value&&r(n,this.value);var i=ml(e),o=this.children.get(i);return o?o.foreachOnPath_(bl(e),xl(n,i),r):new t(null)}},{key:"foreach",value:function(e){this.foreach_(gl(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(xl(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(e){var n=new t(null);return Uc(e,(function(e,t){n=n.set(new vl(e),t)})),n}}]),t}(),Wf=function(){"use strict";function t(n){e(l)(this,t),this.writeTree_=n}return e(f)(t,null,[{key:"empty",value:function(){return new t(new zf(null))}}]),t}();function Vf(e,t,n){if(Il(t))return new Wf(new zf(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Sl(i,t);return o=o.updateChild(a,n),new Wf(e.writeTree_.set(i,o))}var s=new zf(n),u=e.writeTree_.setTree(t,s);return new Wf(u)}function Kf(e,t,n){var r=e;return Uc(n,(function(e,n){r=Vf(r,xl(t,e),n)})),r}function Gf(e,t){if(Il(t))return Wf.empty();var n=e.writeTree_.setTree(t,new zf(null));return new Wf(n)}function Jf(e,t){return null!=Yf(e,t)}function Yf(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Sl(n.path,t)):null}function $f(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(tf,(function(e,n){t.push(new Ml(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ml(e,n.value))})),t}function Qf(e,t){if(Il(t))return e;var n=Yf(e,t);return new Wf(null!=n?new zf(n):e.writeTree_.subtree(t))}function Xf(e){return e.writeTree_.isEmpty()}function Zf(e,t){return eh(gl(),e.writeTree_,t)}function eh(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(ue(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=eh(xl(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(xl(e,".priority"),r)),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(e,t){return vh(t,e)}function nh(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function rh(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));ue(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=e.allWrites.length-1;i&&a>=0;){var s=e.allWrites[a];s.visible&&(a>=n&&ih(s,r.path)?i=!1:Cl(r.path,s.path)&&(o=!0)),a--}if(i){if(o)return function(e){e.visibleWrites=ah(e.allWrites,oh,gl()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Gf(e.visibleWrites,r.path):Uc(r.children,(function(t){e.visibleWrites=Gf(e.visibleWrites,xl(r.path,t))}));return!0}return!1}function ih(e,t){if(e.snap)return Cl(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Cl(xl(e.path,n),t))return!0;return!1}function oh(e){return e.visible}function ah(e,t,n){for(var r=Wf.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,s=void 0;if(o.snap)Cl(n,a)?r=Vf(r,s=Sl(n,a),o.snap):Cl(a,n)&&(s=Sl(a,n),r=Vf(r,gl(),o.snap.getChild(s)));else{if(!o.children)throw ce("WriteRecord should have .snap or .children");if(Cl(n,a))r=Kf(r,s=Sl(n,a),o.children);else if(Cl(a,n))if(Il(s=Sl(a,n)))r=Kf(r,gl(),o.children);else{var u=ze(o.children,ml(s));if(u){var c=u.getChild(bl(s));r=Vf(r,gl(),c)}}}}}return r}function sh(e,t,n,r,i){if(r||i){var o=Qf(e.visibleWrites,t);if(!i&&Xf(o))return n;if(i||null!=n||Jf(o,gl())){return Zf(ah(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Cl(e.path,t)||Cl(t,e.path))}),t),n||uf.EMPTY_NODE)}return null}var a=Yf(e.visibleWrites,t);if(null!=a)return a;var s=Qf(e.visibleWrites,t);return Xf(s)?n:null!=n||Jf(s,gl())?Zf(s,n||uf.EMPTY_NODE):null}function uh(e,t,n,r){return sh(e.writeTree,e.treePath,t,n,r)}function ch(e,t){return function(e,t,n){var r=uf.EMPTY_NODE,i=Yf(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(tf,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=Qf(e.visibleWrites,t);return n.forEachChild(tf,(function(e,t){var n=Zf(Qf(o,new vl(e)),t);r=r.updateImmediateChild(e,n)})),$f(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return $f(Qf(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function lh(e,t,n,r){return function(e,t,n,r,i){ue(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=xl(t,n);if(Jf(e.visibleWrites,o))return null;var a=Qf(e.visibleWrites,o);return Xf(a)?i.getChild(n):Zf(a,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function fh(e,t){return function(e,t){return Yf(e.visibleWrites,t)}(e.writeTree,xl(e.treePath,t))}function hh(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=Qf(e.visibleWrites,t),c=Yf(u,gl());if(null!=c)s=c;else{if(null==n)return[];s=Zf(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=a.getCompare(),h=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function dh(e,t,n){return function(e,t,n,r){var i=xl(t,n),o=Yf(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Zf(Qf(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function ph(e,t){return vh(xl(e.treePath,t),e.writeTree)}function vh(e,t){return{treePath:e,writeTree:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gh=function(){"use strict";function t(){e(l)(this,t),this.changeMap=new Map}return e(f)(t,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;ue("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ue(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,mf(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,gf(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,vf(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw ce("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,mf(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),t}(),mh=new(function(){"use strict";function t(){e(l)(this,t)}return e(f)(t,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),t}()),yh=function(){"use strict";function t(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e(l)(this,t),this.writes_=n,this.viewCache_=r,this.optCompleteServerCache_=i}return e(f)(t,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Mf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return dh(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:qf(this.viewCache_),i=hh(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(e,t,n,r,i){var o,a,s=new gh;if(n.type===Ef.OVERWRITE){var u=n;u.source.fromUser?o=kh(e,t,u.path,u.snap,r,i,s):(ue(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!Il(u.path),o=wh(e,t,u.path,u.snap,r,i,a,s))}else if(n.type===Ef.MERGE){var c=n;c.source.fromUser?o=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=xl(n,r);xh(t,ml(c))&&(s=kh(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=xl(n,r);xh(t,ml(c))||(s=kh(e,s,c,u,i,o,a))})),s}(e,t,c.path,c.children,r,i,s):(ue(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),o=Sh(e,t,c.path,c.children,r,i,a,s))}else if(n.type===Ef.ACK_USER_WRITE){var l=n;o=l.revert?function(e,t,n,r,i,o){var a;if(null!=fh(r,n))return t;var s,u=new yh(r,t,i),c=t.eventCache.getNode();if(Il(n)||".priority"===ml(n)){var l;if(t.serverCache.isFullyInitialized())l=uh(r,qf(t));else{var f=t.serverCache.getNode();ue(f instanceof uf,"serverChildren would be complete if leaf node"),l=ch(r,f)}s=e.filter.updateFullNode(c,l,o)}else{var h=ml(n),d=dh(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,bl(n),u,o):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,uf.EMPTY_NODE,bl(n),u,o):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=uh(r,qf(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,a,o))}return a=t.serverCache.isFullyInitialized()||null!=fh(r,gl()),Uf(t,s,a,e.filter.filtersNodes())}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,l.path,r,i,s):function(e,t,n,r,i,o,a){if(null!=fh(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Il(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return wh(e,t,n,u.getNode().getChild(n),i,o,s,a);if(Il(n)){var c=new zf(null);return u.getNode().forEachChild(Ul,(function(e,t){c=c.set(new vl(e),t)})),Sh(e,t,n,c,i,o,s,a)}return t}var l=new zf(null);return r.foreach((function(e,t){var r=xl(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Sh(e,t,n,l,i,o,s,a)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==Ef.LISTEN_COMPLETE)throw ce("Unknown operation type: "+n.type);o=function(e,t,n,r,i){var o=t.serverCache,a=Bf(t,o.getNode(),o.isFullyInitialized()||Il(n),o.isFiltered());return _h(e,a,n,r,mh,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Ff(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(pf(Ff(t)))}}(t,o,f),{viewCache:o,changes:f}}function _h(e,t,n,r,i,o){var a,s,u=t.eventCache;if(null!=fh(r,n))return t;if(Il(n))if(ue(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=qf(t),l=ch(r,c instanceof uf?c:uf.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{var f=uh(r,qf(t));a=e.filter.updateFullNode(t.eventCache.getNode(),f,o)}else{var h=ml(n);if(".priority"===h){ue(1===yl(n),"Can't have a priority with additional path components");var d=u.getNode(),p=lh(r,n,d,s=t.serverCache.getNode());a=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,g=bl(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var m=lh(r,n,u.getNode(),s);v=null!=m?u.getNode().getImmediateChild(h).updateChild(g,m):u.getNode().getImmediateChild(h)}else v=dh(r,h,t.serverCache);a=null!=v?e.filter.updateChild(u.getNode(),h,v,g,i,o):u.getNode()}}return Uf(t,a,u.isFullyInitialized()||Il(n),e.filter.filtersNodes())}function wh(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(Il(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=ml(n);if(!c.isCompleteForPath(n)&&yl(n)>1)return t;var d=bl(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,mh,null)}var v=Bf(t,u,c.isFullyInitialized()||Il(n),l.filtersNodes());return _h(e,v,n,i,new yh(i,v,o),s)}function kh(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new yh(i,t,o);if(Il(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Uf(t,u,!0,e.filter.filtersNodes());else{var f=ml(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Uf(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=bl(n),p=c.getNode().getImmediateChild(f);if(Il(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===_l(d)&&v.getChild(kl(d)).isEmpty()?v:v.updateChild(d,r):uf.EMPTY_NODE}if(p.equals(h))s=t;else s=Uf(t,e.filter.updateChild(c.getNode(),f,h,d,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function xh(e,t){return e.eventCache.isCompleteForChild(t)}function Ih(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Sh(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Il(n)?r:new zf(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Ih(0,t.serverCache.getNode().getImmediateChild(n),r);c=wh(e,c,new vl(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var f=Ih(0,t.serverCache.getNode().getImmediateChild(n),r);c=wh(e,c,new vl(n),f,i,o,a,s)}})),c}var Eh;function Ch(e,t){var n=qf(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Il(t)&&!n.getImmediateChild(ml(t)).isEmpty())?n.getChild(t):null}function Th(e,t,n,r){t.type===Ef.MERGE&&null!==t.source.queryId&&(ue(qf(e.viewCache_),"We should always have a full cache before handling merges"),ue(Ff(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,o,a=e.viewCache_,s=bh(e.processor_,a,t,n,r);return i=e.processor_,o=s.viewCache,ue(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),ue(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),ue(s.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Oh(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Oh(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Df(e,i,"child_removed",t,r,n),Df(e,i,"child_added",t,r,n),Df(e,i,"child_moved",o,r,n),Df(e,i,"child_changed",t,r,n),Df(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nh;function Ph(e,t,n,r){var i=t.source.queryId;if(null!==i){var o=e.views.get(i);return ue(null!=o,"SyncTree gave us an op for an invalid query."),Th(o,t,n,r)}var a=[],s=!0,u=!1,c=void 0;try{for(var l,f=e.views.values()[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var h=l.value;a=a.concat(Th(h,t,n,r))}}catch(e){u=!0,c=e}finally{try{s||null==f.return||f.return()}finally{if(u)throw c}}return a}function Rh(e,t){var n=null,r=!0,i=!1,o=void 0;try{for(var a,s=e.views.values()[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;n=n||Ch(u,t)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}var Ah=function t(n){"use strict";e(l)(this,t),this.listenProvider_=n,this.syncPointTree_=new zf(null),this.pendingWriteTree_={visibleWrites:Wf.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Lh(e,t,n,r,i){return function(e,t,n,r,i){ue(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Vf(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Bh(e,new Af({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Mh(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=nh(e.pendingWriteTree_,t),i=rh(e.pendingWriteTree_,t);if(i){var o=new zf(null);return null!=r.snap?o=o.set(gl(),!0):Uc(r.children,(function(e){o=o.set(new vl(e),!0)})),Bh(e,new Rf(r.path,o,n))}return[]}function Dh(e,t,n){return Bh(e,new Af({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function jh(e,t,n,r){var i=Hh(e,r);if(null!=i){var o=zh(i),a=o.path,s=o.queryId,u=Sl(a,t);return Wh(e,a,new Af(Nf(s),u,n))}return[]}function Uh(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Rh(n,Sl(e,t));if(r)return r}));return sh(r,t,i,n,!0)}function Bh(e,t){return Fh(t,e.syncPointTree_,null,th(e.pendingWriteTree_,gl()))}function Fh(e,t,n,r){if(Il(e.path))return qh(e,t,n,r);var i=t.get(gl());null==n&&null!=i&&(n=Rh(i,gl()));var o=[],a=ml(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=ph(r,a);o=o.concat(Fh(s,u,c,l))}return i&&(o=o.concat(Ph(i,e,r,n))),o}function qh(e,t,n,r){var i=t.get(gl());null==n&&null!=i&&(n=Rh(i,gl()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=ph(r,t),u=e.operationForChild(t);u&&(o=o.concat(qh(u,i,a,s)))})),i&&(o=o.concat(Ph(i,e,r,n))),o}function Hh(e,t){return e.tagToQueryMap.get(t)}function zh(e){var t=e.indexOf("$");return ue(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new vl(e.substr(0,t))}}function Wh(e,t,n){var r=e.syncPointTree_.get(t);return ue(r,"Missing sync point for query tag that we're tracking"),Ph(r,n,th(e.pendingWriteTree_,t),null)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Vh=function(){"use strict";function t(n){e(l)(this,t),this.node_=n}return e(f)(t,[{key:"getImmediateChild",value:function(e){return new t(this.node_.getImmediateChild(e))}},{key:"node",value:function(){return this.node_}}]),t}(),Kh=function(){"use strict";function t(n,r){e(l)(this,t),this.syncTree_=n,this.path_=r}return e(f)(t,[{key:"getImmediateChild",value:function(e){var n=xl(this.path_,e);return new t(this.syncTree_,n)}},{key:"node",value:function(){return Uh(this.syncTree_,this.path_)}}]),t}(),Gh=function(e,t,n){return e&&"object"==typeof e?(ue(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Jh(e[".sv"],t,n):"object"==typeof e[".sv"]?Yh(e[".sv"],t):void ue(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Jh=function(e,t,n){if("timestamp"===e)return n.timestamp;ue(!1,"Unexpected server value: "+e)},Yh=function(e,t,n){e.hasOwnProperty("increment")||ue(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&ue(!1,"Unexpected increment value: "+r);var i=t.node();if(ue(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},$h=function(e,t,n,r){return Xh(t,new Kh(n,e),r)},Qh=function(e,t,n){return Xh(e,new Vh(t),n)};function Xh(e,t,n){var r,i=e.getPriority().val(),o=Gh(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=Gh(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Ql(s,lf(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Ql(o))),u.forEachChild(tf,(function(e,i){var o=Xh(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zh=function t(){"use strict";var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};e(l)(this,t),this.name=n,this.parent=r,this.node=i};function ed(e,t){for(var n=t instanceof vl?t:new vl(t),r=e,i=ml(n);null!==i;){var o=ze(r.node.children,i)||{children:{},childCount:0};r=new Zh(i,r,o),i=ml(n=bl(n))}return r}function td(e){return e.node.value}function nd(e,t){e.node.value=t,sd(e)}function rd(e){return e.node.childCount>0}function id(e,t){Uc(e.node.children,(function(n,r){t(new Zh(n,e,r))}))}function od(e,t,n,r){n&&!r&&t(e),id(e,(function(e){od(e,t,!0,r)})),n&&r&&t(e)}function ad(e){return new vl(null===e.parent?e.name:ad(e.parent)+"/"+e.name)}function sd(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===td(e)&&!rd(e)}(n),i=He(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,sd(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,sd(e))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.parent,e.name,e)}var ud=/[\[\].#$\/\u0000-\u001F\u007F]/,cd=/[\[\].#$\u0000-\u001F\u007F]/,ld=10485760,fd=function(e){return"string"==typeof e&&0!==e.length&&!ud.test(e)},hd=function(e){return"string"==typeof e&&0!==e.length&&!cd.test(e)},dd=function(e,t,n,r){r&&void 0===t||pd(et(e,"value"),t,n)},pd=function(e,t,n){var r=n instanceof vl?new Tl(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Nl(r));if("function"==typeof t)throw new Error(e+"contains a function "+Nl(r)+" with contents = "+t.toString());if(Nc(t))throw new Error(e+"contains "+t.toString()+" "+Nl(r));if("string"==typeof t&&t.length>3495253.3333333335&&nt(t)>ld)throw new Error(e+"contains a string greater than "+"10485760 utf8 bytes "+Nl(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,o=!1;if(Uc(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!fd(t)))throw new Error(e+" contains an invalid key ("+t+") "+Nl(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,s;s=t,(a=r).parts_.length>0&&(a.byteLength_+=1),a.parts_.push(s),a.byteLength_+=nt(s),Ol(a),pd(e,n,r),function(e){var t=e.parts_.pop();e.byteLength_-=nt(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),i&&o)throw new Error(e+' contains ".value" child '+Nl(r)+" in addition to actual children.")}},vd=function(e,t,n,r){if(!(r&&void 0===n||hd(n)))throw new Error(et(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},gd=function(e,t){if(".info"===ml(t))throw new Error(e+" failed = Can't modify data under /.info/")},md=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!fd(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),hd(e)}(n))throw new Error(et(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},yd=function t(){"use strict";e(l)(this,t),this.eventLists_=[],this.recursionDepth_=0};function bd(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||El(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function _d(e,t,n){bd(e,n),wd(e,(function(e){return Cl(e,t)||Cl(t,e)}))}function wd(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(kd(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function kd(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();kc&&Sc("event: "+n.toString()),Hc(r)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xd="repo_interrupt",Id=function(){"use strict";function t(n,r,i,o){e(l)(this,t),this.repoInfo_=n,this.forceRestClient_=r,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yd,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xf(),this.transactionQueueTree_=new Zh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e(f)(t,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),t}();function Sd(e,t,n){if(e.stats_=nl(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new wf(e.repoInfo_,(function(t,n,r,i){Td(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Od(e,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Be(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new Al(e.repoInfo_,t,(function(t,n,r,i){Td(e,t,n,r,i)}),(function(t){Od(e,t)}),(function(t){!function(e,t){Uc(t,(function(t,n){Nd(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}var r,i,o;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=(r=e.repoInfo_,i=function(){return new Of(e.stats_,e.server_)},o=r.toString(),tl[o]||(tl[o]=i()),tl[o]),e.infoData_=new kf,e.infoSyncTree_=new Ah({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=Dh(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),Nd(e,"connected",!1),e.serverSyncTree_=new Ah({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);_d(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Ed(e){var t=e.infoData_.getNode(new vl(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Cd(e){return(t=(t={timestamp:Ed(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Td(e,t,n,r,i){e.dataUpdateCount++;var o=new vl(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var s=Ve(n,(function(e){return lf(e)}));a=function(e,t,n,r){var i=Hh(e,r);if(i){var o=zh(i),a=o.path,s=o.queryId,u=Sl(a,t),c=zf.fromObject(n);return Wh(e,a,new Lf(Nf(s),u,c))}return[]}(e.serverSyncTree_,o,s,i)}else{var u=lf(n);a=jh(e.serverSyncTree_,o,u,i)}else if(r){var c=Ve(n,(function(e){return lf(e)}));a=function(e,t,n){var r=zf.fromObject(n);return Bh(e,new Lf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,c)}else{var l=lf(n);a=Dh(e.serverSyncTree_,o,l)}var f=o;a.length>0&&(f=Bd(e,o)),_d(e.eventQueue_,f,a)}function Od(e,t){Nd(e,"connected",t),!1===t&&function(e){Ld(e,"onDisconnectEvents");var t=Cd(e),n=xf();Sf(e.onDisconnect_,gl(),(function(r,i){var o=$h(r,i,e.serverSyncTree_,t);If(n,r,o)}));var r=[];Sf(n,gl(),(function(t,n){r=r.concat(Dh(e.serverSyncTree_,t,n));var i=Wd(e,t);Bd(e,i)})),e.onDisconnect_=xf(),_d(e.eventQueue_,gl(),r)}(e)}function Nd(e,t,n){var r=new vl("/.info/"+t),i=lf(n);e.infoData_.updateSnapshot(r,i);var o=Dh(e.infoSyncTree_,r,i);_d(e.eventQueue_,r,o)}function Pd(e){return e.nextWriteId_++}function Rd(e,t,n,r,i){Ld(e,"set",{path:t.toString(),value:n,priority:r});var o=Cd(e),a=lf(n,r),s=Uh(e.serverSyncTree_,t),u=Qh(a,s,o),c=Pd(e),l=Lh(e.serverSyncTree_,t,u,c,!0);bd(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||Oc("set at "+t+" failed: "+n);var a=Mh(e.serverSyncTree_,c,!o);_d(e.eventQueue_,t,a),Md(e,i,n,r)}));var f=Wd(e,t);Bd(e,f),_d(e.eventQueue_,f,[])}function Ad(e){e.persistentConnection_&&e.persistentConnection_.interrupt(xd)}function Ld(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o="";t.persistentConnection_&&(o=t.persistentConnection_.id+":"),Sc.apply(void 0,[o].concat(e(p)(r)))}function Md(e,t,n,r){t&&Hc((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function Dd(e,t,n){return Uh(e.serverSyncTree_,t,n)||uf.EMPTY_NODE}function jd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||zd(e,t),td(t)){var n=qd(e,t);ue(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&Ud(e,ad(t),n)}else rd(t)&&id(t,(function(t){jd(e,t)}))}function Ud(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Dd(e,t,r),o=i,a=i.hash(),s=0;s<n.length;s++){var u=n[s];ue(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=Sl(t,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var l=o.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){Ld(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=function(t){n[t].status=2,i=i.concat(Mh(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},a=[],s=0;s<n.length;s++)o(s);zd(e,ed(e.transactionQueueTree_,t)),jd(e,e.transactionQueueTree_),_d(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)Hc(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{Oc("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}Bd(e,t)}}),a)}function Bd(e,t){var n=Fd(e,t),r=ad(n);return function(e,t,n){var r=function(r){var s,u=t[r],c=Sl(n,u.path),l=!1,f=void 0;if(ue(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,f=u.abortReason,o=o.concat(Mh(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,f="maxretry",o=o.concat(Mh(e.serverSyncTree_,u.currentWriteId,!0));else{var h=Dd(e,u.path,a);u.currentInputSnapshot=h;var d=t[r].update(h.val());if(void 0!==d){pd("transaction failed: Data returned ",d,u.path);var p=lf(d);"object"==typeof d&&null!=d&&He(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=u.currentWriteId,g=Cd(e),m=Qh(p,h,g);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=m,u.currentWriteId=Pd(e),a.splice(a.indexOf(v),1),o=(o=o.concat(Lh(e.serverSyncTree_,u.path,m,u.currentWriteId,u.applyLocally))).concat(Mh(e.serverSyncTree_,v,!0))}else l=!0,f="nodata",o=o.concat(Mh(e.serverSyncTree_,u.currentWriteId,!0))}_d(e.eventQueue_,n,o),o=[],l&&(t[r].status=2,s=t[r].unwatcher,setTimeout(s,Math.floor(0)),t[r].onComplete&&("nodata"===f?i.push((function(){return t[r].onComplete(null,!1,t[r].currentInputSnapshot)})):i.push((function(){return t[r].onComplete(new Error(f),!1,null)}))))};if(0===t.length)return;for(var i=[],o=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=0;s<t.length;s++)r(s);zd(e,e.transactionQueueTree_);for(var u=0;u<i.length;u++)Hc(i[u]);jd(e,e.transactionQueueTree_)}(e,qd(e,n),r),r}function Fd(e,t){var n,r=e.transactionQueueTree_;for(n=ml(t);null!==n&&void 0===td(r);)r=ed(r,n),n=ml(t=bl(t));return r}function qd(e,t){var n=[];return Hd(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Hd(e,t,n){var r=td(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);id(t,(function(t){Hd(e,t,n)}))}function zd(e,t){var n=td(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,nd(t,n.length>0?n:void 0)}id(t,(function(t){zd(e,t)}))}function Wd(e,t){var n=ad(Fd(e,t)),r=ed(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Vd(e,t)})),Vd(e,r),od(r,(function(t){Vd(e,t)})),n}function Vd(e,t){var n=td(t);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(ue(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(ue(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Mh(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));-1===o?nd(t,void 0):n.length=o+1,_d(e.eventQueue_,ad(t),i);for(var s=0;s<r.length;s++)Hc(r[s])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kd,Gd,Jd=function(e,t){var n=Yd(e),r=n.namespace;"firebase.com"===n.domain&&Tc(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Tc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Oc("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Qc(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new vl(n.pathString)}},Yd=function(e){var t="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"==typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n=!0,r=!1,i=void 0;try{for(var o,a=e.split("&")[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?t[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):Oc("Invalid query segment '".concat(s,"' in query '").concat(e,"'"))}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(a="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},$d="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Qd=(Kd=0,Gd=[],function(){"use strict";function t(n,r,i,o){e(l)(this,t),this._repo=n,this._path=r,this._queryParams=i,this._orderByCalled=o}return e(f)(t,[{key:"key",get:function(){return Il(this._path)?null:_l(this._path)}},{key:"ref",get:function(){return new Xd(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=_f(this._queryParams),t=Dc(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return _f(this._queryParams)}},{key:"isEqual",value:function(e){if(!((e=ot(e))instanceof t))return!1;var n=this._repo===e._repo,r=El(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),t}());var Xd=function(t){"use strict";e(O)(r,t);var n=e(B)(r);function r(t,i){return e(l)(this,r),n.call(this,t,i,new yf,!1)}return e(f)(r,[{key:"parent",get:function(){var e=kl(this._path);return null===e?null:new r(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),r}(Qd);function Zd(e,t){return(e=ot(e))._checkNotDeleted("ref"),void 0!==t?ep(e._root,t):e._root}function ep(e,t){var n,r,i,o;return null===ml((e=ot(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),vd(n,r,i,o)):vd("child","path",t,!1),new Xd(e._repo,xl(e._path,t))}function tp(e,t){e=ot(e),gd("set",e._path),dd("set",t,e._path,!1);var n=new Ie;return Rd(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}!function(e){ue(!Eh,"__referenceConstructor has already been defined"),Eh=e}(Xd),function(e){ue(!Nh,"__referenceConstructor has already been defined"),Nh=e}(Xd);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var np={},rp=!1;function ip(e,t,n,r){e.repoInfo_=new Qc("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function op(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||Tc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Sc("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var a,s=Jd(o,i),u=s.repoInfo,c=void 0;void 0!==W&&W.env&&(c=W.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,o="http://".concat(c,"?ns=").concat(u.namespace),u=(s=Jd(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new Kc(Kc.OWNER):new Vc(e.name,e.options,t);md("Invalid Firebase Database URL",s),Il(s.path)||Tc("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=np[t.name];i||(i={},np[t.name]=i);var o=i[e.toURLString()];o&&Tc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new Id(e,rp,n,r),i[e.toURLString()]=o,o}(u,e,l,new Wc(e.name,n));return new ap(f,e)}var ap=function(){"use strict";function t(n,r){e(l)(this,t),this._repoInternal=n,this.app=r,this.type="database",this._instanceStarted=!1}return e(f)(t,[{key:"_repo",get:function(){return this._instanceStarted||(Sd(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Xd(this._repo,gl())),this._rootInternal}},{key:"_delete",value:function(){var e,t,n;return null!==this._rootInternal&&(e=this._repo,t=this.app.name,(n=np[t])&&n[e.key]===e||Tc("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Ad(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&Tc("Cannot call "+e+" on a deleted database.")}}]),t}();function sp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=ot(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Tc("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Tc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Kc(Kc.OWNER);else if(r.mockUserToken){var a="string"==typeof r.mockUserToken?r.mockUserToken:Se(r.mockUserToken,e.app.options.projectId);o=new Kc(a)}ip(i,t,n,o)}Al.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Al.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){fc=en,Yt(new at("database",(function(e,t){var n=t.instanceIdentifier;return op(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),rn(cc,lc,e),rn(cc,lc,"esm2017")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */();var up={};function cp(){return{form:document.querySelector(".search-form"),gallery:document.querySelector(".gallery"),btnAddWatched:document.querySelector(".watched"),btnAddQueue:document.querySelector(".queue"),libraryPage:document.querySelector(".library-link"),btnSectionInLibrary:document.querySelector(".btn-section"),homePage:document.querySelector(".home-link"),headerByClass:document.querySelector(".header"),headerByTeg:document.querySelector("header"),search:document.querySelector(".search-list"),searchItem:document.querySelector(".search-item"),searchInput:document.querySelector(".search_input"),pagination:document.querySelector(".tui-pagination"),openSignInModalBtn:document.querySelector("#openSignInModalBtn"),logoutBtn:document.querySelector("#logoutBtn"),userDetails:document.querySelector("#userDetails"),slider:document.querySelector(".slider"),sliderContainer:document.querySelector(".slider-container"),goUpBtn:document.querySelector(".go-up"),maskLoader:document.querySelector(".mask"),prevSliderBtn:document.querySelector('.tns-controls button[data-controls="prev"]'),nextSliderBtn:document.querySelector('button[data-controls="next"]')}}up=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u=void 0;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){return i(t[a][1][e]||e)}),l,l.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.visible=void 0;var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("div");return n.innerHTML=e.trim(),!0===t?n.children:n.firstChild},i=function(e,t){var n=e.children;return 1===n.length&&n[0].tagName===t},o=function(e){return null!=(e=e||document.querySelector(".basicLightbox"))&&!0===e.ownerDocument.body.contains(e)};n.visible=o,n.create=function(e,t){var n=function(e,t){var n=r('\n\t\t<div class="basicLightbox '.concat(t.className,'">\n\t\t\t<div class="basicLightbox__placeholder" role="dialog"></div>\n\t\t</div>\n\t')),o=n.querySelector(".basicLightbox__placeholder");e.forEach((function(e){return o.appendChild(e)}));var a=i(o,"IMG"),s=i(o,"VIDEO"),u=i(o,"IFRAME");return!0===a&&n.classList.add("basicLightbox--img"),!0===s&&n.classList.add("basicLightbox--video"),!0===u&&n.classList.add("basicLightbox--iframe"),n}(e=function(e){var t="string"==typeof e,n=e instanceof HTMLElement==1;if(!1===t&&!1===n)throw new Error("Content must be a DOM element/node or string");return!0===t?Array.from(r(e,!0)):"TEMPLATE"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=""),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),"boolean"!=typeof e.closable)throw new Error("Property `closable` must be a boolean");if("string"!=typeof e.className)throw new Error("Property `className` must be a string");if("function"!=typeof e.onShow)throw new Error("Property `onShow` must be a function");if("function"!=typeof e.onClose)throw new Error("Property `onClose` must be a function");return e}(t)),a=function(e){return!1!==t.onClose(s)&&function(e,t){return e.classList.remove("basicLightbox--visible"),setTimeout((function(){return!1===o(e)||e.parentElement.removeChild(e),t()}),410),!0}(n,(function(){if("function"==typeof e)return e(s)}))};!0===t.closable&&n.addEventListener("click",(function(e){e.target===n&&a()}));var s={element:function(){return n},visible:function(){return o(n)},show:function(e){return!1!==t.onShow(s)&&function(e,t){return document.body.appendChild(e),setTimeout((function(){requestAnimationFrame((function(){return e.classList.add("basicLightbox--visible"),t()}))}),10),!0}(n,(function(){if("function"==typeof e)return e(s)}))},close:a};return s}},{}]},{},[1])(1);var lp;function fp(t){var n=[],r=function(e,t){return e.map((function(e){return t.genres.filter((function(t){return t.id===e}))})).flat()}(t,e(lp)),i=!0,o=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=localStorage.getItem("lang");null===l&&(l="en-US"),n.push(c.name[l])}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return 0===n.length?"No data":n.length<2?n.join(", "):n.slice(0,2).join(", ")+", "+function(){var e=localStorage.getItem("lang");if(!e||"en-US"===e)return"Other";if("uk-UA"===e)return"";if("ru-RU"===e)return""}()}lp=JSON.parse('{"genres":[{"id":28,"name":{"en-US":"Action","uk-UA":"","ru-RU":""}},{"id":12,"name":{"en-US":"Adventure","uk-UA":"","ru-RU":""}},{"id":16,"name":{"en-US":"Animation","uk-UA":"","ru-RU":""}},{"id":35,"name":{"en-US":"Comedy","uk-UA":"","ru-RU":""}},{"id":80,"name":{"en-US":"Crime","uk-UA":"","ru-RU":""}},{"id":99,"name":{"en-US":"Documentary","uk-UA":"","ru-RU":""}},{"id":18,"name":{"en-US":"Drama","uk-UA":"","ru-RU":""}},{"id":10751,"name":{"en-US":"Family","uk-UA":"","ru-RU":""}},{"id":14,"name":{"en-US":"Fantasy","uk-UA":"","ru-RU":""}},{"id":36,"name":{"en-US":"History","uk-UA":"","ru-RU":""}},{"id":27,"name":{"en-US":"Horror","uk-UA":"","ru-RU":""}},{"id":10402,"name":{"en-US":"Music","uk-UA":"","ru-RU":""}},{"id":9648,"name":{"en-US":"Mystery","uk-UA":"","ru-RU":""}},{"id":10749,"name":{"en-US":"Romance","uk-UA":"","ru-RU":""}},{"id":878,"name":{"en-US":"Science fiction","uk-UA":" ","ru-RU":" "}},{"id":10770,"name":{"en-US":"TV Movie","uk-UA":"","ru-RU":""}},{"id":53,"name":{"en-US":"Thriller","uk-UA":"","ru-RU":""}},{"id":10752,"name":{"en-US":"War","uk-UA":" ","ru-RU":""}},{"id":37,"name":{"en-US":"Western","uk-UA":"","ru-RU":""}}]}');var hp=cp();function dp(e){var t=e.map((function(e){var t,n=e.poster_path,r=e.title,i=e.genre_ids,o=e.release_date,a=e.id,s=e.vote_average,u=fp(i);return'\n      <div class="movie-card">\n        <a href="javascript:void(0)" class="movie-link">\n          <div class="movie-poster-wrapper">\n            <span class="movie-rating-wrapper">            \n              <div class="movie-rating">'.concat(s,'</div>\n            </span>\n            <picture>\n                <source srcset="\n                ').concat(pp(n,"original")," 1x,\n                ").concat(pp(n,"original"),' 2x\n                " \n                media="(min-width: 1024px)"\n                >\n                <source srcset="\n                ').concat(pp(n,"w500")," 1x,\n                ").concat(pp(n,"w500"),' 2x\n                " \n                media="(min-width: 768px)"\n                >\n              <source srcset="\n                ').concat(pp(n,"w300")," 1x,\n                ").concat(pp(n,"w300"),' 2x\n                " \n                >\n\n              <img src="').concat(pp(n,"w300"),'" \n              alt=""\n              class="movie-card-img movie-poster"\n              data-id="').concat(a,'" \n              loading="lazy"/>\n            </picture>\n          </div>\n          <div class="movie-info">\n            <p class="movie-title">').concat(vp(r.toUpperCase()),'</p>\n            <div class="movie-genres-year-wrapper">\n              <span class="movie-genres">').concat(vp(u),'</span>\n              <div class="movie-year-wrapper">\n                <span class="movie-years">').concat((t=o)?t.slice(0,4):"No data","</span>\n              </div>\n          </div>\n          </div>\n        </a>\n      </div>")})).join("");hp.gallery.insertAdjacentHTML("beforeend",t)}function pp(e,t){return null===e?"https://wipfilms.net/wp-content/data/posters/tt0338683.jpg":"https://image.tmdb.org/t/p/".concat(t).concat(e)}function vp(e){return e.length>33?"".concat(e.substring(0,30),' <span class="string">...</span>'):e}var gp=cp(),mp={watchedBtnEl:document.querySelector(".btn-watched"),queueBtnEl:document.querySelector(".btn-queue")};function yp(e){return function(e){try{var t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error("Get state error: Error")}}(e).map((function(e){return e.genre_ids=e.genres.map((function(e){return e.id})),e}))}function bp(e){gp.slider.innerHTML="",gp.sliderContainer.innerHTML="",gp.gallery.innerHTML="",dp(yp(e))}function _p(){bp("queue"),mp.queueBtnEl.classList.add("library-btn-active"),mp.watchedBtnEl.classList.remove("library-btn-active")}function wp(){var e=mp.watchedBtnEl.classList.contains("library-btn-active");mp.queueBtnEl.classList.contains("library-btn-active")?bp("queue"):e&&bp("watched")}function kp(e){var t=localStorage.getItem("lang");return t&&"en-US"!==t?"uk-UA"===t?e.ua:"ru-RU"===t?e.ru:void 0:e.en}gp.libraryPage.addEventListener("click",(function(){_p()})),mp.watchedBtnEl.addEventListener("click",(function(){bp("watched"),mp.watchedBtnEl.classList.add("library-btn-active"),mp.queueBtnEl.classList.remove("library-btn-active")})),mp.queueBtnEl.addEventListener("click",(function(){_p()}));var xp;xp=JSON.parse('{"apifilms":{"failure":{"en":"Ooops, nothing was found","ua":",   ","ru":"-,   "}},"watched":{"failure":{"en":"Film removed from watched","ua":"   ","ru":"   "},"success":{"en":"Film added to watched","ua":"   ","ru":"   "}},"queue":{"failure":{"en":"Film removed from queue","ua":"   ","ru":"   "},"success":{"en":"Film added to queue","ua":"   ","ru":"   "}},"auth":{"failure":{"en":"Oops, something went wrong!","ua":"   ","ru":" "},"created":{"en":"User created","ua":" ","ru":" "},"login":{"en":"User logged","ua":" ","ru":" "},"loginFail":{"en":"Wrong username or password","ua":" \'  ","ru":"   "},"logout":{"en":"User logged out","ua":" ","ru":" "},"logwith":{"google":{"en":"User logged in with Google","ua":"   Google","ru":"   Google"},"facebook":{"en":"User logged in with Facebook","ua":"   Facebook","ru":"   Facebook"},"github":{"en":"User logged in with Github","ua":"   Github","ru":"   Github"}}}}');var Ip;Ip=JSON.parse('{"watch":{"add":{"en":"add to watched","ua":"  ","ru":"  "},"remove":{"en":"remove from watched","ua":"  ","ru":"  "}},"queue":{"add":{"en":"add to queue","ua":"  ","ru":"  "},"remove":{"en":"remove from queue","ua":"  ","ru":"  "}}}');var Sp=e(xp).watched.failure,Ep=e(xp).watched.success,Cp=e(xp).queue.failure,Tp=e(xp).queue.success,Op=e(Ip).watch.add,Np=e(Ip).watch.remove,Pp=e(Ip).queue.add,Rp=e(Ip).queue.remove;function Ap(e,t,n,r){e.addEventListener("click",(function(e){e.path[1].children[1].classList.contains("pressed")&&!e.target.classList.contains("pressed")&&(e.path[1].children[1].classList.remove("pressed"),e.path[1].children[1].textContent=kp(Pp),r.splice(r.findIndex((function(e){return e.id===t.id})),1),localStorage.setItem("queue",JSON.stringify(r))),e.target.classList.contains("pressed")?(e.target.classList.remove("pressed"),e.target.textContent=kp(Op),n.splice(n.findIndex((function(e){return e.id===t.id})),1),localStorage.setItem("watched",JSON.stringify(n)),setTimeout((function(){return s.Notify.failure(kp(Sp))}),250),wp()):(e.target.classList.add("pressed"),e.target.textContent=kp(Np),n.push(t),localStorage.setItem("watched",JSON.stringify(n)),wp(),setTimeout((function(){return s.Notify.success(kp(Ep))}),250))}))}function Lp(e,t,n,r){e.addEventListener("click",(function(e){e.path[1].children[0].classList.contains("pressed")&&!e.target.classList.contains("pressed")&&(e.path[1].children[0].classList.remove("pressed"),e.path[1].children[0].textContent=kp(Pp),r.splice(r.findIndex((function(e){return e.id===t.id})),1),localStorage.setItem("watched",JSON.stringify(r))),e.target.classList.contains("pressed")?(e.target.classList.remove("pressed"),e.target.textContent=kp(Pp),n.splice(n.findIndex((function(e){return e.id===t.id})),1),localStorage.setItem("queue",JSON.stringify(n)),setTimeout((function(){return s.Notify.failure(kp(Cp))}),250),wp()):(e.target.classList.add("pressed"),e.target.textContent=kp(Rp),n.push(t),localStorage.setItem("queue",JSON.stringify(n)),wp(),setTimeout((function(){return s.Notify.success(kp(Tp))}),250))}))}var Mp=localStorage.getItem("watched")?e(p)(JSON.parse(localStorage.getItem("watched"))):[],Dp=localStorage.getItem("queue")?e(p)(JSON.parse(localStorage.getItem("queue"))):[],jp="",Up="";function Bp(e){var t=e.genres,n=e.title,r=e.vote_average,i=e.vote_count,o=e.poster_path,a=e.popularity,s=e.original_title,u=e.overview,c=t.map((function(e){return e.name})).join(", ");jp=-1!==Mp.findIndex((function(t){return t.id===e.id}))?'<button type="button" class="button-add btn-animated wathed pressed" data-key="remove-watched">remove from Watched</button>':'<button type="button" class="button-add wathed" data-key="add-watched">add to Watched</button>',Up=-1!==Dp.findIndex((function(t){return t.id===e.id}))?'<button type="button" class="button-add btn-animated queue pressed" data-key="remove-queue">remove from queue</button>':'<button type="button" class="button-add queue" data-key="add-queue">add to queue</button>';up.create('<div class="modal modal-container"> \n           <button type="button" class="btn-close">\n           <svg width="30" height="30" fill="none" xmlns="http://www.w3.org/2000/svg" style="position: absolute"><path d="m8 8 14 14M8 22 22 8" stroke="#000" stroke-width="2"/></svg>\n           </button>\n           <div class="modal-card">\n        <div class="modal-image">\n          <img src="'.concat((l=o,null===l?"https://wipfilms.net/wp-content/data/posters/tt0338683.jpg":"https://image.tmdb.org/t/p/w300".concat(o)),'" alt="movie-poster" class="movie-poster" />\n          <button type="button" class="btn-open-trailer">\n\n        </button>\n        </div>\n        <div class="modal-info">\n          <h2 class="modal-info-title">').concat(n,'</h2>\n           <table>\n        <tr>\n          <th class="info-table-td" data-key="vote">Vote / Votes</td>\n          <td> <span class="info-table-vote_average">').concat(r,'</span>/<span class="info-table-vote_count"> ').concat(i,' </span></td>\n        </tr>\n        <tr>\n          <th class="info-table-td" data-key="popularity">Popularity</td>\n          <td>').concat(a,'</td>\n        </tr>\n        <tr>\n          <th class="info-table-td" data-key="original-title">Original Title</td>\n          <td class="info-table-original_title" valign="bottom">').concat(s,'</td>\n        </tr>\n        <tr>\n          <th class="info-table-td" data-key="genre">Genre</td>\n          <td>').concat(c,'</td>\n        </tr>\n      </table>\n            <h3 class="modal-about" data-key="about">ABOUT</h3>\n            <p class="modal-info-about">').concat(u,'</p>\n        <div class="modal-btn-container">\n          ').concat(jp,"\n          ").concat(Up,"\n        </div>\n        </div>\n      </div>\n    </div>\n  "),{onShow:function(e){document.addEventListener("keydown",(function(t){"Escape"===t.code&&e.close()})),e.element().querySelector(".btn-close").onclick=e.close},onClose:function(e){document.removeEventListener("keydown",(function(t){"Escape"===t.code&&e.close()}))}}).show();var l,f=document.querySelector(".wathed"),h=document.querySelector(".queue");Ap(f,e,Mp,Dp),Lp(h,e,Dp,Mp)}function Fp(e){return Fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(e)}function qp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hp(e,t){if("object"!==Fp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Fp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function zp(e){var t=Hp(e,"string");return"symbol"===Fp(t)?t:String(t)}function Wp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zp(r.key),r)}}function Vp(e,t,n){return t&&Wp(e.prototype,t),n&&Wp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gp(e,t){return(Gp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Jp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gp(e,t)}function Yp(e,t){if(t&&("object"===Fp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kp(e)}function $p(e){return($p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qp(e,t,n){return(t=zp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xp(e){if(Array.isArray(e))return e}function Zp(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ev(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tv(e,t){if(e){if("string"==typeof e)return ev(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ev(e,t):void 0}}function nv(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rv(e){return Xp(e)||Zp(e)||tv(e)||nv()}function iv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ov(e){for(var t=arguments,n=function(n){var r=null!=t[n]?t[n]:{};n%2?iv(Object(r),!0).forEach((function(t){Qp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))},r=1;r<arguments.length;r++)n(r);return e}var av={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},sv=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};qp(this,e),this.init(t,n)}return Vp(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||av,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,ov(ov({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}(),uv=new sv,cv=function(){function e(){qp(this,e),this.observers={}}return Vp(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){var i=[].concat(this.observers[e]);i.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function lv(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function fv(e){return null==e?"":""+e}function hv(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function dv(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return i()?{}:{obj:e,k:r(o.shift())}}function pv(e,t,n){var r=dv(e,t,Object);r.obj[r.k]=n}function vv(e,t){var n=dv(e,t),r=n.obj,i=n.k;if(r)return r[i]}function gv(e,t,n){var r=vv(e,n);return void 0!==r?r:vv(t,n)}function mv(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):mv(e[r],t[r],n):e[r]=t[r]);return e}function yv(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var bv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function _v(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return bv[e]})):e}var wv="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,kv=[" ",",","?","!",";"];function xv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,o=0;o<r.length;++o){if(!i)return;if("string"==typeof i[r[o]]&&o+1<r.length)return;if(void 0===i[r[o]]){for(var a=2,s=r.slice(o,o+a).join(n),u=i[s];void 0===u&&r.length>o+a;)a++,u=i[s=r.slice(o,o+a).join(n)];if(void 0===u)return;if(null===u)return null;if(t.endsWith(s)){if("string"==typeof u)return u;if(s&&"string"==typeof u[s])return u[s]}var c=r.slice(o+a).join(n);return c?xv(u,c,n):void 0}i=i[r[o]]}return i}}function Iv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sv(e){for(var t=arguments,n=function(n){var r=null!=t[n]?t[n]:{};n%2?Iv(Object(r),!0).forEach((function(t){Qp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))},r=1;r<arguments.length;r++)n(r);return e}function Ev(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$p(e);if(t){var i=$p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yp(this,n)}}var Cv=function(e){Jp(n,e);var t=Ev(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return qp(this,n),r=t.call(this),wv&&cv.call(Kp(r)),r.data=e||{},r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return Vp(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split("."));var s=vv(this.data,a);return s||!o||"string"!=typeof n?s:xv(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),pv(this.data,a,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=vv(this.data,a)||{};r?mv(s,n,i):s=Sv(Sv({},s),n),pv(this.data,a,s),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?Sv(Sv({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(cv),Tv={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,i))})),t}};function Ov(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nv(e){for(var t=arguments,n=function(n){var r=null!=t[n]?t[n]:{};n%2?Ov(Object(r),!0).forEach((function(t){Qp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ov(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))},r=1;r<arguments.length;r++)n(r);return e}function Pv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$p(e);if(t){var i=$p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yp(this,n)}}var Rv={},Av=function(e){Jp(n,e);var t=Pv(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return qp(this,n),r=t.call(this),wv&&cv.call(Kp(r)),hv(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,Kp(r)),r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=uv.create("translator"),r}return Vp(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var r=kv.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var i=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!i.test(e);if(!o){var a=e.indexOf(n);a>0&&!i.test(e.substring(0,a))&&(o=!0)}return o}(e,n,r));if(o&&!a){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:i};var u=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(r)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,t,r){var i=this;if("object"!==Fp(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"===Fp(t)&&(t=Nv({},t)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),u=s.key,c=s.namespaces,l=c[c.length-1],f=t.lng||this.language,h=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&"cimode"===f.toLowerCase()){if(h){var d=t.nsSeparator||this.options.nsSeparator;return o?{res:"".concat(l).concat(d).concat(u),usedKey:u,exactUsedKey:u,usedLng:f,usedNS:l}:"".concat(l).concat(d).concat(u)}return o?{res:u,usedKey:u,exactUsedKey:u,usedLng:f,usedNS:l}:u}var p=this.resolve(e,t),v=p&&p.res,g=p&&p.usedKey||u,m=p&&p.exactUsedKey||u,y=Object.prototype.toString.apply(v),b=["[object Number]","[object Function]","[object RegExp]"],_=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,k="string"!=typeof v&&"boolean"!=typeof v&&"number"!=typeof v;if(w&&v&&k&&b.indexOf(y)<0&&("string"!=typeof _||"[object Array]"!==y)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,v,Nv(Nv({},t),{},{ns:c})):"key '".concat(u," (").concat(this.language,")' returned an object instead of string.");return o?(p.res=x,p):x}if(a){var I="[object Array]"===y,S=I?[]:{},E=I?m:g;for(var C in v)if(Object.prototype.hasOwnProperty.call(v,C)){var T="".concat(E).concat(a).concat(C);S[C]=this.translate(T,Nv(Nv({},t),{joinArrays:!1,ns:c})),S[C]===T&&(S[C]=v[C])}v=S}}else if(w&&"string"==typeof _&&"[object Array]"===y)(v=v.join(_))&&(v=this.extendTranslation(v,e,t,r));else{var O=!1,N=!1,P=void 0!==t.count&&"string"!=typeof t.count,R=n.hasDefaultValue(t),A=P?this.pluralResolver.getSuffix(f,t.count,t):"",L=t["defaultValue".concat(A)]||t.defaultValue;!this.isValidLookup(v)&&R&&(O=!0,v=L),this.isValidLookup(v)||(N=!0,v=u);var M=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,D=M&&N?void 0:v,j=R&&L!==v&&this.options.updateMissing;if(N||O||j){if(this.logger.log(j?"updateKey":"missingKey",f,l,u,j?L:v),a){var U=this.resolve(u,Nv(Nv({},t),{},{keySeparator:!1}));U&&U.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var B=[],F=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&F&&F[0])for(var q=0;q<F.length;q++)B.push(F[q]);else"all"===this.options.saveMissingTo?B=this.languageUtils.toResolveHierarchy(t.lng||this.language):B.push(t.lng||this.language);var H=function(e,n,r){var o=R&&r!==v?r:D;i.options.missingKeyHandler?i.options.missingKeyHandler(e,l,n,o,j,t):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(e,l,n,o,j,t),i.emit("missingKey",e,l,n,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?B.forEach((function(e){i.pluralResolver.getSuffixes(e,t).forEach((function(n){H([e],u+n,t["defaultValue".concat(n)]||L)}))})):H(B,u,L))}v=this.extendTranslation(v,e,t,p,r),N&&v===u&&this.options.appendNamespaceToMissingKey&&(v="".concat(l,":").concat(u)),(N||O)&&this.options.parseMissingKeyHandler&&(v="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l,":").concat(u):u,O?v:void 0):this.options.parseMissingKeyHandler(v))}return o?(p.res=v,p):v}},{key:"extendTranslation",value:function(e,t,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,Nv(Nv({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(Nv(Nv({},n),{interpolation:Nv(Nv({},this.options.interpolation),n.interpolation)}));var a,s="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var u=e.match(this.interpolator.nestingRegexp);a=u&&u.length}var c=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=Nv(Nv({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),s){var l=e.match(this.interpolator.nestingRegexp);a<(l&&l.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i&&i[0]===r[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):o.translate.apply(o,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var f=n.postProcess||this.options.postProcess,h="string"==typeof f?[f]:f;return null!=e&&h&&h.length&&!1!==n.applyPostProcessor&&(e=Tv.handle(h,e,t,this.options&&this.options.postProcessPassResolved?Nv({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var u=a.extractFromKey(e,s),c=u.key;n=c;var l=u.namespaces;a.options.fallbackNS&&(l=l.concat(a.options.fallbackNS));var f=void 0!==s.count&&"string"!=typeof s.count,h=f&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),d=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);l.forEach((function(e){a.isValidLookup(t)||(o=e,!Rv["".concat(p[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(Rv["".concat(p[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!a.isValidLookup(t)){i=n;var o,u=[c];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(u,c,n,e,s);else{var l;f&&(l=a.pluralResolver.getSuffix(n,s.count,s));var p="".concat(a.options.pluralSeparator,"zero");if(f&&(u.push(c+l),h&&u.push(c+p)),d){var v="".concat(c).concat(a.options.contextSeparator).concat(s.context);u.push(v),f&&(u.push(v+l),h&&u.push(v+p))}}for(;o=u.pop();)a.isValidLookup(t)||(r=o,t=a.getResource(n,e,o,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),n}(cv);function Lv(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Mv=function(){function e(t){qp(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=uv.create("languageUtils")}return Vp(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Lv(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Lv(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=Lv(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){return e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:0===e.indexOf(r)?e:void 0}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&o(n.formatLanguageCode(e))})),i}}]),e}(),Dv=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],jv={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},Uv=["v1","v2","v3"],Bv={zero:0,one:1,two:2,few:3,many:4,other:5};function Fv(){var e={};return Dv.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:jv[t.fc]}}))})),e}var qv=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};qp(this,e),this.languageUtils=t,this.options=n,this.logger=uv.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Fv()}return Vp(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return Bv[e]-Bv[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var o=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_".concat(i.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!Uv.includes(this.options.compatibilityJSON)}}]),e}();function Hv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zv(e){for(var t=arguments,n=function(n){var r=null!=t[n]?t[n]:{};n%2?Hv(Object(r),!0).forEach((function(t){Qp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))},r=1;r<arguments.length;r++)n(r);return e}function Wv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=gv(e,t,n);return!o&&i&&"string"==typeof n&&void 0===(o=xv(e,n,r))&&(o=xv(t,n,r)),o}var Vv=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};qp(this,e),this.logger=uv.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return Vp(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:_v,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?yv(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?yv(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?yv(t.nestingPrefix):t.nestingPrefixEscaped||yv("$t("),this.nestingSuffix=t.nestingSuffix?yv(t.nestingSuffix):t.nestingSuffixEscaped||yv(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,o,a,s=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var l=function(e){if(e.indexOf(s.formatSeparator)<0){var i=Wv(t,u,e,s.options.keySeparator,s.options.ignoreJSONStructure);return s.alwaysFormat?s.format(i,void 0,n,zv(zv(zv({},r),t),{},{interpolationkey:e})):i}var o=e.split(s.formatSeparator),a=o.shift().trim(),c=o.join(s.formatSeparator).trim();return s.format(Wv(t,u,a,s.options.keySeparator,s.options.ignoreJSONStructure),c,n,zv(zv(zv({},r),t),{},{interpolationkey:a}))};this.resetRegExp();var f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,h=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,d=[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?c(s.escape(e)):c(e)}}];return d.forEach((function(t){for(a=0;i=t.regex.exec(e);){var n=i[1].trim();if(void 0===(o=l(n)))if("function"==typeof f){var u=f(e,i,r);o="string"==typeof u?u:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))o="";else{if(h){o=i[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),o=""}else"string"==typeof o||s.useRawValueToEscape||(o=fv(o));var c=t.safeValue(o);if(e=e.replace(i[0],c),h?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),o="{".concat(r[1]);e=r[0];var a=(o=this.interpolate(o,i)).match(/'/g),s=o.match(/"/g);(a&&a.length%2==0&&!s||s.length%2!=0)&&(o=o.replace(/'/g,'"'));try{i=JSON.parse(o),t&&(i=zv(zv({},t),i))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(o)}return delete i.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){var u=[];(i=(i=zv({},a)).replace&&"string"!=typeof i.replace?i.replace:i).applyPostProcessor=!1,delete i.defaultValue;var c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var l=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=l.shift(),u=l,c=!0}if((r=t(s.call(this,n[1].trim(),i),i))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=fv(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),c&&(r=u.reduce((function(e,t){return o.format(e,t,a.lng,zv(zv({},a),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function Kv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gv(e){for(var t=arguments,n=function(n){var r=null!=t[n]?t[n]:{};n%2?Kv(Object(r),!0).forEach((function(t){Qp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))},r=1;r<arguments.length;r++)n(r);return e}function Jv(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if("currency"===t&&i.indexOf(":")<0)n.currency||(n.currency=i.trim());else if("relativetime"===t&&i.indexOf(":")<0)n.range||(n.range=i.trim());else{i.split(";").forEach((function(e){if(e){var t=rv(e.split(":")),r=t[0],i=t.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[r.trim()]||(n[r.trim()]=i),"false"===i&&(n[r.trim()]=!1),"true"===i&&(n[r.trim()]=!0),isNaN(i)||(n[r.trim()]=parseInt(i,10))}}))}}return{formatName:t,formatOptions:n}}function Yv(e){var t={};return function(n,r,i){var o=r+JSON.stringify(i),a=t[o];return a||(a=e(r,i),t[o]=a),a(n)}}var $v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};qp(this,e),this.logger=uv.create("formatter"),this.options=t,this.formats={number:Yv((function(e,t){var n=new Intl.NumberFormat(e,Gv({},t));return function(e){return n.format(e)}})),currency:Yv((function(e,t){var n=new Intl.NumberFormat(e,Gv(Gv({},t),{},{style:"currency"}));return function(e){return n.format(e)}})),datetime:Yv((function(e,t){var n=new Intl.DateTimeFormat(e,Gv({},t));return function(e){return n.format(e)}})),relativetime:Yv((function(e,t){var n=new Intl.RelativeTimeFormat(e,Gv({},t));return function(e){return n.format(e,t.range||"day")}})),list:Yv((function(e,t){var n=new Intl.ListFormat(e,Gv({},t));return function(e){return n.format(e)}}))},this.init(t)}return Vp(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=Yv(t)}},{key:"format",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=t.split(this.formatSeparator),a=o.reduce((function(e,t){var o=Jv(t),a=o.formatName,s=o.formatOptions;if(r.formats[a]){var u=e;try{var c=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},l=c.locale||c.lng||i.locale||i.lng||n;u=r.formats[a](e,l,Gv(Gv(Gv({},s),i),c))}catch(e){r.logger.warn(e)}return u}return r.logger.warn("there was no format function for ".concat(a)),e}),e);return a}}]),e}();function Qv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xv(e){for(var t=arguments,n=function(n){var r=null!=t[n]?t[n]:{};n%2?Qv(Object(r),!0).forEach((function(t){Qp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))},r=1;r<arguments.length;r++)n(r);return e}function Zv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$p(e);if(t){var i=$p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yp(this,n)}}var eg=function(e){Jp(n,e);var t=Zv(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return qp(this,n),o=t.call(this),wv&&cv.call(Kp(o)),o.backend=e,o.store=r,o.services=i,o.languageUtils=i.languageUtils,o.options=a,o.logger=uv.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=a.maxParallelReads||10,o.readingCalls=0,o.maxRetries=a.maxRetries>=0?a.maxRetries:5,o.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(i,a.backend,a),o}return Vp(n,[{key:"queueLoad",value:function(e,t,n,r){var i=this,o={},a={},s={},u={};return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?void 0===a[s]&&(a[s]=!0):(i.state[s]=1,r=!1,void 0===a[s]&&(a[s]=!0),void 0===o[s]&&(o[s]=!0),void 0===u[t]&&(u[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(u)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),n&&this.store.addResourceBundle(i,o,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){!function(e,t,n,r){var i=dv(e,t,Object),o=i.obj,a=i.k;o[a]=o[a]||[],r&&(o[a]=o[a].concat(n)),r||o[a].push(n)}(n.loaded,[i],o),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:o,callback:a});else{this.readingCalls++;var s=function(s,u){if(r.readingCalls--,r.waitingReads.length>0){var c=r.waitingReads.shift();r.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}s&&u&&i<r.maxRetries?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*o,a)}),o):a(s,u)},u=this.backend[n].bind(this.backend);if(2!==u.length)return u(e,t,s);try{var c=u(e,t);c&&"function"==typeof c.then?c.then((function(e){return s(null,e)})).catch(s):s(null,c)}catch(e){s(e)}}}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(function(r,a){r&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),r),!r&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),a),t.loaded(e,r,a)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){var s=Xv(Xv({},o),{},{isUpdate:i}),u=this.backend.create.bind(this.backend);if(u.length<6)try{var c;(c=5===u.length?u(e,t,n,r,s):u(e,t,n,r))&&"function"==typeof c.then?c.then((function(e){return a(null,e)})).catch(a):a(null,c)}catch(e){a(e)}else u(e,t,n,r,a,s)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}}]),n}(cv);function tg(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===Fp(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===Fp(e[2])||"object"===Fp(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function ng(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function rg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ig(e){for(var t=arguments,n=function(n){var r=null!=t[n]?t[n]:{};n%2?rg(Object(r),!0).forEach((function(t){Qp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))},r=1;r<arguments.length;r++)n(r);return e}function og(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$p(e);if(t){var i=$p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yp(this,n)}}function ag(){}function sg(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}var ug=function(e){Jp(n,e);var t=og(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(qp(this,n),e=t.call(this),wv&&cv.call(Kp(e)),e.options=ng(r),e.services={},e.logger=uv,e.modules={external:[]},sg(Kp(e)),i&&!e.isInitialized&&!r.isClone){if(!e.options.initImmediate)return e.init(r,i),Yp(e,Kp(e));setTimeout((function(){e.init(r,i)}),0)}return e}return Vp(n,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r=tg();function i(e){return e?"function"==typeof e?new e:e:null}if(this.options=ig(ig(ig({},r),this.options),ng(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=ig(ig({},r.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var o;this.modules.logger?uv.init(i(this.modules.logger),this.options):uv.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!=typeof Intl&&(o=$v);var a=new Mv(this.options);this.store=new Cv(this.options.resources,this.options);var s=this.services;s.logger=uv,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new qv(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=i(o),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new Vv(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new eg(i(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(s.languageDetector=i(this.modules.languageDetector),s.languageDetector.init&&s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=i(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new Av(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=ag),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&"dev"!==u[0]&&(this.options.lng=u[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var c=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];c.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var l=["addResource","addResources","addResourceBundle","removeResourceBundle"];l.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var f=lv(),h=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),f.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?h():setTimeout(h,0),f}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ag,r=n,i="string"==typeof e?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return r();var o=[],a=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(i)a(i);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return a(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return a(e)})),this.services.backendConnector.load(o,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),r(e)}))}else r(null)}},{key:"reloadResources",value:function(e,t,n){var r=lv();return e||(e=this.languages),t||(t=this.options.ns),n||(n=ag),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Tv.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=lv();this.emit("languageChanging",e);var i=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},o=function(o){e||o||!n.services.languageDetector||(o=[]);var a="string"==typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);a&&(n.language||i(a),n.translator.language||n.translator.changeLanguage(a),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage&&n.services.languageDetector.cacheUserLanguage(a)),n.loadResources(a,(function(e){!function(e,o){o?(i(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,a)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var r=this,i=function e(t,i){var o;if("object"!==Fp(i)){for(var a=arguments.length,s=new Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];o=r.options.overloadTranslationOptionHandler([t,i].concat(s))}else o=ig({},i);o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns,o.keyPrefix=o.keyPrefix||n||e.keyPrefix;var c,l=r.options.keySeparator||".";return c=o.keyPrefix&&Array.isArray(t)?t.map((function(e){return"".concat(o.keyPrefix).concat(l).concat(e)})):o.keyPrefix?"".concat(o.keyPrefix).concat(l).concat(t):t,r.t(c,o)};return"string"==typeof e?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!a(r,e)||i&&!a(o,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=lv();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=lv();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";var t=this.services&&this.services.languageUtils||new Mv(tg());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ag,i=ig(ig(ig({},this.options),t),{isClone:!0}),o=new n(i);void 0===t.debug&&void 0===t.prefix||(o.logger=o.logger.clone(t));var a=["store","services","language"];return a.forEach((function(t){o[t]=e[t]})),o.services=ig({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new Av(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))})),o.init(i,r),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(cv);Qp(ug,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new ug(e,t)}));var cg=ug.createInstance();cg.createInstance=ug.createInstance;cg.createInstance,cg.dir,cg.init,cg.loadResources,cg.reloadResources,cg.use,cg.changeLanguage,cg.getFixedT,cg.t,cg.exists,cg.setDefaultNamespace,cg.hasLoadedNamespace,cg.loadNamespaces,cg.loadLanguages;var lg,fg,hg,dg,pg={};lg=pg,fg="Spinner",hg=function(){return mg},dg=function(e){return mg=e},Object.defineProperty(lg,fg,{get:hg,set:dg,enumerable:!0,configurable:!0});var vg=function(){return vg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},vg.apply(this,arguments)},gg={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",fadeColor:"transparent",animation:"spinner-line-fade-default",rotate:0,direction:1,speed:1,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:"0 0 1px transparent",position:"absolute"},mg=function(){function e(e){void 0===e&&(e={}),this.opts=vg(vg({},gg),e)}return e.prototype.spin=function(e){return this.stop(),this.el=document.createElement("div"),this.el.className=this.opts.className,this.el.setAttribute("role","progressbar"),yg(this.el,{position:this.opts.position,width:0,zIndex:this.opts.zIndex,left:this.opts.left,top:this.opts.top,transform:"scale("+this.opts.scale+")"}),e&&e.insertBefore(this.el,e.firstChild||null),function(e,t){var n=Math.round(t.corners*t.width*500)/1e3+"px",r="none";!0===t.shadow?r="0 2px 4px #000":"string"==typeof t.shadow&&(r=t.shadow);for(var i=function(e){for(var t=/^\s*([a-zA-Z]+\s+)?(-?\d+(\.\d+)?)([a-zA-Z]*)\s+(-?\d+(\.\d+)?)([a-zA-Z]*)(.*)$/,n=[],r=0,i=e.split(",");r<i.length;r++){var o=i[r].match(t);if(null!==o){var a=+o[2],s=+o[5],u=o[4],c=o[7];0!==a||u||(u=c),0!==s||c||(c=u),u===c&&n.push({prefix:o[1]||"",x:a,y:s,xUnits:u,yUnits:c,end:o[8]})}}return n}(r),o=0;o<t.lines;o++){var a=~~(360/t.lines*o+t.rotate),s=yg(document.createElement("div"),{position:"absolute",top:-t.width/2+"px",width:t.length+t.width+"px",height:t.width+"px",background:bg(t.fadeColor,o),borderRadius:n,transformOrigin:"left",transform:"rotate("+a+"deg) translateX("+t.radius+"px)"}),u=o*t.direction/t.lines/t.speed;u-=1/t.speed;var c=yg(document.createElement("div"),{width:"100%",height:"100%",background:bg(t.color,o),borderRadius:n,boxShadow:_g(i,a),animation:1/t.speed+"s linear "+u+"s infinite "+t.animation});s.appendChild(c),e.appendChild(s)}}(this.el,this.opts),this},e.prototype.stop=function(){return this.el&&("undefined"!=typeof requestAnimationFrame?cancelAnimationFrame(this.animateId):clearTimeout(this.animateId),this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.el=void 0),this},e}();function yg(e,t){for(var n in t)e.style[n]=t[n];return e}function bg(e,t){return"string"==typeof e?e:e[t%e.length]}function _g(e,t){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r],a=wg(o.x,o.y,t);n.push(o.prefix+a[0]+o.xUnits+" "+a[1]+o.yUnits+o.end)}return n.join(", ")}function wg(e,t,n){var r=n*Math.PI/180,i=Math.sin(r),o=Math.cos(r);return[Math.round(1e3*(e*o+t*i))/1e3,Math.round(1e3*(-e*i+t*o))/1e3]}var kg={lines:15,length:0,width:15,radius:40,scale:1.25,corners:1,speed:1.4,rotate:0,animation:"spinner-line-fade-default",direction:1,color:"#B92F2C",fadeColor:"transparent",top:"42%",left:"50%",shadow:"0 0 1px transparent",zIndex:2e9,className:"spinner",position:"fixed"};uc=i("l5bVx");function xg(e,t){return function(){return e.apply(t,arguments)}}var Ig,Sg=Object.prototype.toString,Eg=Object.getPrototypeOf,Cg=(Ig=Object.create(null),function(e){var t=Sg.call(e);return Ig[t]||(Ig[t]=t.slice(8,-1).toLowerCase())}),Tg=function(e){return e=e.toLowerCase(),function(t){return Cg(t)===e}},Og=function(t){return function(n){return(void 0===n?"undefined":e(uc)(n))===t}},Ng=Array.isArray,Pg=Og("undefined");var Rg=Tg("ArrayBuffer");var Ag=Og("string"),Lg=Og("function"),Mg=Og("number"),Dg=function(e){return null!==e&&"object"==typeof e},jg=function(e){if("object"!==Cg(e))return!1;var t=Eg(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},Ug=Tg("Date"),Bg=Tg("File"),Fg=Tg("Blob"),qg=Tg("FileList"),Hg=Tg("URLSearchParams");function zg(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.allOwnKeys,a=void 0!==o&&o;if(null!=e)if("object"!=typeof e&&(e=[e]),Ng(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var s,u=a?Object.getOwnPropertyNames(e):Object.keys(e),c=u.length;for(n=0;n<c;n++)s=u[n],t.call(null,e[s],s,e)}}function Wg(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var Vg="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:t,Kg=function(e){return!Pg(e)&&e!==Vg};var Gg,Jg,Yg=(Gg="undefined"!=typeof Uint8Array&&Eg(Uint8Array),function(e){return Gg&&e instanceof Gg}),$g=Tg("HTMLFormElement"),Qg=(Jg=Object.prototype.hasOwnProperty,function(e,t){return Jg.call(e,t)}),Xg=Tg("RegExp"),Zg=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};zg(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},em="abcdefghijklmnopqrstuvwxyz",tm="0123456789",nm={DIGIT:tm,ALPHA:em,ALPHA_DIGIT:em+em.toUpperCase()+tm};var rm={isArray:Ng,isArrayBuffer:Rg,isBuffer:function(e){return null!==e&&!Pg(e)&&null!==e.constructor&&!Pg(e.constructor)&&Lg(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"==typeof FormData&&e instanceof FormData||Lg(e.append)&&("formdata"===(t=Cg(e))||"object"===t&&Lg(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Rg(e.buffer)},isString:Ag,isNumber:Mg,isBoolean:function(e){return!0===e||!1===e},isObject:Dg,isPlainObject:jg,isUndefined:Pg,isDate:Ug,isFile:Bg,isBlob:Fg,isRegExp:Xg,isFunction:Lg,isStream:function(e){return Dg(e)&&Lg(e.pipe)},isURLSearchParams:Hg,isTypedArray:Yg,isFileList:qg,forEach:zg,merge:function e(){for(var t=(Kg(this)&&this||{}).caseless,n={},r=function(r,i){var o=t&&Wg(n,i)||i;jg(n[o])&&jg(r)?n[o]=e(n[o],r):jg(r)?n[o]=e({},r):Ng(r)?n[o]=r.slice():n[o]=r},i=0,o=arguments.length;i<o;i++)arguments[i]&&zg(arguments[i],r);return n},extend:function(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys;return zg(t,(function(t,r){n&&Lg(t)?e[r]=xg(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,o,a,s={};if(t=t||{},null==e)return t;do{for(o=(i=Object.getOwnPropertyNames(e)).length;o-- >0;)a=i[o],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&Eg(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Cg,kindOfTest:Tg,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(Ng(e))return e;var t=e.length;if(!Mg(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:$g,hasOwnProperty:Qg,hasOwnProp:Qg,reduceDescriptors:Zg,freezeMethods:function(e){Zg(e,(function(t,n){if(Lg(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];Lg(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return Ng(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:Wg,global:Vg,isContextDefined:Kg,ALPHABET:nm,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nm.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Lg(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10),n=function(e,r){if(Dg(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;var i=Ng(e)?[]:{};return zg(e,(function(e,t){var o=n(e,r+1);!Pg(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)}};function im(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}rm.inherits(im,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:rm.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var om=im.prototype,am={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){am[e]={value:e}})),Object.defineProperties(im,am),Object.defineProperty(om,"isAxiosError",{value:!0}),im.from=function(e,t,n,r,i,o){var a=Object.create(om);return rm.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),im.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};var sm,um,cm,lm=im;T=i("ds8z5"),uc=i("l5bVx");um=function(e){var t,n,r=bm(e),i=r[0],o=r[1],a=new vm(function(e,t,n){return 3*(t+n)/4-n}(0,i,o)),s=0,u=o>0?i-4:i;for(n=0;n<u;n+=4)t=pm[e.charCodeAt(n)]<<18|pm[e.charCodeAt(n+1)]<<12|pm[e.charCodeAt(n+2)]<<6|pm[e.charCodeAt(n+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=255&t;2===o&&(t=pm[e.charCodeAt(n)]<<2|pm[e.charCodeAt(n+1)]>>4,a[s++]=255&t);1===o&&(t=pm[e.charCodeAt(n)]<<10|pm[e.charCodeAt(n+1)]<<4|pm[e.charCodeAt(n+2)]>>2,a[s++]=t>>8&255,a[s++]=255&t);return a},cm=function(e){for(var t,n=e.length,r=n%3,i=[],o=16383,a=0,s=n-r;a<s;a+=o)i.push(_m(e,a,a+o>s?s:a+o));1===r?(t=e[n-1],i.push(dm[t>>2]+dm[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(dm[t>>10]+dm[t>>4&63]+dm[t<<2&63]+"="));return i.join("")}
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */;for(var fm,hm,dm=[],pm=[],vm="undefined"!=typeof Uint8Array?Uint8Array:Array,gm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mm=0,ym=gm.length;mm<ym;++mm)dm[mm]=gm[mm],pm[gm.charCodeAt(mm)]=mm;function bm(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function _m(e,t,n){for(var r,i,o=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(dm[(i=r)>>18&63]+dm[i>>12&63]+dm[i>>6&63]+dm[63&i]);return o.join("")}pm["-".charCodeAt(0)]=62,pm["_".charCodeAt(0)]=63,fm=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},hm=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+d]=255&a,d+=p,a/=256,c-=8);e[n+d-p]|=128*v};var wm="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;sm=Im;var km=2147483647;function xm(e){if(e>km)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,Im.prototype),t}function Im(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return Cm(e)}return Sm(e,t,n)}function Sm(t,n,r){if("string"==typeof t)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!Im.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|Pm(e,t),r=xm(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(t,n);if(ArrayBuffer.isView(t))return function(e){if(fy(e,Uint8Array)){var t=new Uint8Array(e);return Om(t.buffer,t.byteOffset,t.byteLength)}return Tm(e)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":e(uc)(t)));if(fy(t,ArrayBuffer)||t&&fy(t.buffer,ArrayBuffer))return Om(t,n,r);if("undefined"!=typeof SharedArrayBuffer&&(fy(t,SharedArrayBuffer)||t&&fy(t.buffer,SharedArrayBuffer)))return Om(t,n,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return Im.from(i,n,r);var o=function(e){if(Im.isBuffer(e)){var t=0|Nm(e.length),n=xm(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||hy(e.length)?xm(0):Tm(e);if("Buffer"===e.type&&Array.isArray(e.data))return Tm(e.data)}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return Im.from(t[Symbol.toPrimitive]("string"),n,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":e(uc)(t)))}function Em(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function Cm(e){return Em(e),xm(e<0?0:0|Nm(e))}function Tm(e){for(var t=e.length<0?0:0|Nm(e.length),n=xm(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function Om(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,Im.prototype),r}function Nm(e){if(e>=km)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+km.toString(16)+" bytes");return 0|e}function Pm(t,n){if(Im.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||fy(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+(void 0===t?"undefined":e(uc)(t)));var r=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;for(var o=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return uy(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return cy(t).length;default:if(o)return i?-1:uy(t).length;n=(""+n).toLowerCase(),o=!0}}function Rm(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return Km(this,t,n);case"utf8":case"utf-8":return Hm(this,t,n);case"ascii":return Wm(this,t,n);case"latin1":case"binary":return Vm(this,t,n);case"base64":return qm(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Gm(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function Am(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Lm(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),hy(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=Im.from(t,r)),Im.isBuffer(t))return 0===t.length?-1:Mm(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):Mm(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function Mm(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){f=!1;break}if(f)return o}return-1}function Dm(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o,a=t.length;for(r>a/2&&(r=a/2),o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(hy(s))return o;e[n+o]=s}return o}function jm(e,t,n,r){return ly(uy(t,e.length-n),e,n,r)}function Um(e,t,n,r){return ly(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function Bm(e,t,n,r){return ly(cy(t),e,n,r)}function Fm(e,t,n,r){return ly(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function qm(e,t,n){return 0===t&&n===e.length?cm(e):cm(e.slice(t,n))}function Hm(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u=void 0,c=void 0,l=void 0,f=void 0;switch(s){case 1:o<128&&(a=o);break;case 2:128==(192&(u=e[i+1]))&&(f=(31&o)<<6|63&u)>127&&(a=f);break;case 3:u=e[i+1],c=e[i+2],128==(192&u)&&128==(192&c)&&(f=(15&o)<<12|(63&u)<<6|63&c)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:u=e[i+1],c=e[i+2],l=e[i+3],128==(192&u)&&128==(192&c)&&128==(192&l)&&(f=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return function(e){var t=e.length;if(t<=zm)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=zm));return n}(r)}Im.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),Im.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Im.prototype,"parent",{enumerable:!0,get:function(){if(Im.isBuffer(this))return this.buffer}}),Object.defineProperty(Im.prototype,"offset",{enumerable:!0,get:function(){if(Im.isBuffer(this))return this.byteOffset}}),Im.poolSize=8192,Im.from=function(e,t,n){return Sm(e,t,n)},Object.setPrototypeOf(Im.prototype,Uint8Array.prototype),Object.setPrototypeOf(Im,Uint8Array),Im.alloc=function(e,t,n){return function(e,t,n){return Em(e),e<=0?xm(e):void 0!==t?"string"==typeof n?xm(e).fill(t,n):xm(e).fill(t):xm(e)}(e,t,n)},Im.allocUnsafe=function(e){return Cm(e)},Im.allocUnsafeSlow=function(e){return Cm(e)},Im.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==Im.prototype},Im.compare=function(e,t){if(fy(e,Uint8Array)&&(e=Im.from(e,e.offset,e.byteLength)),fy(t,Uint8Array)&&(t=Im.from(t,t.offset,t.byteLength)),!Im.isBuffer(e)||!Im.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},Im.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Im.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Im.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=Im.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(fy(o,Uint8Array))i+o.length>r.length?(Im.isBuffer(o)||(o=Im.from(o)),o.copy(r,i)):Uint8Array.prototype.set.call(r,o,i);else{if(!Im.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i)}i+=o.length}return r},Im.byteLength=Pm,Im.prototype._isBuffer=!0,Im.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Am(this,t,t+1);return this},Im.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Am(this,t,t+3),Am(this,t+1,t+2);return this},Im.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Am(this,t,t+7),Am(this,t+1,t+6),Am(this,t+2,t+5),Am(this,t+3,t+4);return this},Im.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?Hm(this,0,e):Rm.apply(this,arguments)},Im.prototype.toLocaleString=Im.prototype.toString,Im.prototype.equals=function(e){if(!Im.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Im.compare(this,e)},Im.prototype.inspect=function(){var e="";return e=this.toString("hex",0,50).replace(/(.{2})/g,"$1 ").trim(),this.length>50&&(e+=" ... "),"<Buffer "+e+">"},wm&&(Im.prototype[wm]=Im.prototype.inspect),Im.prototype.compare=function(t,n,r,i,o){if(fy(t,Uint8Array)&&(t=Im.from(t,t.offset,t.byteLength)),!Im.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+(void 0===t?"undefined":e(uc)(t)));if(void 0===n&&(n=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||r>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(this===t)return 0;for(var a=(o>>>=0)-(i>>>=0),s=(r>>>=0)-(n>>>=0),u=Math.min(a,s),c=this.slice(i,o),l=t.slice(n,r),f=0;f<u;++f)if(c[f]!==l[f]){a=c[f],s=l[f];break}return a<s?-1:s<a?1:0},Im.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},Im.prototype.indexOf=function(e,t,n){return Lm(this,e,t,n,!0)},Im.prototype.lastIndexOf=function(e,t,n){return Lm(this,e,t,n,!1)},Im.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return Dm(this,e,t,n);case"utf8":case"utf-8":return jm(this,e,t,n);case"ascii":case"latin1":case"binary":return Um(this,e,t,n);case"base64":return Bm(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fm(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},Im.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var zm=4096;function Wm(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function Vm(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function Km(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=dy[e[o]];return i}function Gm(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function Jm(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function Ym(e,t,n,r,i,o){if(!Im.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function $m(e,t,n,r,i){iy(t,r,i,e,n,7);var o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function Qm(e,t,n,r,i){iy(t,r,i,e,n,7);var o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function Xm(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Zm(e,t,n,r,i){return t=+t,n>>>=0,i||Xm(e,0,n,4),hm(e,t,n,r,23,4),n+4}function ey(e,t,n,r,i){return t=+t,n>>>=0,i||Xm(e,0,n,8),hm(e,t,n,r,52,8),n+8}Im.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,Im.prototype),r},Im.prototype.readUintLE=Im.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||Jm(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},Im.prototype.readUintBE=Im.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||Jm(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},Im.prototype.readUint8=Im.prototype.readUInt8=function(e,t){return e>>>=0,t||Jm(e,1,this.length),this[e]},Im.prototype.readUint16LE=Im.prototype.readUInt16LE=function(e,t){return e>>>=0,t||Jm(e,2,this.length),this[e]|this[e+1]<<8},Im.prototype.readUint16BE=Im.prototype.readUInt16BE=function(e,t){return e>>>=0,t||Jm(e,2,this.length),this[e]<<8|this[e+1]},Im.prototype.readUint32LE=Im.prototype.readUInt32LE=function(e,t){return e>>>=0,t||Jm(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Im.prototype.readUint32BE=Im.prototype.readUInt32BE=function(e,t){return e>>>=0,t||Jm(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Im.prototype.readBigUInt64LE=py((function(e){oy(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||ay(e,this.length-8);var r=t+256*this[++e]+65536*this[++e]+this[++e]*Math.pow(2,24),i=this[++e]+256*this[++e]+65536*this[++e]+n*Math.pow(2,24);return BigInt(r)+(BigInt(i)<<BigInt(32))})),Im.prototype.readBigUInt64BE=py((function(e){oy(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||ay(e,this.length-8);var r=t*Math.pow(2,24)+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*Math.pow(2,24)+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),Im.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||Jm(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},Im.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||Jm(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},Im.prototype.readInt8=function(e,t){return e>>>=0,t||Jm(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Im.prototype.readInt16LE=function(e,t){e>>>=0,t||Jm(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},Im.prototype.readInt16BE=function(e,t){e>>>=0,t||Jm(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},Im.prototype.readInt32LE=function(e,t){return e>>>=0,t||Jm(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Im.prototype.readInt32BE=function(e,t){return e>>>=0,t||Jm(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Im.prototype.readBigInt64LE=py((function(e){oy(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||ay(e,this.length-8);var r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*Math.pow(2,24))})),Im.prototype.readBigInt64BE=py((function(e){oy(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||ay(e,this.length-8);var r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+65536*this[++e]+256*this[++e]+n)})),Im.prototype.readFloatLE=function(e,t){return e>>>=0,t||Jm(e,4,this.length),fm(this,e,!0,23,4)},Im.prototype.readFloatBE=function(e,t){return e>>>=0,t||Jm(e,4,this.length),fm(this,e,!1,23,4)},Im.prototype.readDoubleLE=function(e,t){return e>>>=0,t||Jm(e,8,this.length),fm(this,e,!0,52,8)},Im.prototype.readDoubleBE=function(e,t){return e>>>=0,t||Jm(e,8,this.length),fm(this,e,!1,52,8)},Im.prototype.writeUintLE=Im.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||Ym(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},Im.prototype.writeUintBE=Im.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||Ym(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},Im.prototype.writeUint8=Im.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||Ym(this,e,t,1,255,0),this[t]=255&e,t+1},Im.prototype.writeUint16LE=Im.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||Ym(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},Im.prototype.writeUint16BE=Im.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||Ym(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},Im.prototype.writeUint32LE=Im.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||Ym(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},Im.prototype.writeUint32BE=Im.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||Ym(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Im.prototype.writeBigUInt64LE=py((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return $m(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),Im.prototype.writeBigUInt64BE=py((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Qm(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),Im.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);Ym(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},Im.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);Ym(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},Im.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||Ym(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},Im.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||Ym(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},Im.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||Ym(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},Im.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||Ym(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Im.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||Ym(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Im.prototype.writeBigInt64LE=py((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return $m(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),Im.prototype.writeBigInt64BE=py((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Qm(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),Im.prototype.writeFloatLE=function(e,t,n){return Zm(this,e,t,!0,n)},Im.prototype.writeFloatBE=function(e,t,n){return Zm(this,e,t,!1,n)},Im.prototype.writeDoubleLE=function(e,t,n){return ey(this,e,t,!0,n)},Im.prototype.writeDoubleBE=function(e,t,n){return ey(this,e,t,!1,n)},Im.prototype.copy=function(e,t,n,r){if(!Im.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},Im.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!Im.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=Im.isBuffer(e)?e:Im.from(e,r),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var ty={};function ny(t,n,r){ty[t]=function(r){e(O)(o,r);var i=e(B)(o);function o(){var r;return e(l)(this,o),r=i.call(this),Object.defineProperty(e(T)(r),"message",{value:n.apply(e(T)(r),arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(t,"]"),r.stack,delete r.name,r}return e(f)(o,[{key:"code",get:function(){return t},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(t,"]: ").concat(this.message)}}]),o}(r)}function ry(e){for(var t="",n=e.length,r="-"===e[0]?1:0;n>=r+4;n-=3)t="_".concat(e.slice(n-3,n)).concat(t);return"".concat(e.slice(0,n)).concat(t)}function iy(t,n,r,i,o,a){if(t>r||t<n){var s,u="bigint"===(void 0===n?"undefined":e(uc)(n))?"n":"";throw s=a>3?0===n||n===BigInt(0)?">= 0".concat(u," and < 2").concat(u," ** ").concat(8*(a+1)).concat(u):">= -(2".concat(u," ** ").concat(8*(a+1)-1).concat(u,") and < 2 ** ")+"".concat(8*(a+1)-1).concat(u):">= ".concat(n).concat(u," and <= ").concat(r).concat(u),new ty.ERR_OUT_OF_RANGE("value",s,t)}!function(e,t,n){oy(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||ay(t,e.length-(n+1))}(i,o,a)}function oy(e,t){if("number"!=typeof e)throw new ty.ERR_INVALID_ARG_TYPE(t,"number",e)}function ay(e,t,n){if(Math.floor(e)!==e)throw oy(e,n),new ty.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new ty.ERR_BUFFER_OUT_OF_BOUNDS;throw new ty.ERR_OUT_OF_RANGE(n||"offset",">= ".concat(n?1:0," and <= ").concat(t),e)}ny("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),ny("ERR_INVALID_ARG_TYPE",(function(t,n){return'The "'.concat(t,'" argument must be of type number. Received type ').concat(void 0===n?"undefined":e(uc)(n))}),TypeError),ny("ERR_OUT_OF_RANGE",(function(t,n,r){var i='The value of "'.concat(t,'" is out of range.'),o=r;return Number.isInteger(r)&&Math.abs(r)>Math.pow(2,32)?o=ry(String(r)):"bigint"===(void 0===r?"undefined":e(uc)(r))&&(o=String(r),(r>Math.pow(BigInt(2),BigInt(32))||r<-Math.pow(BigInt(2),BigInt(32)))&&(o=ry(o)),o+="n"),i+=" It must be ".concat(n,". Received ").concat(o)}),RangeError);var sy=/[^+/0-9A-Za-z-_]/g;function uy(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function cy(e){return um(function(e){if((e=(e=e.split("=")[0]).trim().replace(sy,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function ly(e,t,n,r){var i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function fy(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function hy(e){return e!=e}var dy=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}();function py(e){return"undefined"==typeof BigInt?vy:e}function vy(){throw new Error("BigInt not supported")}var gy=sm;function my(e){return rm.isPlainObject(e)||rm.isArray(e)}function yy(e){return rm.endsWith(e,"[]")?e.slice(0,-2):e}function by(e,t,n){return e?e.concat(t).map((function(e,t){return e=yy(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var _y=rm.toFlatObject(rm,{},null,(function(e){return/^is[A-Z]/.test(e)}));var wy=function(e,t,n){if(!rm.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=rm.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!rm.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&rm.isSpecCompliantForm(t);if(!rm.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(rm.isDate(e))return e.toISOString();if(!s&&rm.isBlob(e))throw new lm("Blob is not supported. Use a Buffer instead.");return rm.isArrayBuffer(e)||rm.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):gy.from(e):e}function c(e,n,i){var s=e;if(e&&!i&&"object"==typeof e)if(rm.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(rm.isArray(e)&&function(e){return rm.isArray(e)&&!e.some(my)}(e)||(rm.isFileList(e)||rm.endsWith(n,"[]"))&&(s=rm.toArray(e)))return n=yy(n),s.forEach((function(e,r){!rm.isUndefined(e)&&null!==e&&t.append(!0===a?by([n],r,o):null===a?n:n+"[]",u(e))})),!1;return!!my(e)||(t.append(by(i,n,o),u(e)),!1)}var l=[],f=Object.assign(_y,{defaultVisitor:c,convertValue:u,isVisitable:my});if(!rm.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!rm.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),rm.forEach(n,(function(n,o){!0===(!(rm.isUndefined(n)||null===n)&&i.call(t,n,rm.isString(o)?o.trim():o,r,f))&&e(n,r?r.concat(o):[o])})),l.pop()}}(e),t};function ky(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function xy(e,t){this._pairs=[],e&&wy(e,this,t)}var Iy=xy.prototype;Iy.append=function(e,t){this._pairs.push([e,t])},Iy.toString=function(e){var t=e?function(t){return e.call(this,t,ky)}:ky;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Sy=xy;function Ey(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Cy(e,t,n){if(!t)return e;var r,i=n&&n.encode||Ey,o=n&&n.serialize;if(r=o?o(t,n):rm.isURLSearchParams(t)?t.toString():new Sy(t,n).toString(i)){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var Ty,Oy=function(){function t(){e(l)(this,t),this.handlers=[]}return e(f)(t,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){rm.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),t}(),Ny=Oy,Py={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ry={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Sy,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},isStandardBrowserEnv:("undefined"==typeof navigator||"ReactNative"!==(Ty=navigator.product)&&"NativeScript"!==Ty&&"NS"!==Ty)&&"undefined"!=typeof window&&"undefined"!=typeof document,isStandardBrowserWebWorkerEnv:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};function Ay(e,t){return wy(e,new Ry.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Ry.isNode&&rm.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}var Ly=function(e){function t(e,n,r,i){var o=e[i++],a=Number.isFinite(+o),s=i>=e.length;return o=!o&&rm.isArray(r)?r.length:o,s?(rm.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a):(r[o]&&rm.isObject(r[o])||(r[o]=[]),t(e,n,r[o],i)&&rm.isArray(r[o])&&(r[o]=function(e){var t,n,r={},i=Object.keys(e),o=i.length;for(t=0;t<o;t++)r[n=i[t]]=e[n];return r}(r[o])),!a)}if(rm.isFormData(e)&&rm.isFunction(e.entries)){var n={};return rm.forEachEntry(e,(function(e,r){t(function(e){return rm.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},My={"Content-Type":void 0};var Dy={transitional:Py,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=rm.isObject(e);if(o&&rm.isHTMLForm(e)&&(e=new FormData(e)),rm.isFormData(e))return i&&i?JSON.stringify(Ly(e)):e;if(rm.isArrayBuffer(e)||rm.isBuffer(e)||rm.isStream(e)||rm.isFile(e)||rm.isBlob(e))return e;if(rm.isArrayBufferView(e))return e.buffer;if(rm.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ay(e,this.formSerializer).toString();if((n=rm.isFileList(e))||r.indexOf("multipart/form-data")>-1){var a=this.env&&this.env.FormData;return wy(n?{"files[]":e}:e,a&&new a,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),function(e,t,n){if(rm.isString(e))try{return(t||JSON.parse)(e),rm.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Dy.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&rm.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw lm.from(e,lm.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ry.classes.FormData,Blob:Ry.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};rm.forEach(["delete","get","head"],(function(e){Dy.headers[e]={}})),rm.forEach(["post","put","patch"],(function(e){Dy.headers[e]=rm.merge(My)}));var jy=Dy,Uy=rm.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),By=function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&Uy[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i},Fy=Symbol("internals");function qy(e){return e&&String(e).trim().toLowerCase()}function Hy(e){return!1===e||null==e?e:rm.isArray(e)?e.map(Hy):String(e)}function zy(e,t,n,r,i){return rm.isFunction(r)?r.call(this,t,n):(i&&(t=n),rm.isString(t)?rm.isString(r)?-1!==t.indexOf(r):rm.isRegExp(r)?r.test(t):void 0:void 0)}var Wy=Symbol.iterator,Vy=Symbol.toStringTag,Ky=function(){function t(n){e(l)(this,t),n&&this.set(n)}return e(f)(t,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=qy(t);if(!i)throw new Error("header name must be a non-empty string");var o=rm.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=Hy(e))}var o=function(e,t){return rm.forEach(e,(function(e,n){return i(e,n,t)}))};return rm.isPlainObject(e)||e instanceof this.constructor?o(e,t):rm.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?o(By(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=qy(e)){var n=rm.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(rm.isFunction(t))return t.call(this,r,n);if(rm.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=qy(e)){var n=rm.findKey(this,e);return!(!n||void 0===this[n]||t&&!zy(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=qy(e)){var i=rm.findKey(n,e);!i||t&&!zy(0,n[i],i,t)||(delete n[i],r=!0)}}return rm.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!zy(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return rm.forEach(this,(function(r,i){var o=rm.findKey(n,i);if(o)return t[o]=Hy(r),void delete t[i];var a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();a!==i&&delete t[i],t[a]=Hy(r),n[a]=!0})),this}},{key:"concat",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i;return(i=this.constructor).concat.apply(i,[this].concat(e(p)(n)))}},{key:"toJSON",value:function(e){var t=Object.create(null);return rm.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&rm.isArray(n)?n.join(", "):n)})),t}},{key:Wy,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(t){var n=e(k)(t,2);return n[0]+": "+n[1]})).join("\n")}},{key:Vy,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=new this(e);return n.forEach((function(e){return i.set(e)})),i}},{key:"accessor",value:function(e){var t=(this[Fy]=this[Fy]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=qy(e);t[r]||(!function(e,t){var n=rm.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return rm.isArray(e)?e.forEach(r):r(e),this}}]),t}();Ky.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),rm.freezeMethods(Ky.prototype),rm.freezeMethods(Ky);var Gy=Ky;function Jy(e,t){var n=this||jy,r=t||n,i=Gy.from(r.headers),o=r.data;return rm.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function Yy(e){return!(!e||!e.__CANCEL__)}function $y(e,t,n){lm.call(this,null==e?"canceled":e,lm.ERR_CANCELED,t,n),this.name="CanceledError"}rm.inherits($y,lm,{__CANCEL__:!0});var Qy=$y;function Xy(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new lm("Request failed with status code "+n.status,[lm.ERR_BAD_REQUEST,lm.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}var Zy=Ry.isStandardBrowserEnv?{write:function(e,t,n,r,i,o){var a=[];a.push(e+"="+encodeURIComponent(t)),rm.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),rm.isString(r)&&a.push("path="+r),rm.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function eb(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function tb(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?eb(e,t):t}var nb=Ry.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=rm.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var rb=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),o=0,a=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),c=i[a];n||(n=u),r[o]=s,i[o]=u;for(var l=a,f=0;l!==o;)f+=r[l++],l%=e;if((o=(o+1)%e)===a&&(a=(a+1)%e),!(u-n<t)){var h=c&&u-c;return h?Math.round(1e3*f/h):void 0}}};function ib(e,t){var n=0,r=rb(50,250);return function(i){var o=i.loaded,a=i.lengthComputable?i.total:void 0,s=o-n,u=r(s);n=o;var c={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:u||void 0,estimated:u&&a&&o<=a?(a-o)/u:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var ob="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,o=Gy.from(e.headers).normalize(),a=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}rm.isFormData(i)&&(Ry.isStandardBrowserEnv||Ry.isStandardBrowserWebWorkerEnv)&&o.setContentType(!1);var u=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(c+":"+l))}var f=tb(e.baseURL,e.url);function h(){if(u){var r=Gy.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());Xy((function(e){t(e),s()}),(function(e){n(e),s()}),{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}}if(u.open(e.method.toUpperCase(),Cy(f,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new lm("Request aborted",lm.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new lm("Network Error",lm.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||Py;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new lm(t,r.clarifyTimeoutError?lm.ETIMEDOUT:lm.ECONNABORTED,e,u)),u=null},Ry.isStandardBrowserEnv){var d=(e.withCredentials||nb(f))&&e.xsrfCookieName&&Zy.read(e.xsrfCookieName);d&&o.set(e.xsrfHeaderName,d)}void 0===i&&o.setContentType(null),"setRequestHeader"in u&&rm.forEach(o.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),rm.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&u.addEventListener("progress",ib(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",ib(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){u&&(n(!t||t.type?new Qy(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p,v=(p=/^([-+\w]{1,25})(:?\/\/|:)/.exec(f))&&p[1]||"";v&&-1===Ry.protocols.indexOf(v)?n(new lm("Unsupported protocol "+v+":",lm.ERR_BAD_REQUEST,e)):u.send(i||null)}))},ab={http:null,xhr:ob};rm.forEach(ab,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));var sb={getAdapter:function(e){for(var t,n,r=(e=rm.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=rm.isString(t)?ab[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new lm("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(rm.hasOwnProp(ab,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!rm.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:ab};function ub(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qy(null,e)}function cb(e){return ub(e),e.headers=Gy.from(e.headers),e.data=Jy.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),sb.getAdapter(e.adapter||jy.adapter)(e).then((function(t){return ub(e),t.data=Jy.call(e,e.transformResponse,t),t.headers=Gy.from(t.headers),t}),(function(t){return Yy(t)||(ub(e),t&&t.response&&(t.response.data=Jy.call(e,e.transformResponse,t.response),t.response.headers=Gy.from(t.response.headers))),Promise.reject(t)}))}var lb=function(e){return e instanceof Gy?e.toJSON():e};function fb(e,t){t=t||{};var n={};function r(e,t,n){return rm.isPlainObject(e)&&rm.isPlainObject(t)?rm.merge.call({caseless:n},e,t):rm.isPlainObject(t)?rm.merge({},t):rm.isArray(t)?t.slice():t}function i(e,t,n){return rm.isUndefined(t)?rm.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!rm.isUndefined(t))return r(void 0,t)}function a(e,t){return rm.isUndefined(t)?rm.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}var u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:function(e,t){return i(lb(e),lb(t),!0)}};return rm.forEach(Object.keys(e).concat(Object.keys(t)),(function(r){var o=u[r]||i,a=o(e[r],t[r],r);rm.isUndefined(a)&&o!==s||(n[r]=a)})),n}uc=i("l5bVx");var hb="1.3.6",db={};["object","boolean","number","function","string","symbol"].forEach((function(t,n){db[t]=function(r){return(void 0===r?"undefined":e(uc)(r))===t||"a"+(n<1?"n ":" ")+t}}));var pb={};db.transitional=function(e,t,n){function r(e,t){return"[Axios v1.3.6] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,o){if(!1===e)throw new lm(r(i," has been removed"+(t?" in "+t:"")),lm.ERR_DEPRECATED);return t&&!pb[i]&&(pb[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};var vb={assertOptions:function(e,t,n){if("object"!=typeof e)throw new lm("options must be an object",lm.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],a=t[o];if(a){var s=e[o],u=void 0===s||a(s,o,e);if(!0!==u)throw new lm("option "+o+" must be "+u,lm.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new lm("Unknown option "+o,lm.ERR_BAD_OPTION)}},validators:db},gb=vb.validators,mb=function(){function t(n){e(l)(this,t),this.defaults=n,this.interceptors={request:new Ny,response:new Ny}}return e(f)(t,[{key:"request",value:function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{};var n,r=(t=fb(this.defaults,t)).transitional,i=t.paramsSerializer,o=t.headers;void 0!==r&&vb.assertOptions(r,{silentJSONParsing:gb.transitional(gb.boolean),forcedJSONParsing:gb.transitional(gb.boolean),clarifyTimeoutError:gb.transitional(gb.boolean)},!1),null!=i&&(rm.isFunction(i)?t.paramsSerializer={serialize:i}:vb.assertOptions(i,{encode:gb.function,serialize:gb.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&rm.merge(o.common,o[t.method]))&&rm.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=Gy.concat(n,o);var a=[],s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));var u,c=[];this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));var l,f=0;if(!s){var h=[cb.bind(this),void 0];for(h.unshift.apply(h,a),h.push.apply(h,c),l=h.length,u=Promise.resolve(t);f<l;)u=u.then(h[f++],h[f++]);return u}l=a.length;var d=t;for(f=0;f<l;){var p=a[f++],v=a[f++];try{d=p(d)}catch(e){v.call(this,e);break}}try{u=cb.call(this,d)}catch(e){return Promise.reject(e)}for(f=0,l=c.length;f<l;)u=u.then(c[f++],c[f++]);return u}},{key:"getUri",value:function(e){return Cy(tb((e=fb(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),t}();rm.forEach(["delete","get","head","options"],(function(e){mb.prototype[e]=function(t,n){return this.request(fb(n||{},{method:e,url:t,data:(n||{}).data}))}})),rm.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(fb(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}mb.prototype[e]=t(),mb.prototype[e+"Form"]=t(!0)}));var yb=mb,bb=function(){function t(n){if(e(l)(this,t),"function"!=typeof n)throw new TypeError("executor must be a function.");var r;this.promise=new Promise((function(e){r=e}));var i=this;this.promise.then((function(e){if(i._listeners){for(var t=i._listeners.length;t-- >0;)i._listeners[t](e);i._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){i.subscribe(e),t=e})).then(e);return n.cancel=function(){i.unsubscribe(t)},n},n((function(e,t,n){i.reason||(i.reason=new Qy(e,t,n),r(i.reason))}))}return e(f)(t,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var e;return{token:new t((function(t){e=t})),cancel:e}}}]),t}();var _b={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_b).forEach((function(t){var n=e(k)(t,2),r=n[0],i=n[1];_b[i]=r}));var wb=_b;var kb=function e(t){var n=new yb(t),r=xg(yb.prototype.request,n);return rm.extend(r,yb.prototype,n,{allOwnKeys:!0}),rm.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(fb(t,n))},r}(jy);kb.Axios=yb,kb.CanceledError=Qy,kb.CancelToken=bb,kb.isCancel=Yy,kb.VERSION=hb,kb.toFormData=wy,kb.AxiosError=lm,kb.Cancel=kb.CanceledError,kb.all=function(e){return Promise.all(e)},kb.spread=function(e){return function(t){return e.apply(null,t)}},kb.isAxiosError=function(e){return rm.isObject(e)&&!0===e.isAxiosError},kb.mergeConfig=fb,kb.AxiosHeaders=Gy,kb.formToJSON=function(e){return Ly(rm.isHTMLForm(e)?new FormData(e):e)},kb.HttpStatusCode=wb,kb.default=kb;var xb=kb,Ib=(xb.Axios,xb.AxiosError,xb.CanceledError,xb.isCancel,xb.CancelToken,xb.VERSION,xb.all,xb.Cancel,xb.isAxiosError,xb.spread,xb.toFormData,xb.AxiosHeaders,xb.HttpStatusCode,xb.formToJSON,xb.mergeConfig,"https://api.themoviedb.org/3/"),Sb="900c3c2e823d6abe3929dac959f94e63",Eb=function(){"use strict";function t(){e(l)(this,t),this.searchQuery="",this.movieId="",this._page=1,this.language="en-US"}return e(f)(t,[{key:"getPopularMovies",value:function(){var t=this;return e(u)(e(_).mark((function n(){var r,i,o;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=document.querySelector("body"),i=new(0,pg.Spinner)(kg).spin(r),e.prev=2,e.next=5,xb.get("".concat(Ib,"trending/movie/day?api_key=").concat(Sb,"&language=").concat(t.setLanguage(),"&page=").concat(t._page));case 5:return o=e.sent,i.stop(),e.abrupt("return",o);case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),n,null,[[2,10]])})))()}},{key:"getSearchMovies",value:function(){var t=this;return e(u)(e(_).mark((function n(){var r,i,o;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=document.querySelector("body"),i=new(0,pg.Spinner)(kg).spin(r),e.prev=2,e.next=5,xb.get("".concat(Ib,"search/movie?api_key=").concat(Sb,"&language=").concat(t.setLanguage(),"&page=").concat(t._page,"&query=").concat(t.searchQuery));case 5:return o=e.sent,i.stop(),e.abrupt("return",o);case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),n,null,[[2,10]])})))()}},{key:"getMoviesById",value:function(){var t=this;return e(u)(e(_).mark((function n(){var r,i,o;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=document.querySelector("body"),i=new(0,pg.Spinner)(kg).spin(r),e.prev=2,e.next=5,xb.get("".concat(Ib,"movie/").concat(t.movieId,"?api_key=").concat(Sb,"&language=").concat(t.setLanguage()));case 5:return o=e.sent,i.stop(),e.abrupt("return",o);case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),n,null,[[2,10]])})))()}},{key:"getUpcomingMovies",value:function(){var t=this;return e(u)(e(_).mark((function n(){var r,i,o;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=document.querySelector("body"),i=new(0,pg.Spinner)(kg).spin(r),e.prev=2,e.next=5,xb.get("".concat(Ib,"movie/upcoming?api_key=").concat(Sb,"&language=").concat(t.setLanguage(),"&page=1"));case 5:return o=e.sent,i.stop(),e.abrupt("return",o);case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),n,null,[[2,10]])})))()}},{key:"getMoviesTrailer",value:function(){var t=this;return e(u)(e(_).mark((function n(){var r;return e(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xb.get("".concat(Ib,"movie/").concat(t.movieId,"/videos?api_key=").concat(Sb,"&language=").concat(t.setLanguage()));case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),n,null,[[0,7]])})))()}},{key:"setLanguage",value:function(){return localStorage.getItem("lang")?this.language=localStorage.getItem("lang"):this.language="en-US"}},{key:"incrementPage",value:function(){this._page+=1}},{key:"resetPage",value:function(){this._page=1}},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}},{key:"id",get:function(){return this.movieId},set:function(e){this.movieId=e}},{key:"page",get:function(){return this._page},set:function(e){this._page=e}}]),t}(),Cb=new Eb,Tb=cp();function Ob(e){setTimeout((function(){document.querySelectorAll(e).forEach(Pb)}),150)}function Nb(){document.querySelectorAll("[data-key]").forEach(Pb)}function Pb(e){var t=e.getAttribute("data-key");"INPUT"===e.tagName&&(e.placeholder=cg.t(t)),e.innerText=cg.t(t)}cg.init({lng:localStorage.getItem("lang"),debug:!0,returnObjects:!0,resources:{"en-US":{translation:{home:"Home","my-library":"My library","log-in":"Log in","log-out":"Log out",watched:"Watched",queue:"Queue","soon-in-theaters":"soon in theaters",rights:"| All rights reserved |",developed:"Developed with",students:"by GoIT Students",vote:"Vote / Vote",about:"About",genre:"Genre",popularity:"Popularity","original-title":"Original title","form-name":"Log In",description:"To log in, enter your email address and password","modal-login":"Log In",authorization:"Authorization with social networks","sign-up":"Sign up","sign-up-btn":"Sign up","remove-watched":"remove from watched","add-watched":"add to watched",email:"E-mail",password:"Password",search:"Search a movie","remove-queue":"remove from queue","add-queue":"add to queue",our:"Our",team:"Team","dev-pos":"Developer"}},"uk-UA":{translation:{home:"","my-library":"","log-in":"","log-out":"",watched:"",queue:"","soon-in-theaters":"  ",rights:"|    |",developed:" ",students:" GoIT",vote:" / ",about:"",genre:"",popularity:"","original-title":" ","form-name":"",description:" ,      ","modal-login":"",authorization:"  ","sign-up":"","sign-up-btn":"","remove-watched":"  ","add-watched":"  ",email:"",password:"",search:" ","remove-queue":"  ","add-queue":"  ",our:"",team:"","dev-pos":""}},"ru-RU":{translation:{home:"","my-library":"","log-in":"","log-out":"",watched:"",queue:"","soon-in-theaters":"  ",rights:"|    |",developed:" ",students:" GoIT",vote:" / ",about:"",genre:"",popularity:"","original-title":" ","form-name":"",description:"       ","modal-login":"",authorization:"  ","sign-up":"","sign-up-btn":"","remove-watched":"  ","add-watched":"  ",email:"",password:"",search:" ","remove-queue":"  ","add-queue":"  ",our:"",team:"","dev-pos":""}}}},(function(e,t){var n;localStorage.getItem("lang")||cg.changeLanguage("en-US"),Nb(),(n=document.querySelector("[data-switcher]")).value=cg.language,n.onchange=function(e){var t,n=document.querySelector(".library-link");t=e.target.value,localStorage.setItem("lang",t),cg.changeLanguage(t),n.classList.contains("current")||(Tb.gallery.innerHTML="",Cb.resetPage(),Cb.getPopularMovies().then((function(e){dp(e.data.results)})))}})),cg.on("languageChanged",(function(){Nb()}));var Rb=e(xp).auth.created,Ab=e(xp).auth.failure,Lb=e(xp).auth.login,Mb=e(xp).auth.loginFail,Db=e(xp).auth.logwith.google,jb=e(xp).auth.logwith.facebook,Ub=e(xp).auth.logwith.github,Bb=e(xp).auth.logout,Fb=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn(),t=$t(e=ot(e),Lr);t.isInitialized()?t.getImmediate():Ei(e)}(tn({apiKey:"AIzaSyD7WECfyM6dTqk4SuatXK2A4h1ZIXobEp0",authDomain:"filmoteka-project-10.firebaseapp.com",projectId:"filmoteka-project-10",storageBucket:"filmoteka-project-10.appspot.com",messagingSenderId:"624096364756",appId:"1:624096364756:web:3c0bcaa1b226f1ccf8d341",measurementId:"G-PNMNJZXNGX"})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn(),t=$t(e,"auth");if(t.isInitialized())return t.getImmediate();var n=ma(e,{popupRedirectResolver:Ju,persistence:[Ws,bs,ws]}),r=xe("authTokenSyncURL");if(r){var i=sc(r);ds(n,i,(function(){return i(n.currentUser)})),hs(n,(function(e){return i(e)}))}var o=_e("auth");return o&&ya(n,"http://".concat(o)),n}()),qb=new Ka,Hb=new Va,zb=new Ga,Wb=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn(),n=arguments.length>1?arguments[1]:void 0,r=$t(t,"database").getImmediate({identifier:n});if(!r._instanceStarted){var i=we("database");i&&sp.apply(void 0,[r].concat(e(p)(i)))}return r}(),Vb=cp();Vb.logoutBtn.style.display="none";var Kb,Gb,Jb,Yb=up.create('\n  <div class="modal">\n    <div class="modal-auth-container">\n      <div class="login-signup-container">\n        <h3 class="auth-container-title" data-key="form-name">Log in</h3>\n        <button id="openSignUpModalBtn" class="sign-up-btn" data-key="sign-up">Sign up</button>\n      </div>\n      <button type="button" id="close-modal-btn">\n        <svg width="25" height="25">\n          <use href="/drafts/sprite.ba1893dc.svg#close-btn"></use>\n        </svg>\n      </button>\n        <p class="auth-container-text" data-key="description">To log in, enter your email address and password</p>\n        <input type="email" placeholder="E-mail" class="email-input" id="login-email" data-key="email">\n        <input type="password" placeholder="Password" class="passw-input" id="login-password" data-key="password">\n        <button class="login-btn" id="loginBtn" data-key="modal-login">Log in</button>\n        <p class="auth-google-text" data-key="authorization">Authorization with social networks</p>\n        <div class="auth-social">\n          <ul class="social-list">\n            <li class="social-items">\n              <a id="login-google" class="social-login-btn">\n                <svg width="25" height="25">\n                  <use href="/drafts/sprite.ba1893dc.svg#icon-google"></use>\n                </svg>\n              </a>\n            </li>\n            <li class="social-items">\n              <a id="login-fb" class="social-login-btn fb-btn">\n                <svg width="25" height="25">\n                  <use href="/drafts/sprite.ba1893dc.svg#facebook"></use>\n                </svg>\n              </a>\n            </li>\n            <li class="social-items">\n              <a id="login-github" class="social-login-btn git-btn">\n                <svg width="25" height="25">\n                  <use href="/drafts/sprite.ba1893dc.svg#icon-github"</use>\n                </svg>\n              </a>\n            </li>            \n          </ul>\n        </div>\n      </div>\n  </div>\n',{onShow:function(e){e.element().querySelector("#close-modal-btn").onclick=e.close}}),$b=up.create('\n  <div class="modal">\n  <div class="modal-auth-container">\n    <div class="login-signup-container">\n      <h3 class="auth-container-title" data-key="sign-up">Sign up</h3>\n      <button id="alreadyHaveAccount" class="login-up-btn" data-key="form-name">Log in</button>\n    </div>\n      <button type="button" id="close-modal-btn">\n        <svg width="25" height="25">\n          <use href="/drafts/sprite.ba1893dc.svg#close-btn"></use>\n        </svg>\n      </button>\n        <input type="email" placeholder="E-mail" class="email-input sign-up" id="sign-email" data-key="email">\n        <input type="password" placeholder="Password" class="passw-input" id="sign-password" data-key="password">\n    <button class="login-btn" id="signUp" data-key="sign-up-btn">Sign up</button>\n  </div>\n\n</div>\n',{onShow:function(e){e.element().querySelector("#close-modal-btn").onclick=e.close}});function Qb(){$b.close(),Yb.show(),document.querySelector("#openSignUpModalBtn").addEventListener("click",Xb),document.querySelector("#loginBtn").addEventListener("click",e_),document.querySelector("#login-google").addEventListener("click",t_),document.querySelector("#login-fb").addEventListener("click",n_),document.querySelector("#login-github").addEventListener("click",r_),Ob(".modal-auth-container [data-key]")}function Xb(){Yb.close(),$b.show(),document.querySelector("#alreadyHaveAccount").addEventListener("click",Qb),document.querySelector("#signUp").addEventListener("click",Zb),Ob(".modal-auth-container [data-key]")}function Zb(){var e=document.getElementById("sign-email").value,t=document.getElementById("sign-password").value;cs(Fb,e,t).then((function(e){s.Notify.success(kp(Rb),{position:"center-top"}),$b.close()})).catch((function(e){s.Notify.failure(kp(Ab),{position:"center-top"}),console.log(e)}))}function e_(){var e=document.getElementById("login-email").value,t=document.getElementById("login-password").value;fs(Fb,e,t).then((function(e){s.Notify.success(kp(Lb),{position:"center-top"}),Yb.close()})).catch((function(e){s.Notify.failure(kp(Mb),{position:"center-top"}),console.log(e)}))}function t_(){ou(Fb,qb).then((function(e){i_(e.user),Yb.close(),s.Notify.success(kp(Db),{position:"center-top"})})).catch((function(e){s.Notify.failure(kp(Ab),{position:"center-top"}),console.log(e)}))}function n_(){ou(Fb,Hb).then((function(e){i_(e.user),Yb.close(),s.Notify.success(kp(jb),{position:"center-top"})})).catch((function(e){s.Notify.failure(kp(Ab),{position:"center-top"}),console.log(e)}))}function r_(){ou(Fb,zb).then((function(e){i_(e.user),Yb.close(),s.Notify.success(kp(Ub),{position:"center-top"})})).catch((function(e){s.Notify.failure(kp(Ab),{position:"center-top"}),console.log(e)}))}function i_(e){e.photoURL?Vb.userDetails.innerHTML='\n  <img class="user-img" src="'.concat(e.photoURL,'" width=25"px">\n  <p class="user-name">').concat(e.displayName,"</p>"):Vb.userDetails.innerHTML='<p class="user-email">'.concat(e.email,"</p>")}Vb.openSignInModalBtn.addEventListener("click",Qb),Vb.logoutBtn.addEventListener("click",(function(){(e=Fb,ot(e).signOut()).then((function(){s.Notify.success(kp(Bb),{position:"center-top"}),Vb.userDetails.innerHTML="",Vb.openSignInModalBtn.style.display="block",Vb.logoutBtn.style.display="none",location.reload()})).catch((function(e){s.Notify.failure(kp(Ab),{position:"center-top"}),console.log(e)}));var e})),Kb=function(e){if(e){document.querySelector(".menu_item_slide").classList.remove("position"),i_(e),Vb.openSignInModalBtn.style.display="none",Vb.logoutBtn.style.display="block";var t=e.displayName,n=e.email,r=e.uid;e.photoURL,function(e,t,n,r){tp(Zd(Wb,"users/"+n),{Name:e,Email:t,Watched:Mp,Queue:Dp})}(t,n,r)}else document.querySelector(".menu_item_slide").classList.add("position")},ot(Fb).onAuthStateChanged(Kb,Gb,Jb);var o_=window,a_=o_.requestAnimationFrame||o_.webkitRequestAnimationFrame||o_.mozRequestAnimationFrame||o_.msRequestAnimationFrame||function(e){return setTimeout(e,16)},s_=window,u_=s_.cancelAnimationFrame||s_.mozCancelAnimationFrame||function(e){clearTimeout(e)};function c_(){for(var e,t,n,r=arguments[0]||{},i=1,o=arguments.length;i<o;i++)if(null!==(e=arguments[i]))for(t in e)r!==(n=e[t])&&void 0!==n&&(r[t]=n);return r}function l_(e){return["true","false"].indexOf(e)>=0?JSON.parse(e):e}function f_(e,t,n,r){if(r)try{e.setItem(t,n)}catch(e){}return n}function h_(){var e=window.tnsId;return window.tnsId=e?e+1:1,"tns"+window.tnsId}function d_(){var e=document,t=e.body;return t||((t=e.createElement("body")).fake=!0),t}var p_=document.documentElement;function v_(e){var t="";return e.fake&&(t=p_.style.overflow,e.style.background="",e.style.overflow=p_.style.overflow="hidden",p_.appendChild(e)),t}function g_(e,t){e.fake&&(e.remove(),p_.style.overflow=t,p_.offsetHeight)}function m_(){var e=document,t=d_(),n=v_(t),r=e.createElement("div"),i=!1;t.appendChild(r);try{for(var o,a="(10px * 10)",s=["calc"+a,"-moz-calc"+a,"-webkit-calc"+a],u=0;u<3;u++)if(o=s[u],r.style.width=o,100===r.offsetWidth){i=o.replace(a,"");break}}catch(e){}return t.fake?g_(t,n):r.remove(),i}function y_(){var e,t=document,n=d_(),r=v_(n),i=t.createElement("div"),o=t.createElement("div"),a="";i.className="tns-t-subp2",o.className="tns-t-ct";for(var s=0;s<70;s++)a+="<div></div>";return o.innerHTML=a,i.appendChild(o),n.appendChild(i),e=Math.abs(i.getBoundingClientRect().left-o.children[67].getBoundingClientRect().left)<2,n.fake?g_(n,r):i.remove(),e}function b_(){if(window.matchMedia||window.msMatchMedia)return!0;var e,t=document,n=d_(),r=v_(n),i=t.createElement("div"),o=t.createElement("style"),a="@media all and (min-width:1px){.tns-mq-test{position:absolute}}";return o.type="text/css",i.className="tns-mq-test",n.appendChild(o),n.appendChild(i),o.styleSheet?o.styleSheet.cssText=a:o.appendChild(t.createTextNode(a)),e=window.getComputedStyle?window.getComputedStyle(i).position:i.currentStyle.position,n.fake?g_(n,r):i.remove(),"absolute"===e}function __(e,t,n,r){"insertRule"in e?e.insertRule(t+"{"+n+"}",r):e.addRule(t,n,r)}function w_(e,t){"deleteRule"in e?e.deleteRule(t):e.removeRule(t)}function k_(e){return("insertRule"in e?e.cssRules:e.rules).length}function x_(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r)}var I_="classList"in document.createElement("_"),S_=I_?function(e,t){return e.classList.contains(t)}:function(e,t){return e.className.indexOf(t)>=0},E_=I_?function(e,t){S_(e,t)||e.classList.add(t)}:function(e,t){S_(e,t)||(e.className+=" "+t)},C_=I_?function(e,t){S_(e,t)&&e.classList.remove(t)}:function(e,t){S_(e,t)&&(e.className=e.className.replace(t,""))};function T_(e,t){return e.hasAttribute(t)}function O_(e,t){return e.getAttribute(t)}function N_(e){return void 0!==e.item}function P_(e,t){if(e=N_(e)||e instanceof Array?e:[e],"[object Object]"===Object.prototype.toString.call(t))for(var n=e.length;n--;)for(var r in t)e[n].setAttribute(r,t[r])}function R_(e,t){e=N_(e)||e instanceof Array?e:[e];for(var n=(t=t instanceof Array?t:[t]).length,r=e.length;r--;)for(var i=n;i--;)e[r].removeAttribute(t[i])}function A_(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n]);return t}function L_(e,t){"none"!==e.style.display&&(e.style.display="none")}function M_(e,t){"none"===e.style.display&&(e.style.display="")}function D_(e){return"none"!==window.getComputedStyle(e).display}function j_(e){if("string"==typeof e){var t=[e],n=e.charAt(0).toUpperCase()+e.substr(1);["Webkit","Moz","ms","O"].forEach((function(r){"ms"===r&&"transform"!==e||t.push(r+n)})),e=t}for(var r=document.createElement("fakeelement"),i=(e.length,0);i<e.length;i++){var o=e[i];if(void 0!==r.style[o])return o}return!1}function U_(e){if(!e)return!1;if(!window.getComputedStyle)return!1;var t,n=document,r=d_(),i=v_(r),o=n.createElement("p"),a=e.length>9?"-"+e.slice(0,-9).toLowerCase()+"-":"";return a+="transform",r.insertBefore(o,null),o.style[e]="translate3d(1px,1px,1px)",t=window.getComputedStyle(o).getPropertyValue(a),r.fake?g_(r,i):o.remove(),void 0!==t&&t.length>0&&"none"!==t}function B_(e,t){var n=!1;return/^Webkit/.test(e)?n="webkit"+t+"End":/^O/.test(e)?n="o"+t+"End":e&&(n=t.toLowerCase()+"end"),n}var F_=!1;try{var q_=Object.defineProperty({},"passive",{get:function(){F_=!0}});window.addEventListener("test",null,q_)}catch(lg){}var H_=!!F_&&{passive:!0};function z_(e,t,n){for(var r in t){var i=["touchstart","touchmove"].indexOf(r)>=0&&!n&&H_;e.addEventListener(r,t[r],i)}}function W_(e,t){for(var n in t){var r=["touchstart","touchmove"].indexOf(n)>=0&&H_;e.removeEventListener(n,t[n],r)}}function V_(){return{topics:{},on:function(e,t){this.topics[e]=this.topics[e]||[],this.topics[e].push(t)},off:function(e,t){if(this.topics[e])for(var n=0;n<this.topics[e].length;n++)if(this.topics[e][n]===t){this.topics[e].splice(n,1);break}},emit:function(e,t){t.type=e,this.topics[e]&&this.topics[e].forEach((function(n){n(t,e)}))}}}Object.keys||(Object.keys=function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var K_=function(e){e=c_({container:".slider",mode:"carousel",axis:"horizontal",items:1,gutter:0,edgePadding:0,fixedWidth:!1,autoWidth:!1,viewportMax:!1,slideBy:1,center:!1,controls:!0,controlsPosition:"top",controlsText:["prev","next"],controlsContainer:!1,prevButton:!1,nextButton:!1,nav:!0,navPosition:"top",navContainer:!1,navAsThumbnails:!1,arrowKeys:!1,speed:300,autoplay:!1,autoplayPosition:"top",autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],autoplayHoverPause:!1,autoplayButton:!1,autoplayButtonOutput:!0,autoplayResetOnVisibility:!0,animateIn:"tns-fadeIn",animateOut:"tns-fadeOut",animateNormal:"tns-normal",animateDelay:!1,loop:!0,rewind:!1,autoHeight:!1,responsive:!1,lazyload:!1,lazyloadSelector:".tns-lazy-img",touch:!0,mouseDrag:!1,swipeAngle:15,nested:!1,preventActionWhenRunning:!1,preventScrollOnTouch:!1,freezable:!0,onInit:!1,useLocalStorage:!0,nonce:!1},e||{});var t=document,n=window,r={ENTER:13,SPACE:32,LEFT:37,RIGHT:39},i={},o=e.useLocalStorage;if(o){var a=navigator.userAgent,s=new Date;try{(i=n.localStorage)?(i.setItem(s,s),o=i.getItem(s)==s,i.removeItem(s)):o=!1,o||(i={})}catch(e){o=!1}o&&(i.tnsApp&&i.tnsApp!==a&&["tC","tPL","tMQ","tTf","t3D","tTDu","tTDe","tADu","tADe","tTE","tAE"].forEach((function(e){i.removeItem(e)})),localStorage.tnsApp=a)}var u=i.tC?l_(i.tC):f_(i,"tC",m_(),o),c=i.tPL?l_(i.tPL):f_(i,"tPL",y_(),o),l=i.tMQ?l_(i.tMQ):f_(i,"tMQ",b_(),o),f=i.tTf?l_(i.tTf):f_(i,"tTf",j_("transform"),o),h=i.t3D?l_(i.t3D):f_(i,"t3D",U_(f),o),d=i.tTDu?l_(i.tTDu):f_(i,"tTDu",j_("transitionDuration"),o),p=i.tTDe?l_(i.tTDe):f_(i,"tTDe",j_("transitionDelay"),o),v=i.tADu?l_(i.tADu):f_(i,"tADu",j_("animationDuration"),o),g=i.tADe?l_(i.tADe):f_(i,"tADe",j_("animationDelay"),o),m=i.tTE?l_(i.tTE):f_(i,"tTE",B_(d,"Transition"),o),y=i.tAE?l_(i.tAE):f_(i,"tAE",B_(v,"Animation"),o),b=n.console&&"function"==typeof n.console.warn,_=["container","controlsContainer","prevButton","nextButton","navContainer","autoplayButton"],w={};if(_.forEach((function(n){if("string"==typeof e[n]){var r=e[n],i=t.querySelector(r);if(w[n]=r,!i||!i.nodeName)return void(b&&console.warn("Can't find",e[n]));e[n]=i}})),!(e.container.children.length<1)){var k=e.responsive,x=e.nested,I="carousel"===e.mode;if(k){0 in k&&(e=c_(e,k[0]),delete k[0]);var S={};for(var E in k){var C=k[E];C="number"==typeof C?{items:C}:C,S[E]=C}k=S,S=null}if(I||function e(t){for(var n in t)I||("slideBy"===n&&(t[n]="page"),"edgePadding"===n&&(t[n]=!1),"autoHeight"===n&&(t[n]=!1)),"responsive"===n&&e(t[n])}(e),!I){e.axis="horizontal",e.slideBy="page",e.edgePadding=!1;var T=e.animateIn,O=e.animateOut,N=e.animateDelay,P=e.animateNormal}var R,A,L="horizontal"===e.axis,M=t.createElement("div"),D=t.createElement("div"),j=e.container,U=j.parentNode,B=j.outerHTML,F=j.children,q=F.length,H=rn(),z=!1;k&&Sn(),I&&(j.className+=" tns-vpfix");var W,V,K,G,J,Y,$,Q,X=e.autoWidth,Z=cn("fixedWidth"),ee=cn("edgePadding"),te=cn("gutter"),ne=sn(),re=cn("center"),ie=X?1:Math.floor(cn("items")),oe=cn("slideBy"),ae=e.viewportMax||e.fixedWidthViewportWidth,se=cn("arrowKeys"),ue=cn("speed"),ce=e.rewind,le=!ce&&e.loop,fe=cn("autoHeight"),he=cn("controls"),de=cn("controlsText"),pe=cn("nav"),ve=cn("touch"),ge=cn("mouseDrag"),me=cn("autoplay"),ye=cn("autoplayTimeout"),be=cn("autoplayText"),_e=cn("autoplayHoverPause"),we=cn("autoplayResetOnVisibility"),ke=(Y=null,$=cn("nonce"),Q=document.createElement("style"),Y&&Q.setAttribute("media",Y),$&&Q.setAttribute("nonce",$),document.querySelector("head").appendChild(Q),Q.sheet?Q.sheet:Q.styleSheet),xe=e.lazyload,Ie=e.lazyloadSelector,Se=[],Ee=le?(G=function(){if(X||Z&&!ae)return q-1;var t=Z?"fixedWidth":"items",n=[];if((Z||e[t]<q)&&n.push(e[t]),k)for(var r in k){var i=k[r][t];i&&(Z||i<q)&&n.push(i)}return n.length||n.push(0),Math.ceil(Z?ae/Math.min.apply(null,n):Math.max.apply(null,n))}(),J=I?Math.ceil((5*G-q)/2):4*G-q,J=Math.max(G,J),un("edgePadding")?J+1:J):0,Ce=I?q+2*Ee:q+Ee,Te=!(!Z&&!X||le),Oe=Z?Qn():null,Ne=!I||!le,Pe=L?"left":"top",Re="",Ae="",Le=Z?function(){return re&&!le?q-1:Math.ceil(-Oe/(Z+te))}:X?function(){for(var e=0;e<Ce;e++)if(W[e]>=-Oe)return e}:function(){return re&&I&&!le?q-1:le||I?Math.max(0,Ce-Math.ceil(ie)):Ce-1},Me=en(cn("startIndex")),De=Me,je=(Zt(),0),Ue=X?null:Le(),Be=e.preventActionWhenRunning,Fe=e.swipeAngle,qe=!Fe||"?",He=!1,ze=e.onInit,We=new V_,Ve=" tns-slider tns-"+e.mode,Ke=j.id||h_(),Ge=cn("disable"),Je=!1,Ye=e.freezable,$e=!(!Ye||X)&&In(),Qe=!1,Xe={click:ar,keydown:function(e){e=pr(e);var t=[r.LEFT,r.RIGHT].indexOf(e.keyCode);t>=0&&(0===t?_t.disabled||ar(e,-1):wt.disabled||ar(e,1))}},Ze={click:function(e){if(He){if(Be)return;ir()}var t=vr(e=pr(e));for(;t!==St&&!T_(t,"data-nav");)t=t.parentNode;if(T_(t,"data-nav")){var n=Ot=Number(O_(t,"data-nav")),r=Z||X?n*q/Ct:n*ie;or(st?n:Math.min(Math.ceil(r),q-1),e),Nt===n&&(Dt&&fr(),Ot=-1)}},keydown:function(e){e=pr(e);var n=t.activeElement;if(!T_(n,"data-nav"))return;var i=[r.LEFT,r.RIGHT,r.ENTER,r.SPACE].indexOf(e.keyCode),o=Number(O_(n,"data-nav"));i>=0&&(0===i?o>0&&dr(It[o-1]):1===i?o<Ct-1&&dr(It[o+1]):(Ot=o,or(o,e)))}},et={mouseover:function(){Dt&&(ur(),jt=!0)},mouseout:function(){jt&&(sr(),jt=!1)}},tt={visibilitychange:function(){t.hidden?Dt&&(ur(),Bt=!0):Bt&&(sr(),Bt=!1)}},nt={keydown:function(e){e=pr(e);var t=[r.LEFT,r.RIGHT].indexOf(e.keyCode);t>=0&&ar(e,0===t?-1:1)}},rt={touchstart:br,touchmove:_r,touchend:kr,touchcancel:kr},it={mousedown:br,mousemove:_r,mouseup:kr,mouseleave:kr},ot=un("controls"),at=un("nav"),st=!!X||e.navAsThumbnails,ut=un("autoplay"),ct=un("touch"),lt=un("mouseDrag"),ft="tns-slide-active",ht="tns-slide-cloned",dt="tns-complete",pt={load:function(e){Ln(vr(e))},error:function(e){t=vr(e),E_(t,"failed"),Mn(t);var t}},vt="force"===e.preventScrollOnTouch;if(ot)var gt,mt,yt=e.controlsContainer,bt=e.controlsContainer?e.controlsContainer.outerHTML:"",_t=e.prevButton,wt=e.nextButton,kt=e.prevButton?e.prevButton.outerHTML:"",xt=e.nextButton?e.nextButton.outerHTML:"";if(at)var It,St=e.navContainer,Et=e.navContainer?e.navContainer.outerHTML:"",Ct=X?q:Ir(),Tt=0,Ot=-1,Nt=nn(),Pt=Nt,Rt="tns-nav-active",At="Carousel Page ",Lt=" (Current Slide)";if(ut)var Mt,Dt,jt,Ut,Bt,Ft="forward"===e.autoplayDirection?1:-1,qt=e.autoplayButton,Ht=e.autoplayButton?e.autoplayButton.outerHTML:"",zt=["<span class='tns-visually-hidden'>"," animation</span>"];if(ct||lt)var Wt,Vt,Kt={},Gt={},Jt=!1,Yt=L?function(e,t){return e.x-t.x}:function(e,t){return e.y-t.y};X||Xt(Ge||$e),f&&(Pe=f,Re="translate",h?(Re+=L?"3d(":"3d(0px, ",Ae=L?", 0px, 0px)":", 0px)"):(Re+=L?"X(":"Y(",Ae=")")),I&&(j.className=j.className.replace("tns-vpfix","")),function(){un("gutter");M.className="tns-outer",D.className="tns-inner",M.id=Ke+"-ow",D.id=Ke+"-iw",""===j.id&&(j.id=Ke);Ve+=c||X?" tns-subpixel":" tns-no-subpixel",Ve+=u?" tns-calc":" tns-no-calc",X&&(Ve+=" tns-autowidth");Ve+=" tns-"+e.axis,j.className+=Ve,I?((R=t.createElement("div")).id=Ke+"-mw",R.className="tns-ovh",M.appendChild(R),R.appendChild(D)):M.appendChild(D);if(fe){(R||D).className+=" tns-ah"}if(U.insertBefore(M,j),D.appendChild(j),x_(F,(function(e,t){E_(e,"tns-item"),e.id||(e.id=Ke+"-item"+t),!I&&P&&E_(e,P),P_(e,{"aria-hidden":"true",tabindex:"-1"})})),Ee){for(var n=t.createDocumentFragment(),r=t.createDocumentFragment(),i=Ee;i--;){var o=i%q,a=F[o].cloneNode(!0);if(E_(a,ht),R_(a,"id"),r.insertBefore(a,r.firstChild),I){var s=F[q-1-o].cloneNode(!0);E_(s,ht),R_(s,"id"),n.appendChild(s)}}j.insertBefore(n,j.firstChild),j.appendChild(r),F=j.children}}(),function(){if(!I)for(var t=Me,r=Me+Math.min(q,ie);t<r;t++){var i=F[t];i.style.left=100*(t-Me)/ie+"%",E_(i,T),C_(i,P)}L&&(c||X?(__(ke,"#"+Ke+" > .tns-item","font-size:"+n.getComputedStyle(F[0]).fontSize+";",k_(ke)),__(ke,"#"+Ke,"font-size:0;",k_(ke))):I&&x_(F,(function(e,t){e.style.marginLeft=function(e){return u?u+"("+100*e+"% / "+Ce+")":100*e/Ce+"%"}(t)})));if(l){if(d){var o=R&&e.autoHeight?vn(e.speed):"";__(ke,"#"+Ke+"-mw",o,k_(ke))}o=ln(e.edgePadding,e.gutter,e.fixedWidth,e.speed,e.autoHeight),__(ke,"#"+Ke+"-iw",o,k_(ke)),I&&(o=L&&!X?"width:"+fn(e.fixedWidth,e.gutter,e.items)+";":"",d&&(o+=vn(ue)),__(ke,"#"+Ke,o,k_(ke))),o=L&&!X?hn(e.fixedWidth,e.gutter,e.items):"",e.gutter&&(o+=dn(e.gutter)),I||(d&&(o+=vn(ue)),v&&(o+=gn(ue))),o&&__(ke,"#"+Ke+" > .tns-item",o,k_(ke))}else{I&&fe&&(R.style[d]=ue/1e3+"s"),D.style.cssText=ln(ee,te,Z,fe),I&&L&&!X&&(j.style.width=fn(Z,te,ie));o=L&&!X?hn(Z,te,ie):"";te&&(o+=dn(te)),o&&__(ke,"#"+Ke+" > .tns-item",o,k_(ke))}if(k&&l)for(var a in k){a=parseInt(a);var s=k[a],f=(o="",""),h="",p="",g="",m=X?null:cn("items",a),y=cn("fixedWidth",a),b=cn("speed",a),_=cn("edgePadding",a),w=cn("autoHeight",a),x=cn("gutter",a);d&&R&&cn("autoHeight",a)&&"speed"in s&&(f="#"+Ke+"-mw{"+vn(b)+"}"),("edgePadding"in s||"gutter"in s)&&(h="#"+Ke+"-iw{"+ln(_,x,y,b,w)+"}"),I&&L&&!X&&("fixedWidth"in s||"items"in s||Z&&"gutter"in s)&&(p="width:"+fn(y,x,m)+";"),d&&"speed"in s&&(p+=vn(b)),p&&(p="#"+Ke+"{"+p+"}"),("fixedWidth"in s||Z&&"gutter"in s||!I&&"items"in s)&&(g+=hn(y,x,m)),"gutter"in s&&(g+=dn(x)),!I&&"speed"in s&&(d&&(g+=vn(b)),v&&(g+=gn(b))),g&&(g="#"+Ke+" > .tns-item{"+g+"}"),(o=f+h+p+g)&&ke.insertRule("@media (min-width: "+a/16+"em) {"+o+"}",ke.cssRules.length)}}(),mn();var $t=le?I?function(){var e=je,t=Ue;e+=oe,t-=oe,ee?(e+=1,t-=1):Z&&(ne+te)%(Z+te)&&(t-=1),Ee&&(Me>t?Me-=q:Me<e&&(Me+=q))}:function(){if(Me>Ue)for(;Me>=je+q;)Me-=q;else if(Me<je)for(;Me<=Ue-q;)Me+=q}:function(){Me=Math.max(je,Math.min(Ue,Me))},Qt=I?function(){Yn(j,""),d||!ue?(er(),ue&&D_(j)||ir()):function(e,t,n,r,i,o,a){var s=Math.min(o,10),u=i.indexOf("%")>=0?"%":"px",c=(i=i.replace(u,""),Number(e.style[t].replace(n,"").replace(r,"").replace(u,""))),l=(i-c)/o*s;setTimeout((function i(){o-=s,c+=l,e.style[t]=n+c+u+r,o>0?setTimeout(i,s):a()}),s)}(j,Pe,Re,Ae,Xn(),ue,ir),L||xr()}:function(){Se=[];var e={};e[m]=e[y]=ir,W_(F[De],e),z_(F[Me],e),tr(De,T,O,!0),tr(Me,P,T),m&&y&&ue&&D_(j)||ir()};return{version:"2.9.4",getInfo:Er,events:We,goTo:or,play:function(){me&&!Dt&&(lr(),Ut=!1)},pause:function(){Dt&&(fr(),Ut=!0)},isOn:z,updateSliderHeight:qn,refresh:mn,destroy:function(){if(ke.disabled=!0,ke.ownerNode&&ke.ownerNode.remove(),W_(n,{resize:kn}),se&&W_(t,nt),yt&&W_(yt,Xe),St&&W_(St,Ze),W_(j,et),W_(j,tt),qt&&W_(qt,{click:hr}),me&&clearInterval(Mt),I&&m){var r={};r[m]=ir,W_(j,r)}ve&&W_(j,rt),ge&&W_(j,it);var i=[B,bt,kt,xt,Et,Ht];for(var o in _.forEach((function(t,n){var r="container"===t?M:e[t];if("object"==typeof r&&r){var o=!!r.previousElementSibling&&r.previousElementSibling,a=r.parentNode;r.outerHTML=i[n],e[t]=o?o.nextElementSibling:a.firstElementChild}})),_=T=O=N=P=L=M=D=j=U=B=F=q=A=H=X=Z=ee=te=ne=ie=oe=ae=se=ue=ce=le=fe=ke=xe=W=Se=Ee=Ce=Te=Oe=Ne=Pe=Re=Ae=Le=Me=De=je=Ue=Fe=qe=He=ze=We=Ve=Ke=Ge=Je=Ye=$e=Qe=Xe=Ze=et=tt=nt=rt=it=ot=at=st=ut=ct=lt=ft=dt=pt=V=he=de=yt=bt=_t=wt=gt=mt=pe=St=Et=It=Ct=Tt=Ot=Nt=Pt=Rt=At=Lt=me=ye=Ft=be=_e=qt=Ht=we=zt=Mt=Dt=jt=Ut=Bt=Kt=Gt=Wt=Jt=Vt=Yt=ve=ge=null,this)"rebuild"!==o&&(this[o]=null);z=!1},rebuild:function(){return K_(c_(e,w))}}}function Xt(e){e&&(he=pe=ve=ge=se=me=_e=we=!1)}function Zt(){for(var e=I?Me-Ee:Me;e<0;)e+=q;return e%q+1}function en(e){return e=e?Math.max(0,Math.min(le?q-1:q-ie,e)):0,I?e+Ee:e}function tn(e){for(null==e&&(e=Me),I&&(e-=Ee);e<0;)e+=q;return Math.floor(e%q)}function nn(){var e,t=tn();return e=st?t:Z||X?Math.ceil((t+1)*Ct/q-1):Math.floor(t/ie),!le&&I&&Me===Ue&&(e=Ct-1),e}function rn(){return n.innerWidth||t.documentElement.clientWidth||t.body.clientWidth}function on(e){return"top"===e?"afterbegin":"beforeend"}function an(e){if(null!=e){var n,r,i=t.createElement("div");return e.appendChild(i),r=(n=i.getBoundingClientRect()).right-n.left,i.remove(),r||an(e.parentNode)}}function sn(){var e=ee?2*ee-te:0;return an(U)-e}function un(t){if(e[t])return!0;if(k)for(var n in k)if(k[n][t])return!0;return!1}function cn(t,n){if(null==n&&(n=H),"items"===t&&Z)return Math.floor((ne+te)/(Z+te))||1;var r=e[t];if(k)for(var i in k)n>=parseInt(i)&&t in k[i]&&(r=k[i][t]);return"slideBy"===t&&"page"===r&&(r=cn("items")),I||"slideBy"!==t&&"items"!==t||(r=Math.floor(r)),r}function ln(e,t,n,r,i){var o="";if(void 0!==e){var a=e;t&&(a-=t),o=L?"margin: 0 "+a+"px 0 "+e+"px;":"margin: "+e+"px 0 "+a+"px 0;"}else if(t&&!n){var s="-"+t+"px";o="margin: 0 "+(L?s+" 0 0":"0 "+s+" 0")+";"}return!I&&i&&d&&r&&(o+=vn(r)),o}function fn(e,t,n){return e?(e+t)*Ce+"px":u?u+"("+100*Ce+"% / "+n+")":100*Ce/n+"%"}function hn(e,t,n){var r;if(e)r=e+t+"px";else{I||(n=Math.floor(n));var i=I?Ce:n;r=u?u+"(100% / "+i+")":100/i+"%"}return r="width:"+r,"inner"!==x?r+";":r+" !important;"}function dn(e){var t="";!1!==e&&(t=(L?"padding-":"margin-")+(L?"right":"bottom")+": "+e+"px;");return t}function pn(e,t){var n=e.substring(0,e.length-t).toLowerCase();return n&&(n="-"+n+"-"),n}function vn(e){return pn(d,18)+"transition-duration:"+e/1e3+"s;"}function gn(e){return pn(v,17)+"animation-duration:"+e/1e3+"s;"}function mn(){if(un("autoHeight")||X||!L){var e=j.querySelectorAll("img");x_(e,(function(e){var t=e.src;xe||(t&&t.indexOf("data:image")<0?(e.src="",z_(e,pt),E_(e,"loading"),e.src=t):Ln(e))})),a_((function(){Un(A_(e),(function(){V=!0}))})),un("autoHeight")&&(e=Dn(Me,Math.min(Me+ie-1,Ce-1))),xe?yn():a_((function(){Un(A_(e),yn)}))}else I&&Zn(),_n(),wn()}function yn(){if(X&&q>1){var e=le?Me:q-1;!function t(){var n=F[e].getBoundingClientRect().left,r=F[e-1].getBoundingClientRect().right;Math.abs(n-r)<=1?bn():setTimeout((function(){t()}),16)}()}else bn()}function bn(){L&&!X||(Hn(),X?(Oe=Qn(),Ye&&($e=In()),Ue=Le(),Xt(Ge||$e)):xr()),I&&Zn(),_n(),wn()}function _n(){if(zn(),M.insertAdjacentHTML("afterbegin",'<div class="tns-liveregion tns-visually-hidden" aria-live="polite" aria-atomic="true">slide <span class="current">'+Pn()+"</span>  of "+q+"</div>"),K=M.querySelector(".tns-liveregion .current"),ut){var t=me?"stop":"start";qt?P_(qt,{"data-action":t}):e.autoplayButtonOutput&&(M.insertAdjacentHTML(on(e.autoplayPosition),'<button type="button" data-action="'+t+'">'+zt[0]+t+zt[1]+be[0]+"</button>"),qt=M.querySelector("[data-action]")),qt&&z_(qt,{click:hr}),me&&(lr(),_e&&z_(j,et),we&&z_(j,tt))}if(at){if(St)P_(St,{"aria-label":"Carousel Pagination"}),x_(It=St.children,(function(e,t){P_(e,{"data-nav":t,tabindex:"-1","aria-label":At+(t+1),"aria-controls":Ke})}));else{for(var n="",r=st?"":'style="display:none"',i=0;i<q;i++)n+='<button type="button" data-nav="'+i+'" tabindex="-1" aria-controls="'+Ke+'" '+r+' aria-label="'+At+(i+1)+'"></button>';n='<div class="tns-nav" aria-label="Carousel Pagination">'+n+"</div>",M.insertAdjacentHTML(on(e.navPosition),n),St=M.querySelector(".tns-nav"),It=St.children}if(Sr(),d){var o=d.substring(0,d.length-18).toLowerCase(),a="transition: all "+ue/1e3+"s";o&&(a="-"+o+"-"+a),__(ke,"[aria-controls^="+Ke+"-item]",a,k_(ke))}P_(It[Nt],{"aria-label":At+(Nt+1)+Lt}),R_(It[Nt],"tabindex"),E_(It[Nt],Rt),z_(St,Ze)}ot&&(yt||_t&&wt||(M.insertAdjacentHTML(on(e.controlsPosition),'<div class="tns-controls" aria-label="Carousel Navigation" tabindex="0"><button type="button" data-controls="prev" tabindex="-1" aria-controls="'+Ke+'">'+de[0]+'</button><button type="button" data-controls="next" tabindex="-1" aria-controls="'+Ke+'">'+de[1]+"</button></div>"),yt=M.querySelector(".tns-controls")),_t&&wt||(_t=yt.children[0],wt=yt.children[1]),e.controlsContainer&&P_(yt,{"aria-label":"Carousel Navigation",tabindex:"0"}),(e.controlsContainer||e.prevButton&&e.nextButton)&&P_([_t,wt],{"aria-controls":Ke,tabindex:"-1"}),(e.controlsContainer||e.prevButton&&e.nextButton)&&(P_(_t,{"data-controls":"prev"}),P_(wt,{"data-controls":"next"})),gt=Vn(_t),mt=Vn(wt),Jn(),yt?z_(yt,Xe):(z_(_t,Xe),z_(wt,Xe))),En()}function wn(){if(I&&m){var r={};r[m]=ir,z_(j,r)}ve&&z_(j,rt,e.preventScrollOnTouch),ge&&z_(j,it),se&&z_(t,nt),"inner"===x?We.on("outerResized",(function(){xn(),We.emit("innerLoaded",Er())})):(k||Z||X||fe||!L)&&z_(n,{resize:kn}),fe&&("outer"===x?We.on("innerLoaded",jn):Ge||jn()),An(),Ge?On():$e&&Tn(),We.on("indexChanged",Bn),"inner"===x&&We.emit("innerLoaded",Er()),"function"==typeof ze&&ze(Er()),z=!0}function kn(e){a_((function(){xn(pr(e))}))}function xn(n){if(z){"outer"===x&&We.emit("outerResized",Er(n)),H=rn();var r,i=A,o=!1;k&&(Sn(),(r=i!==A)&&We.emit("newBreakpointStart",Er(n)));var a,s,u=ie,c=Ge,f=$e,h=se,d=he,p=pe,v=ve,g=ge,m=me,y=_e,b=we,_=Me;if(r){var w=Z,S=fe,E=de,C=re,N=be;if(!l)var R=te,M=ee}if(se=cn("arrowKeys"),he=cn("controls"),pe=cn("nav"),ve=cn("touch"),re=cn("center"),ge=cn("mouseDrag"),me=cn("autoplay"),_e=cn("autoplayHoverPause"),we=cn("autoplayResetOnVisibility"),r&&(Ge=cn("disable"),Z=cn("fixedWidth"),ue=cn("speed"),fe=cn("autoHeight"),de=cn("controlsText"),be=cn("autoplayText"),ye=cn("autoplayTimeout"),l||(ee=cn("edgePadding"),te=cn("gutter"))),Xt(Ge),ne=sn(),L&&!X||Ge||(Hn(),L||(xr(),o=!0)),(Z||X)&&(Oe=Qn(),Ue=Le()),(r||Z)&&(ie=cn("items"),oe=cn("slideBy"),(s=ie!==u)&&(Z||X||(Ue=Le()),$t())),r&&Ge!==c&&(Ge?On():function(){if(!Je)return;if(ke.disabled=!1,j.className+=Ve,Zn(),le)for(var e=Ee;e--;)I&&M_(F[e]),M_(F[Ce-e-1]);if(!I)for(var t=Me,n=Me+q;t<n;t++){var r=F[t],i=t<Me+ie?T:P;r.style.left=100*(t-Me)/ie+"%",E_(r,i)}Cn(),Je=!1}()),Ye&&(r||Z||X)&&($e=In())!==f&&($e?(er(Xn(en(0))),Tn()):(!function(){if(!Qe)return;ee&&l&&(D.style.margin="");if(Ee)for(var e="tns-transparent",t=Ee;t--;)I&&C_(F[t],e),C_(F[Ce-t-1],e);Cn(),Qe=!1}(),o=!0)),Xt(Ge||$e),me||(_e=we=!1),se!==h&&(se?z_(t,nt):W_(t,nt)),he!==d&&(he?yt?M_(yt):(_t&&M_(_t),wt&&M_(wt)):yt?L_(yt):(_t&&L_(_t),wt&&L_(wt))),pe!==p&&(pe?(M_(St),Sr()):L_(St)),ve!==v&&(ve?z_(j,rt,e.preventScrollOnTouch):W_(j,rt)),ge!==g&&(ge?z_(j,it):W_(j,it)),me!==m&&(me?(qt&&M_(qt),Dt||Ut||lr()):(qt&&L_(qt),Dt&&fr())),_e!==y&&(_e?z_(j,et):W_(j,et)),we!==b&&(we?z_(t,tt):W_(t,tt)),r){if(Z===w&&re===C||(o=!0),fe!==S&&(fe||(D.style.height="")),he&&de!==E&&(_t.innerHTML=de[0],wt.innerHTML=de[1]),qt&&be!==N){var U=me?1:0,B=qt.innerHTML,W=B.length-N[U].length;B.substring(W)===N[U]&&(qt.innerHTML=B.substring(0,W)+be[U])}}else re&&(Z||X)&&(o=!0);if((s||Z&&!X)&&(Ct=Ir(),Sr()),(a=Me!==_)?(We.emit("indexChanged",Er()),o=!0):s?a||Bn():(Z||X)&&(An(),zn(),Nn()),s&&!I&&function(){for(var e=Me+Math.min(q,ie),t=Ce;t--;){var n=F[t];t>=Me&&t<e?(E_(n,"tns-moving"),n.style.left=100*(t-Me)/ie+"%",E_(n,T),C_(n,P)):n.style.left&&(n.style.left="",E_(n,P),C_(n,T)),C_(n,O)}setTimeout((function(){x_(F,(function(e){C_(e,"tns-moving")}))}),300)}(),!Ge&&!$e){if(r&&!l&&(ee===M&&te===R||(D.style.cssText=ln(ee,te,Z,ue,fe)),L)){I&&(j.style.width=fn(Z,te,ie));var V=hn(Z,te,ie)+dn(te);w_(ke,k_(ke)-1),__(ke,"#"+Ke+" > .tns-item",V,k_(ke))}fe&&jn(),o&&(Zn(),De=Me)}r&&We.emit("newBreakpointEnd",Er(n))}}function In(){if(!Z&&!X)return q<=(re?ie-(ie-1)/2:ie);var e=Z?(Z+te)*q:W[q],t=ee?ne+2*ee:ne+te;return re&&(t-=Z?(ne-Z)/2:(ne-(W[Me+1]-W[Me]-te))/2),e<=t}function Sn(){for(var e in A=0,k)e=parseInt(e),H>=e&&(A=e)}function En(){!me&&qt&&L_(qt),!pe&&St&&L_(St),he||(yt?L_(yt):(_t&&L_(_t),wt&&L_(wt)))}function Cn(){me&&qt&&M_(qt),pe&&St&&M_(St),he&&(yt?M_(yt):(_t&&M_(_t),wt&&M_(wt)))}function Tn(){if(!Qe){if(ee&&(D.style.margin="0px"),Ee)for(var e="tns-transparent",t=Ee;t--;)I&&E_(F[t],e),E_(F[Ce-t-1],e);En(),Qe=!0}}function On(){if(!Je){if(ke.disabled=!0,j.className=j.className.replace(Ve.substring(1),""),R_(j,["style"]),le)for(var e=Ee;e--;)I&&L_(F[e]),L_(F[Ce-e-1]);if(L&&I||R_(D,["style"]),!I)for(var t=Me,n=Me+q;t<n;t++){var r=F[t];R_(r,["style"]),C_(r,T),C_(r,P)}En(),Je=!0}}function Nn(){var e=Pn();K.innerHTML!==e&&(K.innerHTML=e)}function Pn(){var e=Rn(),t=e[0]+1,n=e[1]+1;return t===n?t+"":t+" to "+n}function Rn(e){null==e&&(e=Xn());var t,n,r,i=Me;if(re||ee?(X||Z)&&(n=-(parseFloat(e)+ee),r=n+ne+2*ee):X&&(n=W[Me],r=n+ne),X)W.forEach((function(e,o){o<Ce&&((re||ee)&&e<=n+.5&&(i=o),r-e>=.5&&(t=o))}));else{if(Z){var o=Z+te;re||ee?(i=Math.floor(n/o),t=Math.ceil(r/o-1)):t=i+Math.ceil(ne/o)-1}else if(re||ee){var a=ie-1;if(re?(i-=a/2,t=Me+a/2):t=Me+a,ee){var s=ee*ie/ne;i-=s,t+=s}i=Math.floor(i),t=Math.ceil(t)}else t=i+ie-1;i=Math.max(i,0),t=Math.min(t,Ce-1)}return[i,t]}function An(){if(xe&&!Ge){var e=Rn();e.push(Ie),Dn.apply(null,e).forEach((function(e){if(!S_(e,dt)){var t={};t[m]=function(e){e.stopPropagation()},z_(e,t),z_(e,pt),e.src=O_(e,"data-src");var n=O_(e,"data-srcset");n&&(e.srcset=n),E_(e,"loading")}}))}}function Ln(e){E_(e,"loaded"),Mn(e)}function Mn(e){E_(e,dt),C_(e,"loading"),W_(e,pt)}function Dn(e,t,n){var r=[];for(n||(n="img");e<=t;)x_(F[e].querySelectorAll(n),(function(e){r.push(e)})),e++;return r}function jn(){var e=Dn.apply(null,Rn());a_((function(){Un(e,qn)}))}function Un(e,t){return V?t():(e.forEach((function(t,n){!xe&&t.complete&&Mn(t),S_(t,dt)&&e.splice(n,1)})),e.length?void a_((function(){Un(e,t)})):t())}function Bn(){An(),zn(),Nn(),Jn(),function(){if(pe&&(Nt=Ot>=0?Ot:nn(),Ot=-1,Nt!==Pt)){var e=It[Pt],t=It[Nt];P_(e,{tabindex:"-1","aria-label":At+(Pt+1)}),C_(e,Rt),P_(t,{"aria-label":At+(Nt+1)+Lt}),R_(t,"tabindex"),E_(t,Rt),Pt=Nt}}()}function Fn(e,t){for(var n=[],r=e,i=Math.min(e+t,Ce);r<i;r++)n.push(F[r].offsetHeight);return Math.max.apply(null,n)}function qn(){var e=fe?Fn(Me,ie):Fn(Ee,q),t=R||D;t.style.height!==e&&(t.style.height=e+"px")}function Hn(){W=[0];var e=L?"left":"top",t=L?"right":"bottom",n=F[0].getBoundingClientRect()[e];x_(F,(function(r,i){i&&W.push(r.getBoundingClientRect()[e]-n),i===Ce-1&&W.push(r.getBoundingClientRect()[t]-n)}))}function zn(){var e=Rn(),t=e[0],n=e[1];x_(F,(function(e,r){r>=t&&r<=n?T_(e,"aria-hidden")&&(R_(e,["aria-hidden","tabindex"]),E_(e,ft)):T_(e,"aria-hidden")||(P_(e,{"aria-hidden":"true",tabindex:"-1"}),C_(e,ft))}))}function Wn(e){return e.nodeName.toLowerCase()}function Vn(e){return"button"===Wn(e)}function Kn(e){return"true"===e.getAttribute("aria-disabled")}function Gn(e,t,n){e?t.disabled=n:t.setAttribute("aria-disabled",n.toString())}function Jn(){if(he&&!ce&&!le){var e=gt?_t.disabled:Kn(_t),t=mt?wt.disabled:Kn(wt),n=Me<=je,r=!ce&&Me>=Ue;n&&!e&&Gn(gt,_t,!0),!n&&e&&Gn(gt,_t,!1),r&&!t&&Gn(mt,wt,!0),!r&&t&&Gn(mt,wt,!1)}}function Yn(e,t){d&&(e.style[d]=t)}function $n(e){return null==e&&(e=Me),X?(ne-(ee?te:0)-(W[e+1]-W[e]-te))/2:Z?(ne-Z)/2:(ie-1)/2}function Qn(){var e=ne+(ee?te:0)-(Z?(Z+te)*Ce:W[Ce]);return re&&!le&&(e=Z?-(Z+te)*(Ce-1)-$n():$n(Ce-1)-W[Ce-1]),e>0&&(e=0),e}function Xn(e){var t;if(null==e&&(e=Me),L&&!X)if(Z)t=-(Z+te)*e,re&&(t+=$n());else{var n=f?Ce:ie;re&&(e-=$n()),t=100*-e/n}else t=-W[e],re&&X&&(t+=$n());return Te&&(t=Math.max(t,Oe)),t+=!L||X||Z?"px":"%"}function Zn(e){Yn(j,"0s"),er(e)}function er(e){null==e&&(e=Xn()),j.style[Pe]=Re+e+Ae}function tr(e,t,n,r){var i=e+ie;le||(i=Math.min(i,Ce));for(var o=e;o<i;o++){var a=F[o];r||(a.style.left=100*(o-Me)/ie+"%"),N&&p&&(a.style[p]=a.style[g]=N*(o-e)/1e3+"s"),C_(a,t),E_(a,n),r&&Se.push(a)}}function nr(e,t){Ne&&$t(),(Me!==De||t)&&(We.emit("indexChanged",Er()),We.emit("transitionStart",Er()),fe&&jn(),Dt&&e&&["click","keydown"].indexOf(e.type)>=0&&fr(),He=!0,Qt())}function rr(e){return e.toLowerCase().replace(/-/g,"")}function ir(e){if(I||He){if(We.emit("transitionEnd",Er(e)),!I&&Se.length>0)for(var t=0;t<Se.length;t++){var n=Se[t];n.style.left="",g&&p&&(n.style[g]="",n.style[p]=""),C_(n,O),E_(n,P)}if(!e||!I&&e.target.parentNode===j||e.target===j&&rr(e.propertyName)===rr(Pe)){if(!Ne){var r=Me;$t(),Me!==r&&(We.emit("indexChanged",Er()),Zn())}"inner"===x&&We.emit("innerLoaded",Er()),He=!1,De=Me}}}function or(e,t){if(!$e)if("prev"===e)ar(t,-1);else if("next"===e)ar(t,1);else{if(He){if(Be)return;ir()}var n=tn(),r=0;if("first"===e?r=-n:"last"===e?r=I?q-ie-n:q-1-n:("number"!=typeof e&&(e=parseInt(e)),isNaN(e)||(t||(e=Math.max(0,Math.min(q-1,e))),r=e-n)),!I&&r&&Math.abs(r)<ie){var i=r>0?1:-1;r+=Me+r-q>=je?q*i:2*q*i*-1}Me+=r,I&&le&&(Me<je&&(Me+=q),Me>Ue&&(Me-=q)),tn(Me)!==tn(De)&&nr(t)}}function ar(e,t){if(He){if(Be)return;ir()}var n;if(!t){for(var r=vr(e=pr(e));r!==yt&&[_t,wt].indexOf(r)<0;)r=r.parentNode;var i=[_t,wt].indexOf(r);i>=0&&(n=!0,t=0===i?-1:1)}if(ce){if(Me===je&&-1===t)return void or("last",e);if(Me===Ue&&1===t)return void or("first",e)}t&&(Me+=oe*t,X&&(Me=Math.floor(Me)),nr(n||e&&"keydown"===e.type?e:null))}function sr(){Mt=setInterval((function(){ar(null,Ft)}),ye),Dt=!0}function ur(){clearInterval(Mt),Dt=!1}function cr(e,t){P_(qt,{"data-action":e}),qt.innerHTML=zt[0]+e+zt[1]+t}function lr(){sr(),qt&&cr("stop",be[1])}function fr(){ur(),qt&&cr("start",be[0])}function hr(){Dt?(fr(),Ut=!0):(lr(),Ut=!1)}function dr(e){e.focus()}function pr(e){return gr(e=e||n.event)?e.changedTouches[0]:e}function vr(e){return e.target||n.event.srcElement}function gr(e){return e.type.indexOf("touch")>=0}function mr(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function yr(){return o=Gt.y-Kt.y,a=Gt.x-Kt.x,t=Math.atan2(o,a)*(180/Math.PI),n=Fe,r=!1,(i=Math.abs(90-Math.abs(t)))>=90-n?r="horizontal":i<=n&&(r="vertical"),r===e.axis;var t,n,r,i,o,a}function br(e){if(He){if(Be)return;ir()}me&&Dt&&ur(),Jt=!0,Vt&&(u_(Vt),Vt=null);var t=pr(e);We.emit(gr(e)?"touchStart":"dragStart",Er(e)),!gr(e)&&["img","a"].indexOf(Wn(vr(e)))>=0&&mr(e),Gt.x=Kt.x=t.clientX,Gt.y=Kt.y=t.clientY,I&&(Wt=parseFloat(j.style[Pe].replace(Re,"")),Yn(j,"0s"))}function _r(e){if(Jt){var t=pr(e);Gt.x=t.clientX,Gt.y=t.clientY,I?Vt||(Vt=a_((function(){wr(e)}))):("?"===qe&&(qe=yr()),qe&&(vt=!0)),("boolean"!=typeof e.cancelable||e.cancelable)&&vt&&e.preventDefault()}}function wr(e){if(qe){if(u_(Vt),Jt&&(Vt=a_((function(){wr(e)}))),"?"===qe&&(qe=yr()),qe){!vt&&gr(e)&&(vt=!0);try{e.type&&We.emit(gr(e)?"touchMove":"dragMove",Er(e))}catch(e){}var t=Wt,n=Yt(Gt,Kt);if(!L||Z||X)t+=n,t+="px";else t+=f?n*ie*100/((ne+te)*Ce):100*n/(ne+te),t+="%";j.style[Pe]=Re+t+Ae}}else Jt=!1}function kr(t){if(Jt){Vt&&(u_(Vt),Vt=null),I&&Yn(j,""),Jt=!1;var n=pr(t);Gt.x=n.clientX,Gt.y=n.clientY;var r=Yt(Gt,Kt);if(Math.abs(r)){if(!gr(t)){var i=vr(t);z_(i,{click:function e(t){mr(t),W_(i,{click:e})}})}I?Vt=a_((function(){if(L&&!X){var e=-r*ie/(ne+te);e=r>0?Math.floor(e):Math.ceil(e),Me+=e}else{var n=-(Wt+r);if(n<=0)Me=je;else if(n>=W[Ce-1])Me=Ue;else for(var i=0;i<Ce&&n>=W[i];)Me=i,n>W[i]&&r<0&&(Me+=1),i++}nr(t,r),We.emit(gr(t)?"touchEnd":"dragEnd",Er(t))})):qe&&ar(t,r>0?-1:1)}}"auto"===e.preventScrollOnTouch&&(vt=!1),Fe&&(qe="?"),me&&!Dt&&sr()}function xr(){(R||D).style.height=W[Me+ie]-W[Me]+"px"}function Ir(){var e=Z?(Z+te)*q/ne:q/ie;return Math.min(Math.ceil(e),q)}function Sr(){if(pe&&!st&&Ct!==Tt){var e=Tt,t=Ct,n=M_;for(Tt>Ct&&(e=Ct,t=Tt,n=L_);e<t;)n(It[e]),e++;Tt=Ct}}function Er(e){return{container:j,slideItems:F,navContainer:St,navItems:It,controlsContainer:yt,hasControls:ot,prevButton:_t,nextButton:wt,items:ie,slideBy:oe,cloneCount:Ee,slideCount:q,slideCountNew:Ce,index:Me,indexCached:De,displayIndex:Zt(),navCurrentIndex:Nt,navCurrentIndexCached:Pt,pages:Ct,pagesCached:Tt,sheet:ke,isOn:z,event:e||{}}}b&&console.warn("No slides found in",e.container)};function G_(e){var t=document.querySelector(".btn-open-trailer"),n=up.create('\n                <div class="modal">\n                        <iframe width="640" height="480" frameborder="0" allowfullscreen allow=\'autoplay\'\n                                src="https://www.youtube.com/embed/'.concat(e[0].key,'?autoplay=1" >\n                        </iframe>\n                        <button type="button" class="modal-trailer-close-btn">\n                                <svg width="35" height="35" fill="#fff" xmlns="http://www.w3.org/2000/svg" ><path d="m8 8 14 14M8 22 22 8" stroke="#000" stroke-width="2"></path></svg>\n                        </button>\n                </div>\n        '),{onShow:function(e){e.element().querySelector(".modal-trailer-close-btn").onclick=e.close}});t.addEventListener("click",(function(){n.show()}))}var J_=cp(),Y_=new Eb;function $_(e){if(window.screen.width>=1024)return e.map((function(e){var t,n=e.poster_path,r=e.id,i='<a><img src="'.concat((t=n,null===t?"https://wipfilms.net/wp-content/data/posters/tt0338683.jpg":"https://image.tmdb.org/t/p/w500".concat(t)),'" alt="" data-id="').concat(r,'"/></a>');return J_.slider.insertAdjacentHTML("beforeend",i)})),Q_(),Q_().play();Q_().destroy()}function Q_(){return K_({container:".slider",items:9,controlsContainer:".slider",navContainer:!1,navAsThumbnails:!1,autoplay:!0,autoplayTimeout:3e3,autoplayButton:!1,autoplayButtonOutput:!1,speed:1e3,nav:!1,rewind:!1,mouseDrag:!0})}J_.slider.addEventListener("click",(function(e){e.target.parentNode.classList.contains("tns-slide-active")&&(Y_.id=e.target.dataset.id,Y_.getMoviesById().then((function(e){Bp(e.data),Ob(".modal-card [data-key]"),setTimeout((function(){Y_.getMoviesTrailer().then((function(e){G_(e.data.results)}))}),500)})))}));var X_={};
/*!
 * TOAST UI Pagination
 * @version 3.4.1
 * @author NHN FE Development Team <dl_javascript@nhn.com>
 * @license MIT
 */!function(e,t){X_=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist",n(n.s=10)}([function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,a=Object.prototype.hasOwnProperty;for(i=1,o=arguments.length;i<o;i+=1)for(r in n=arguments[i])a.call(n,r)&&(e[r]=n[r]);return e}},function(e,t,n){"use strict";e.exports=function(e){return void 0===e}},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Array}},function(e,t,n){"use strict";var r=n(2),i=n(17),o=n(6);e.exports=function(e,t,n){r(e)?i(e,t,n):o(e,t,n)}},function(e,t,n){"use strict";e.exports=function(e){return"string"==typeof e||e instanceof String}},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Function}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r;for(r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break}},function(e,t,n){"use strict";var r=n(18),i=n(0);e.exports=function(e,t){var n;return t||(t=e,e=null),n=t.init||function(){},e&&r(n,e),t.hasOwnProperty("static")&&(i(n,t.static),delete t.static),i(n.prototype,t),n}},function(e,t,n){"use strict";var r=n(2);e.exports=function(e,t,n){var i,o;if(n=n||0,!r(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(o=t.length,i=n;n>=0&&i<o;i+=1)if(t[i]===e)return i;return-1}},function(e,t,n){"use strict";var r=n(29),i=n(30),o=n(5),a={capitalizeFirstLetter:function(e){return e.substring(0,1).toUpperCase()+e.substring(1,e.length)},isContained:function(e,t){return!!t&&(e===t||t.contains(e))},createElementByTemplate:function(e,t){var n=document.createElement("div"),i=o(e)?e(t):r(e,t);return n.innerHTML=i,n.firstChild},bind:function(e,t){var n,r=Array.prototype.slice;return e.bind?e.bind.apply(e,r.call(arguments,1)):(n=r.call(arguments,2),function(){return e.apply(t,n.length?n.concat(r.call(arguments)):arguments)})},sendHostName:function(){i("pagination","UA-129987462-1")}};e.exports=a},function(e,t,n){"use strict";n(11),e.exports=n(12)},function(e,t,n){},function(e,t,n){"use strict";var r=n(13),i=n(7),o=n(0),a=n(1),s=n(20),u=n(9),c={totalItems:10,itemsPerPage:10,visiblePages:10,page:1,centerAlign:!1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",usageStatistics:!0},l=i({init:function(e,t){this._options=o({},c,t),this._currentPage=0,this._view=new s(e,this._options,u.bind(this._onClickHandler,this)),this._paginate(),this._options.usageStatistics&&u.sendHostName()},_setCurrentPage:function(e){this._currentPage=e||this._options.page},_getLastPage:function(){var e=Math.ceil(this._options.totalItems/this._options.itemsPerPage);return e||1},_getPageIndex:function(e){var t;return this._options.centerAlign?(t=e-Math.floor(this._options.visiblePages/2),t=Math.max(t,1),t=Math.min(t,this._getLastPage()-this._options.visiblePages+1)):Math.ceil(e/this._options.visiblePages)},_getRelativePage:function(e){var t="prev"===e,n=this.getCurrentPage();return t?n-1:n+1},_getMorePageIndex:function(e){var t=this._getPageIndex(this.getCurrentPage()),n=this._options.visiblePages,r="prev"===e;return this._options.centerAlign?r?t-1:t+n:r?(t-1)*n:t*n+1},_convertToValidPage:function(e){var t=this._getLastPage();return e=Math.max(e,1),e=Math.min(e,t)},_paginate:function(e){var t=this._makeViewData(e||this._options.page);this._setCurrentPage(e),this._view.update(t)},_makeViewData:function(e){var t={},n=this._getLastPage(),r=this._getPageIndex(e),i=this._getPageIndex(n),o=this._getEdge(e);return t.leftPageNumber=o.left,t.rightPageNumber=o.right,t.prevMore=r>1,t.nextMore=r<i,t.page=e,t.currentPageIndex=e,t.lastPage=n,t.lastPageListIndex=n,t},_getEdge:function(e){var t,n,r,i=this._getLastPage(),o=this._options.visiblePages,a=this._getPageIndex(e);return this._options.centerAlign?(r=Math.floor(o/2),(n=(t=Math.max(e-r,1))+o-1)>i&&(t=Math.max(i-o+1,1),n=i)):(t=(a-1)*o+1,n=a*o,n=Math.min(n,i)),{left:t,right:n}},_onClickHandler:function(e,t){switch(e){case"first":t=1;break;case"prev":t=this._getRelativePage("prev");break;case"next":t=this._getRelativePage("next");break;case"prevMore":t=this._getMorePageIndex("prev");break;case"nextMore":t=this._getMorePageIndex("next");break;case"last":t=this._getLastPage();break;default:if(!t)return}this.movePageTo(t)},reset:function(e){a(e)&&(e=this._options.totalItems),this._options.totalItems=e,this._paginate(1)},movePageTo:function(e){e=this._convertToValidPage(e),this.invoke("beforeMove",{page:e})&&(this._paginate(e),this.fire("afterMove",{page:e}))},setTotalItems:function(e){this._options.totalItems=e},setItemsPerPage:function(e){this._options.itemsPerPage=e},getCurrentPage:function(){return this._currentPage||this._options.page}});r.mixin(l),e.exports=l},function(e,t,n){"use strict";var r=n(0),i=n(14),o=n(4),a=n(16),s=n(2),u=n(5),c=n(3),l=/\s+/g;function f(){this.events=null,this.contexts=null}f.mixin=function(e){r(e.prototype,f.prototype)},f.prototype._getHandlerItem=function(e,t){var n={handler:e};return t&&(n.context=t),n},f.prototype._safeEvent=function(e){var t,n=this.events;return n||(n=this.events={}),e&&((t=n[e])||(t=[],n[e]=t),n=t),n},f.prototype._safeContext=function(){var e=this.contexts;return e||(e=this.contexts=[]),e},f.prototype._indexOfContext=function(e){for(var t=this._safeContext(),n=0;t[n];){if(e===t[n][0])return n;n+=1}return-1},f.prototype._memorizeContext=function(e){var t,n;i(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1?t[n][1]+=1:t.push([e,1]))},f.prototype._forgetContext=function(e){var t,n;i(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1&&(t[n][1]-=1,t[n][1]<=0&&t.splice(n,1)))},f.prototype._bindEvent=function(e,t,n){var r=this._safeEvent(e);this._memorizeContext(n),r.push(this._getHandlerItem(t,n))},f.prototype.on=function(e,t,n){var r=this;o(e)?(e=e.split(l),c(e,(function(e){r._bindEvent(e,t,n)}))):a(e)&&(n=t,c(e,(function(e,t){r.on(t,e,n)})))},f.prototype.once=function(e,t,n){var r=this;if(a(e))return n=t,void c(e,(function(e,t){r.once(t,e,n)}));this.on(e,(function i(){t.apply(n,arguments),r.off(e,i,n)}),n)},f.prototype._spliceMatches=function(e,t){var n,r=0;if(s(e))for(n=e.length;r<n;r+=1)!0===t(e[r])&&(e.splice(r,1),n-=1,r-=1)},f.prototype._matchHandler=function(e){var t=this;return function(n){var r=e===n.handler;return r&&t._forgetContext(n.context),r}},f.prototype._matchContext=function(e){var t=this;return function(n){var r=e===n.context;return r&&t._forgetContext(n.context),r}},f.prototype._matchHandlerAndContext=function(e,t){var n=this;return function(r){var i=e===r.handler,o=t===r.context,a=i&&o;return a&&n._forgetContext(r.context),a}},f.prototype._offByEventName=function(e,t){var n=this,r=u(t),i=n._matchHandler(t);e=e.split(l),c(e,(function(e){var t=n._safeEvent(e);r?n._spliceMatches(t,i):(c(t,(function(e){n._forgetContext(e.context)})),n.events[e]=[])}))},f.prototype._offByHandler=function(e){var t=this,n=this._matchHandler(e);c(this._safeEvent(),(function(e){t._spliceMatches(e,n)}))},f.prototype._offByObject=function(e,t){var n,r=this;this._indexOfContext(e)<0?c(e,(function(e,t){r.off(t,e)})):o(t)?(n=this._matchContext(e),r._spliceMatches(this._safeEvent(t),n)):u(t)?(n=this._matchHandlerAndContext(t,e),c(this._safeEvent(),(function(e){r._spliceMatches(e,n)}))):(n=this._matchContext(e),c(this._safeEvent(),(function(e){r._spliceMatches(e,n)})))},f.prototype.off=function(e,t){o(e)?this._offByEventName(e,t):arguments.length?u(e)?this._offByHandler(e):a(e)&&this._offByObject(e,t):(this.events={},this.contexts=[])},f.prototype.fire=function(e){this.invoke.apply(this,arguments)},f.prototype.invoke=function(e){var t,n,r,i;if(!this.hasListener(e))return!0;for(t=this._safeEvent(e),n=Array.prototype.slice.call(arguments,1),r=0;t[r];){if(!1===(i=t[r]).handler.apply(i.context,n))return!1;r+=1}return!0},f.prototype.hasListener=function(e){return this.getListenerLength(e)>0},f.prototype.getListenerLength=function(e){return this._safeEvent(e).length},e.exports=f},function(e,t,n){"use strict";var r=n(1),i=n(15);e.exports=function(e){return!r(e)&&!i(e)}},function(e,t,n){"use strict";e.exports=function(e){return null===e}},function(e,t,n){"use strict";e.exports=function(e){return e===Object(e)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=0,i=e.length;for(n=n||null;r<i&&!1!==t.call(n,e[r],r,e);r+=1);}},function(e,t,n){"use strict";var r=n(19);e.exports=function(e,t){var n=r(t.prototype);n.constructor=e,e.prototype=n}},function(e,t,n){"use strict";e.exports=function(e){function t(){}return t.prototype=e,new t}},function(e,t,n){"use strict";var r=n(3),i=n(7),o=n(21),a=n(22),s=n(24),u=n(25),c=n(0),l=n(4),f=n(28),h=n(9),d={page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'},p=["first","prev","next","last"],v=["prev","next"],g=i({init:function(e,t,n){this._containerElement=null,this._firstItemClassName=t.firstItemClassName,this._lastItemClassName=t.lastItemClassName,this._template=c({},d,t.template),this._buttons={},this._enabledPageElements=[],this._setRootElement(e),this._setMoveButtons(),this._setDisabledMoveButtons(),this._setMoreButtons(),this._attachClickEvent(n)},_setRootElement:function(e){if(l(e)?e=document.getElementById(e)||document.querySelector(e):e.jquery&&(e=e[0]),!f(e))throw new Error("The container element is invalid.");this._containerElement=e},_setMoveButtons:function(){r(p,(function(e){this._buttons[e]=h.createElementByTemplate(this._template.moveButton,{type:e})}),this)},_setDisabledMoveButtons:function(){r(p,(function(e){var t="disabled"+h.capitalizeFirstLetter(e);this._buttons[t]=h.createElementByTemplate(this._template.disabledMoveButton,{type:e})}),this)},_setMoreButtons:function(){r(v,(function(e){var t=e+"More";this._buttons[t]=h.createElementByTemplate(this._template.moreButton,{type:e})}),this)},_getContainerElement:function(){return this._containerElement},_appendFirstButton:function(e){var t;t=e.page>1?this._buttons.first:this._buttons.disabledFirst,this._getContainerElement().appendChild(t)},_appendPrevButton:function(e){var t;t=e.currentPageIndex>1?this._buttons.prev:this._buttons.disabledPrev,this._getContainerElement().appendChild(t)},_appendNextButton:function(e){var t;t=e.currentPageIndex<e.lastPageListIndex?this._buttons.next:this._buttons.disabledNext,this._getContainerElement().appendChild(t)},_appendLastButton:function(e){var t;t=e.page<e.lastPage?this._buttons.last:this._buttons.disabledLast,this._getContainerElement().appendChild(t)},_appendPrevMoreButton:function(e){var t;e.prevMore&&(t=this._buttons.prevMore,u(t,this._firstItemClassName),this._getContainerElement().appendChild(t))},_appendNextMoreButton:function(e){var t;e.nextMore&&(t=this._buttons.nextMore,u(t,this._lastItemClassName),this._getContainerElement().appendChild(t))},_appendPages:function(e){var t,n,r=e.leftPageNumber,i=e.rightPageNumber;for(n=r;n<=i;n+=1)n===e.page?t=h.createElementByTemplate(this._template.currentPage,{page:n}):(t=h.createElementByTemplate(this._template.page,{page:n}),this._enabledPageElements.push(t)),n!==r||e.prevMore||u(t,this._firstItemClassName),n!==i||e.nextMore||u(t,this._lastItemClassName),this._getContainerElement().appendChild(t)},_attachClickEvent:function(e){var t=this._getContainerElement();a(t,"click",(function(t){var n,r,i=o(t);s(t),(r=this._getButtonType(i))||(n=this._getPageNumber(i)),e(r,n)}),this)},_getButtonType:function(e){var t,n=this._buttons;return r(n,(function(n,r){return!h.isContained(e,n)||(t=r,!1)}),this),t},_getPageNumber:function(e){var t,n=this._findPageElement(e);return n&&(t=parseInt(n.innerText,10)),t},_findPageElement:function(e){for(var t,n=0,r=this._enabledPageElements.length;n<r;n+=1)if(t=this._enabledPageElements[n],h.isContained(e,t))return t;return null},_empty:function(){this._enabledPageElements=[],r(this._buttons,(function(e,t){this._buttons[t]=e.cloneNode(!0)}),this),this._getContainerElement().innerHTML=""},update:function(e){this._empty(),this._appendFirstButton(e),this._appendPrevButton(e),this._appendPrevMoreButton(e),this._appendPages(e),this._appendNextMoreButton(e),this._appendNextButton(e),this._appendLastButton(e)}});e.exports=g},function(e,t,n){"use strict";e.exports=function(e){return e.target||e.srcElement}},function(e,t,n){"use strict";var r=n(4),i=n(3),o=n(23);function a(e,t,n,r){function a(t){n.call(r||e,t||window.event)}"addEventListener"in e?e.addEventListener(t,a):"attachEvent"in e&&e.attachEvent("on"+t,a),function(e,t,n,r){var a=o(e,t),s=!1;i(a,(function(e){return e.handler!==n||(s=!0,!1)})),s||a.push({handler:n,wrappedHandler:r})}(e,t,n,a)}e.exports=function(e,t,n,o){r(t)?i(t.split(/\s+/g),(function(t){a(e,t,n,o)})):i(t,(function(t,r){a(e,r,t,n)}))}},function(e,t,n){"use strict";var r="_feEventKey";e.exports=function(e,t){var n,i=e[r];return i||(i=e[r]={}),(n=i[t])||(n=i[t]=[]),n}},function(e,t,n){"use strict";e.exports=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}},function(e,t,n){"use strict";var r=n(3),i=n(8),o=n(26),a=n(27);e.exports=function(e){var t,n=Array.prototype.slice.call(arguments,1),s=e.classList,u=[];s?r(n,(function(t){e.classList.add(t)})):((t=o(e))&&(n=[].concat(t.split(/\s+/),n)),r(n,(function(e){i(e,u)<0&&u.push(e)})),a(e,u))}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e){return e&&e.className?r(e.className.baseVal)?e.className:e.className.baseVal:""}},function(e,t,n){"use strict";var r=n(2),i=n(1);e.exports=function(e,t){t=(t=r(t)?t.join(" "):t).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),i(e.className.baseVal)?e.className=t:e.className.baseVal=t}},function(e,t,n){"use strict";e.exports=function(e){return"object"==typeof HTMLElement?e&&(e instanceof HTMLElement||!!e.nodeType):!(!e||!e.nodeType)}},function(e,t,n){"use strict";var r=n(8),i=n(3),o=n(2),a=n(4),s=n(0),u=/{{\s?|\s?}}/g,c=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,l=/\[\s?|\s?\]/,f=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,h=/\./,d=/^["']\w+["']$/,p=/"|'/g,v=/^-?\d+\.?\d*$/,g={if:function(e,t,n){var r=function(e,t){var n=[e],r=[],o=0,a=0;return i(t,(function(e,i){0===e.indexOf("if")?o+=1:"/if"===e?o-=1:o||0!==e.indexOf("elseif")&&"else"!==e||(n.push("else"===e?["true"]:e.split(" ").slice(1)),r.push(t.slice(a,i)),a=i+1)})),r.push(t.slice(a)),{exps:n,sourcesInsideIf:r}}(e,t),o=!1,a="";return i(r.exps,(function(e,t){return(o=_(e,n))&&(a=w(r.sourcesInsideIf[t],n)),!o})),a},each:function(e,t,n){var r=_(e,n),a=o(r)?"@index":"@key",u={},c="";return i(r,(function(e,r){u[a]=r,u["@this"]=e,s(n,u),c+=w(t.slice(),n)})),c},with:function(e,t,n){var i=r("as",e),o=e[i+1],a=_(e.slice(0,i),n),u={};return u[o]=a,w(t,s(n,u))||""}},m=3==="a".split(/a/).length?function(e,t){return e.split(t)}:function(e,t){var n,r,i=[],o=0;for(t.global||(t=new RegExp(t,"g")),n=t.exec(e);null!==n;)r=n.index,i.push(e.slice(o,r)),o=r+n[0].length,n=t.exec(e);return i.push(e.slice(o)),i};function y(e,t){var n,r=t[e];return"true"===e?r=!0:"false"===e?r=!1:d.test(e)?r=e.replace(p,""):c.test(e)?r=y((n=e.split(l))[0],t)[y(n[1],t)]:f.test(e)?r=y((n=e.split(h))[0],t)[n[1]]:v.test(e)&&(r=parseFloat(e)),r}function b(e,t,n){for(var r,i,o,s,u=g[e],c=1,l=2,f=t[l];c&&a(f);)0===f.indexOf(e)?c+=1:0===f.indexOf("/"+e)&&(c-=1,r=l),f=t[l+=2];if(c)throw Error(e+" needs {{/"+e+"}} expression.");return t[0]=u(t[0].split(" ").slice(1),(i=0,o=r,(s=t.splice(i+1,o-i)).pop(),s),n),t}function _(e,t){var n=y(e[0],t);return n instanceof Function?function(e,t,n){var r=[];return i(t,(function(e){r.push(y(e,n))})),e.apply(null,r)}(n,e.slice(1),t):n}function w(e,t){for(var n,r,i,o=1,s=e[o];a(s);)r=(n=s.split(" "))[0],g[r]?(i=b(r,e.splice(o,e.length-o),t),e=e.concat(i)):e[o]=_(n,t),s=e[o+=2];return e.join("")}e.exports=function(e,t){return w(m(e,u),t)}},function(e,t,n){"use strict";var r=n(1),i=n(31);e.exports=function(e,t){var n=location.hostname,o="TOAST UI "+e+" for "+n+": Statistics",a=window.localStorage.getItem(o);(r(window.tui)||!1!==window.tui.usageStatistics)&&(a&&!function(e){return(new Date).getTime()-e>6048e5}(a)||(window.localStorage.setItem(o,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||i("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:n,dp:n,dh:e,el:e,ec:"use"})}),1e3)))}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t){var n=document.createElement("img"),i="";return r(t,(function(e,t){i+="&"+t+"="+e})),i=i.substring(1),n.src=e+"?"+i,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}}])}));var Z_=new Eb,ew=cp();function tw(t){var n=document.getElementById("tui-pagination-container"),r={totalItems:t,itemsPerPage:20,visiblePages:5,page:1,centerAlign:!0,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}},i=window.matchMedia("(max-width: 768px)");function o(e){e.matches&&(r.visiblePages=3)}i.addEventListener("change",o),o(i),new(e(X_))(n,r).on("afterMove",(function(e){ew.gallery.innerHTML="",Z_.page=e.page,Z_.getPopularMovies().then((function(e){dp(e.data.results)}))}))}var nw=new Eb,rw=cp();function iw(){rw.gallery.innerHTML="",nw.resetPage(),nw.getPopularMovies().then((function(e){tw(e.data.total_results),dp(e.data.results),document.querySelector(".gallery").addEventListener("click",(function(e){nw.id=e.target.dataset.id,nw.getMoviesById().then((function(e){Bp(e.data),Ob(".modal-card [data-key]")})),setTimeout((function(){nw.getMoviesTrailer().then((function(e){G_(e.data.results)}))}),500)}))}))}arrowTop.onclick=function(){window.scrollTo({pageXOffset:pageXOffset,top:0,behavior:"smooth"})},window.addEventListener("scroll",(function(){arrowTop.hidden=pageYOffset<document.documentElement.clientHeight})),nw.getUpcomingMovies().then((function(e){$_(e.data.results)}));var ow=cp();ow.libraryPage.addEventListener("click",(function(e){e.preventDefault(),ow.form.classList.add("is-hidden"),ow.btnSectionInLibrary.classList.remove("is-hidden"),ow.btnSectionInLibrary.classList.add("btn-list"),ow.homePage.classList.remove("current"),ow.libraryPage.classList.add("current"),ow.headerByClass.classList.remove("header"),ow.headerByTeg.classList.add("header-library"),ow.search.classList.add("is-hidden"),ow.pagination.classList.add("pagination-off"),ow.search.innerHTML=""}));var aw;function sw(e,t,n){var r,i,o,a,s;function u(){var c=Date.now()-a;c<t&&c>=0?r=setTimeout(u,t-c):(r=null,n||(s=e.apply(o,i),o=i=null))}null==t&&(t=100);var c=function(){o=this,i=arguments,a=Date.now();var c=n&&!r;return r||(r=setTimeout(u,t)),c&&(s=e.apply(o,i),o=i=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=e.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}sw.debounce=sw,aw=sw;var uw=new Eb,cw=cp();function lw(t,n){var r=document.getElementById("tui-pagination-container"),i={totalItems:t,itemsPerPage:20,visiblePages:5,page:1,centerAlign:!0,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}},o=window.matchMedia("(max-width: 768px)");function a(e){e.matches&&(i.visiblePages=3)}o.addEventListener("change",a),a(o);var s=new(e(X_))(r,i);s.off("afterMove",(function(e){cw.gallery.innerHTML="",uw.page=e.page,uw.getPopularMovies().then((function(e){dp(e.data.results)}))})),s.on("afterMove",(function(e){uw.page=e.page,cw.gallery.innerHTML="",uw.query=n,uw.getSearchMovies().then((function(e){dp(e.data.results)}))}))}var fw=e(xp).apifilms.failure,hw=new Eb,dw=cp();dw.form.addEventListener("input",e(aw)((function(e){e.preventDefault(),hw.resetPage();var t=dw.searchInput.value;if(""===t)return void iw();dw.gallery.innerHTML="",function(e,t){hw.query=e,hw.getSearchMovies().then((function(n){lw(n.data.total_results,e),0!==n.data.results.length?t(n.data.results):s.Notify.failure(kp(fw))}))}(t,dp)}),500));var pw=new Eb,vw=cp();function gw(){try{"dark"===localStorage.getItem("theme")?(document.querySelector(".bg").classList.add("dark"),document.querySelector(".themetoggle span").textContent="nightlight_round"):(document.querySelector(".bg").classList.remove("dark"),document.querySelector(".themetoggle span").textContent="wb_sunny")}catch(e){}}vw.form.addEventListener("submit",(function(e){e.preventDefault();var t=e.currentTarget.elements.searchQuery;vw.gallery.innerHTML="",pw.query=t.value,pw.getSearchMovies().then((function(e){console.log(e.data),dp(e.data.results),lw(e.data.total_results,t)})),t.value=""})),iw(),document.querySelector(".themetoggle").addEventListener("click",(function(e){e.preventDefault(),"dark"===localStorage.getItem("theme")?localStorage.removeItem("theme"):localStorage.setItem("theme","dark"),gw()})),gw()}();
//# sourceMappingURL=index.72490270.js.map
